<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å°æ–‡çš„èŒ¶ï½œé¸èŒ¶å™¨</title>
  <style>
    :root{
      --bg:#faf7f2;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#2f4f3a;
      --soft:#f4efe6;
      --shadow: 0 8px 30px rgba(0,0,0,.06);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: system-ui,-apple-system,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;line-height:1.55}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:18px}
    .hero{background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.6));border:1px solid var(--line);border-radius:24px;box-shadow:var(--shadow);overflow:hidden}
    .heroImg{height:140px;background-size:cover;background-position:center}
    .heroBody{padding:18px 18px 8px}
    h1{margin:0 0 8px;font-size:22px;letter-spacing:.5px}
    .lead{margin:0;color:var(--muted)}
    .notice{margin:12px 0 0;padding:10px 12px;background:var(--soft);border:1px solid var(--line);border-radius:12px;color:#374151;font-size:14px}

    /* Mobile first: single column */
    .grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}

    @media (min-width:900px){
      .grid{grid-template-columns: 1.1fr .9fr;}
      .heroImg{height:180px}
    }

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow)}
    .cardHd{padding:14px 14px 0}
    .cardBd{padding:14px}
    .title{font-weight:700;margin:0 0 6px}
    .sub{color:var(--muted);font-size:14px;margin:0}

    .q{margin:0 0 10px;font-weight:700}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:520px){ .options{grid-template-columns:1fr 1fr;} }
    .opt{
      text-align:left; padding:12px; border:1px solid var(--line); border-radius:14px;
      background:#fff; cursor:pointer; transition:.12s; position:relative;
    }
    .opt:hover{transform: translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .opt small{display:block;color:var(--muted);margin-top:4px}
    .opt.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.18)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{font-size:12px;color:#374151;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:10px 14px;cursor:pointer}
    .btnPri{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn:active{transform:scale(.99)}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}

    /* Cart bar */
    .cartbar{
      position:sticky; top:0; z-index:50;
      background:rgba(250,247,242,.92); backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .cartinner{max-width:980px;margin:0 auto;padding:10px 18px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .cartleft{display:flex;gap:10px;align-items:center;min-width:0}
    .cartcount{font-weight:700}
    .cartitems{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:58vw}

    /* Drawer as modal */
    .drawer{display:none}
    .drawer.open{display:block}
    .modalMask{
      position:fixed; inset:0; background:rgba(0,0,0,.35);
      display:flex; align-items:flex-start; justify-content:center;
      padding:10px; z-index:80;
    }
    .modal{
      width:min(980px, 100%);
      margin-top:10px;
      background:#fff; border-radius:18px; overflow:hidden;
      border:1px solid var(--line); box-shadow:0 20px 60px rgba(0,0,0,.25);
    }
    .modalTop{
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 14px;
      background:rgba(250,247,242,.92);
      border-bottom:1px solid var(--line);
    }
    .modalTop .x{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer}
    .drawerBody{padding:14px}

    .item{border:1px solid var(--line);border-radius:14px;padding:10px;background:#fff}
    .itemTop{display:flex;justify-content:space-between;gap:10px}
    .itemName{font-weight:700;margin:0}
    .itemMeta{margin:2px 0 0;color:var(--muted);font-size:13px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:30px;height:30px;border-radius:10px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .qty span{min-width:18px;text-align:center}
    .danger{color:#b91c1c}

    /* Results */
    .result{display:grid;grid-template-columns:1fr;gap:12px}
    .rCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .rImg{height:120px;background:#f3f4f6;background-size:cover;background-position:center}
    .rBd{padding:12px}
    .rName{margin:0 0 4px;font-weight:800}
    .rMeta{margin:0;color:var(--muted);font-size:13px}
    .why{margin:10px 0 0;color:#374151;font-size:14px}
    .why li{margin:4px 0}
    .footnote{font-size:12px;color:var(--muted);margin-top:10px}

    /* Catalog */
    .catalogHdRow{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
    .search{display:flex;gap:8px;align-items:center}
    .search input{
      width:min(420px, 80vw);
      border:1px solid var(--line); border-radius:999px;
      padding:10px 12px;
      background:#fff;
    }
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer;font-size:13px}
    .tab.active{background:var(--accent);border-color:var(--accent);color:#fff}
    .catalogGrid{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:700px){ .catalogGrid{grid-template-columns:1fr 1fr;} }
    .pCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden;position:relative}
    .pBd{padding:12px}
    .pTop{display:flex;justify-content:space-between;gap:10px;align-items:flex-start}
    .pName{margin:0 0 4px;font-weight:800}
    .pMeta{margin:0;color:var(--muted);font-size:13px}
    .pPrice{margin:8px 0 0;font-weight:800}
    .pTags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
    .tag{font-size:12px;border:1px solid var(--line);background:var(--soft);border-radius:999px;padding:4px 8px;color:#374151}

    /* --- Auto "no-photo" images (category gradients) --- */
    .rImg, .pCard::before{
      content:"";
      display:block;
      background-size:cover;
      background-position:center;
    }
    .rImg{ height:120px; }
    .pCard::before{
      height:110px;
      border-bottom:1px solid var(--line);
    }
    .img-tea{
      background-image:
        radial-gradient(circle at 28% 32%, rgba(255,255,255,.92), rgba(255,255,255,0) 55%),
        radial-gradient(circle at 70% 45%, rgba(47,79,58,.22), rgba(47,79,58,0) 55%),
        linear-gradient(135deg, rgba(47,79,58,.18), rgba(0,0,0,0)),
        repeating-linear-gradient(45deg, rgba(255,255,255,.10) 0 10px, rgba(255,255,255,0) 10px 20px);
    }
    .img-other{
      background-image:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.93), rgba(255,255,255,0) 55%),
        radial-gradient(circle at 70% 42%, rgba(180,120,40,.22), rgba(180,120,40,0) 55%),
        linear-gradient(135deg, rgba(180,120,40,.14), rgba(0,0,0,0)),
        repeating-linear-gradient(45deg, rgba(255,255,255,.10) 0 10px, rgba(255,255,255,0) 10px 20px);
    }

    /* Footer anti-copy (light) */
    footer{margin-top:14px}
    .footerBox{
      border-top:1px solid var(--line);
      padding:14px 0 6px;
      color:var(--muted);
      font-size:12px;
    }
  </style>
</head>

<body>
  <!-- ä½ åªè¦æ”¹é€™æ®µè³‡æ–™å°±å¥½ -->
  <script>
    const CONFIG = {
      brandTitle: "å°æ–‡çš„èŒ¶",
      heroTitle: "ä¸ç”¨æ‡‚èŒ¶ï¼Œä¹Ÿèƒ½é¸åˆ°é©åˆçš„å°ç£èŒ¶",
      heroText: "æˆ‘å€‘æŠŠæ¥è§¸ä¸åŒç”¢åœ°ã€ä¸åŒè£½ç¨‹çš„ç¶“é©—æ•´ç†æˆé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ç”¨ç™½è©±é¸é …å°±èƒ½æŒ‘åˆ°åˆé©çš„é¸æ“‡ã€‚",
      noSampleNotice: "å°æœ¬ç¶“ç‡Ÿï¼Œæ²’æœ‰æä¾›è©¦å–åŒ…ï¼Œé€éé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ä¾ç…§éœ€æ±‚é¸æ“‡åˆé©çš„å•†å“ã€‚",
      imageNote: "åœ–ç‰‡ç‚ºæƒ…å¢ƒç¤ºæ„ï¼Œå¯¦éš›å•†å“ä»¥å‡ºè²¨å…§å®¹ç‚ºæº–ã€‚",
      unitNote: "å–®ä½èªªæ˜ï¼š1 å…© â‰ˆ 37.5gï½œ1 æ–¤ â‰ˆ 600g",
      // ä¹‹å¾Œä½ ç²‰å°ˆå¥½äº†ï¼ŒæŠŠ m.me/xxxx è²¼åœ¨é€™è£¡ï¼ˆç¾åœ¨ç•™ç©ºæœƒç”¨ã€Œè¤‡è£½ä¸‹å–®å…§å®¹ã€ï¼‰
      messengerUrl: "",

      // é¡Œç›®ï¼ˆç™½è©±ç‰ˆï¼‰
      questions: [
        {
          key: "category",
          title: "Q1ï½œé€™æ¬¡æ‚¨æƒ³æ‰¾çš„æ˜¯ï¼Ÿ",
          options: [
            { value: "tea",   label: "ğŸµ èŒ¶",           note: "æ—¥å¸¸é£²ç”¨ã€é€ç¦®çš†å¯" },
            { value: "other", label: "ğŸ å…¶ä»–ç‰¹è‰²å•†å“", note: "é¦™è‡ã€èŒ¶ç±½æ²¹ã€èŠ±èœœã€é™³çš®æ¢…é†¬ã€æ¸…æ½”ç”¨èŒ¶ç±½ç²‰" },
            { value: "pick",  label: "ğŸ² ä½ å¹«æˆ‘æŒ‘",     note: "ä¸ç”¨æƒ³å¤ªå¤šï¼Œäº¤çµ¦æˆ‘å€‘å¹«æ‚¨æ­é…" }
          ]
        },
        {
          key: "use",
          title: "Q2ï½œé€™æ¬¡æ˜¯ï¼Ÿ",
          options: [
            { value: "self",   label: "ğŸ«– è‡ªå·±å–ï¼è‡ªå·±ç”¨", note: "å¹³å¸¸å–ã€æ—¥å¸¸ä½¿ç”¨" },
            { value: "gift",   label: "ğŸ é€äºº",          note: "å¸Œæœ›å°æ–¹æ”¶åˆ°ä¸å¤±ç¦®" },
            { value: "unsure", label: "ğŸ¤· ä¸ç¢ºå®š",        note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨åˆ¤æ–·" }
          ]
        },
        {
          key: "feel",
          title: "Q3ï½œæ‚¨å¸Œæœ›å–èµ·ä¾†çš„æ„Ÿè¦ºæ˜¯ï¼Ÿ",
          options: [
            { value: "light",    label: "ğŸŒ¸ æ¸…é¦™ã€é †å£å‹", note: "é¦™æ°£ç´°ç·»ï¼Œå£æ„Ÿæ¸…çˆ½ï¼Œä¸åšä¸è‹¦" },
            { value: "balanced", label: "ğŸ™‚ å¹³è¡¡è€å–å‹",   note: "é¦™æ°£èˆ‡å£æ„Ÿéƒ½æœ‰ï¼Œä½†ä¸åˆºæ¿€" },
            { value: "bold",     label: "ğŸ”¥ é¦™æ°£åšå¯¦å‹",   note: "é¦™æ°£æ˜é¡¯ï¼Œå£æ„Ÿè¼ƒåš" },
            { value: "pick",     label: "ğŸ² äº¤çµ¦ä½ å€‘å¹«æˆ‘é¸", note: "ä¾å‰é¢æ¢ä»¶å”åŠ©æ¨è–¦" }
          ]
        },
        {
          key: "budget",
          title: "Q4ï½œé€™æ¬¡é ç®—å¤§æ¦‚è½åœ¨å“ªï¼Ÿ",
          options: [
            { value: "daily",  label: "ğŸ’° æ—¥å¸¸å–çš„é ç®—",       note: "å¤§ç´„å¹¾ç™¾å…ƒç­‰ç´š" },
            { value: "gift",   label: "ğŸ æƒ³å–å¥½ä¸€é»ï¼é€äºº",   note: "å¸¸è¦‹é€ç¦®åƒ¹ä½" },
            { value: "flavor", label: "â­ è¬›ç©¶é¢¨å‘³",           note: "é¢¨å‘³è¡¨ç¾æ˜é¡¯ï¼Œåƒ¹æ ¼è¼ƒé«˜" },
            { value: "rare",   label: "ğŸ‘‘ çè—ç­‰ç´š",           note: "åƒ¹æ ¼è¼ƒé«˜ï¼Œè¿½æ±‚å“è³ªèˆ‡ç¨€æœ‰æ€§" }
          ]
        },
        {
          key: "flavor",
          title: "Q5ï½œæ‚¨æ¯”è¼ƒåå¥½å“ªä¸€ç¨®ï¼Ÿ",
          options: [
            { value: "fresh", label: "ğŸŒ¿ æ¸…é¦™å‹", note: "åƒèŠ±é¦™ã€è‰é¦™ï¼Œæ¸…æ¸…çš„" },
            { value: "roast", label: "ğŸ”¥ ç„™é¦™å‹", note: "åƒçƒ¤éã€æº«æš–çš„é¦™æ°£" },
            { value: "sweet", label: "ğŸ¯ ç”œæ„Ÿå‹", note: "èœœé¦™ã€å›ç”˜ã€ä¸è‹¦" },
            { value: "pick",  label: "ğŸ² ä¸çŸ¥é“", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨æŒ‘" }
          ]
        }
      ],

      // å•†å“ç›®éŒ„ï¼ˆå®Œæ•´ 39 é …ï¼‰
      // NOTE: ä½ èªªã€Œè¦æ ¼ä¸èƒ½é¸ï¼Œç…§ç›®éŒ„ï¼Œåªé¸æ•¸é‡ã€â†’ é€™è£¡æ¯ä¸€ç­†å°±æ˜¯ä¸€å€‹å¯ä¸‹å–®å“é …
      products: [
        // 1-27 èŒ¶è‘‰ï¼ˆæ•£èŒ¶/ç‰¹åˆ¥èŒ¶ï¼‰
        {type:"tea", item:"1",  name:"ç¶œåˆçƒ˜ç„™å† è»èŒ¶æ", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:"NT$ 200", note:"ä¸€åŒ…200å…ƒï¼›æ¯”è³½åŠŸå¤«åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶æã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["daily","gift"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"2",  name:"ç¶œåˆçƒ˜ç„™èŒ¶ï¼ˆå¤§å£ºèŒ¶ï¼‰", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:"NT$ 500", note:"ä¸€åŒ…500å…ƒï¼›åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶ã€‚", tags:{use:["self"], feel:["balanced","bold"], budget:["daily","gift"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"3",  name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆæ­¡æ¨‚èŒ¶åœ’ï¼‰", origin:"é›²æ—å¤å‘", pack:"åŠæ–¤è£", price:"NT$ 600", note:"ä¸€åŒ…300å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily"], flavor:["fresh","sweet"]}, priority:2},
        {type:"tea", item:"3A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 70", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…14å…ƒã€‚", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"3A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 400", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…13.4å…ƒã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"4",  name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é›²æ—å¤å‘", pack:"å››å…©è£", price:"NT$ 800", note:"ä¸€åŒ…200å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›æ¡æ¯”è³½èŒ¶çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["daily","gift"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"4A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 70", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…14å…ƒã€‚", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"4A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 400", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…13.4å…ƒã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"5",  name:"æ©Ÿæ¡ç´…èŒ¶ï¼ˆç¢èŒ¶ï¼‰", origin:"å—æŠ•ç«¹å±±", pack:"å››å…©è£", price:"NT$ 800", note:"ä¸€åŒ…200å…ƒï¼›é‡ç™¼é…µï¼›é‡çƒ˜ç„™ï¼›é¾çœ¼ä¹¾é¦™", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["daily","gift"], flavor:["roast","sweet"]}, priority:2},
        {type:"tea", item:"6",  name:"é¦™ç‰‡ï¼ˆèŒ‰è‰èŠ±èŒ¶ï¼‰", origin:"å—æŠ•", pack:"å››å…©è£", price:"NT$ 1200", note:"ä¸€åŒ…300å…ƒï¼›è¼•ç™¼é…µï¼›è¼•çƒ˜ç„™è–°èŒ‰è‰èŠ±ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:2},
        {type:"tea", item:"7",  name:"æ‹›ç‰Œæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶19è™Ÿ ç¢§ç‰ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:"NT$ 1200", note:"ä¸€åŒ…600å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh","sweet"]}, priority:3},
        {type:"tea", item:"7A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 80", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…16å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"7A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 540", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…18å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"8",  name:"ç´…çƒé¾ï¼ˆçƒç‹€çƒå‹ç´…èŒ¶ï¼‰", origin:"å°æ±é¹¿é‡", pack:"å››å…©è£", price:"NT$ 1600", note:"ä¸€åŒ…400å…ƒï¼›æ˜é¡¯ç³–é¦™ï¼›æ°´ç”œ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["sweet"]}, priority:3},
        {type:"tea", item:"8A", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 86", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…17.2å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["sweet"]}, priority:1},
        {type:"tea", item:"8A", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 610", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…20.4å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["sweet"]}, priority:1},

        {type:"tea", item:"9",  name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°åŠå¤©ï¼‰", origin:"é¹¿è°·å°åŠå¤©", pack:"åŠæ–¤è£", price:"NT$ 1600", note:"ä¸€åŒ…800å…ƒï¼›é‡ç™¼é…µï¼›é‡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["bold"], budget:["gift","flavor"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"10", name:"é ‚ç´šæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶20è™Ÿ è¿é¦™ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:"NT$ 1600", note:"ä¸€åŒ…800å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh","sweet"]}, priority:3},
        {type:"tea", item:"10A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 84", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…16.8å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"10A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 584", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…19.6å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"11", name:"æ‰‹æ¡çƒé¾èŒ¶", origin:"æ‹‰æ‹‰å±±ï¼å£«åŒªå±±", pack:"åŠæ–¤è£", price:"NT$ 1600", note:"ä¸€åŒ…800å…ƒï¼›é‡ç™¼é…µï¼›è¼•çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["gift","flavor"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"11A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 94", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…18.8å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"11A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 680", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…22.8å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"12", name:"æ‰‹æ¡é‡‘è±èŒ¶", origin:"æ‰æ—æºªï¼é¹¿è°·é³³å‡°å±±", pack:"åŠæ–¤è£", price:"NT$ 2000", note:"ä¸€åŒ…1000å…ƒï¼›è¼•æœé¦™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh","sweet"]}, priority:2},
        {type:"tea", item:"12A", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 100", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…20å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["sweet"]}, priority:1},
        {type:"tea", item:"12A", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 750", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…25å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["sweet"]}, priority:1},

        {type:"tea", item:"13", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶", origin:"é˜¿é‡Œå±±ï¼æ¢…å±±é¾ç›®æ¨“ï¼ˆ1550mï¼‰", pack:"å››å…©è£", price:"NT$ 2400", note:"ä¸€åŒ…600å…ƒï¼›ä¸­é‡ç™¼é…µèŠ±æœé¦™", tags:{use:["gift"], feel:["balanced"], budget:["flavor","rare"], flavor:["sweet","fresh"]}, priority:2},
        {type:"tea", item:"13A", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï½œå°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 114", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…22.8å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["sweet"]}, priority:1},
        {type:"tea", item:"13A", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï½œå¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 890", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…29.8å…ƒ", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift"], flavor:["sweet"]}, priority:1},

        {type:"tea", item:"14", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼çƒé¾èŒ¶ï¼ˆå¤šæ¬¾å¯æŒ‘ï¼‰", origin:"é”é‚¦ï¼ç¾Šä»”ç£", pack:"å››å…©è£", price:"NT$ 3200", note:"ä¸€åŒ…800å…ƒï¼›å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸", tags:{use:["gift"], feel:["balanced","bold"], budget:["flavor","rare"], flavor:["fresh","roast","sweet"]}, priority:2},
        {type:"tea", item:"14A-1", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ‰æ—æºªç¾Šä»”ç£ï½œèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", pack:"çœŸç©ºè¢‹", price:"NT$ 140", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…28å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"14A-1", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ‰æ—æºªç¾Šä»”ç£ï½œèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", pack:"çœŸç©ºè¢‹", price:"NT$ 1140", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"14A-2", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé˜¿é‡Œå±±é”é‚¦ï½œèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", pack:"çœŸç©ºè¢‹", price:"NT$ 140", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…28å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"14A-2", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé˜¿é‡Œå±±é”é‚¦ï½œèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", pack:"çœŸç©ºè¢‹", price:"NT$ 1140", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"15", name:"ç„¦ç³–é¦™æ‰‹æ¡ç´…èŒ¶", origin:"å—æŠ•é­šæ± æ—¥æœˆæ½­", pack:"ä¸€é»äº”å…©è£", price:"NT$ 3200", note:"ä¸€åŒ…300å…ƒï¼ˆæ—¥æœˆæ½­ç¨æœ‰ç„¦ç³–é¦™æ°£ï¼‰", tags:{use:["gift"], feel:["balanced","bold"], budget:["flavor","rare"], flavor:["sweet","roast"]}, priority:2},
        {type:"tea", item:"16", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼é‡‘è±èŒ¶ï¼ˆå¤šæ¬¾å¯æŒ‘ï¼‰", origin:"ä¿¡ç¾©é›™é¾ï¼æ‰æ—æºªè»Ÿéï¼ç‰å±±ç¥æœ¨æ‘ï¼ç‰¹å¯Œé‡ï¼æ¸…å¢ƒï¼æ–°ä½³é™½æ¢¨å±±", pack:"å››å…©è£", price:"NT$ 4000", note:"ä¸€åŒ…1000å…ƒï¼›å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸", tags:{use:["gift"], feel:["balanced","bold"], budget:["flavor","rare"], flavor:["fresh","roast","sweet"]}, priority:2},
        {type:"tea", item:"16A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï½œèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±", pack:"çœŸç©ºè¢‹", price:"NT$ 160", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…32å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"16A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï½œèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±", pack:"çœŸç©ºè¢‹", price:"NT$ 1310", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…43.8å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"17", name:"æ¡‚èŠ±é‡‘è±ï¼ˆé™é‡ï¼‰", origin:"æ¢¨å±±", pack:"å››å…©è£", price:"NT$ 4000", note:"æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›æ¡‚èŠ±é¦™æ°£èˆ’é©ï¼ŒèŒ¶æ°´æ¸…ç”œ", tags:{use:["gift"], feel:["light","balanced"], budget:["flavor","rare"], flavor:["fresh","sweet"]}, priority:2},
        {type:"tea", item:"18", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±", pack:"å››å…©è£", price:"NT$ 4800", note:"ä¸€åŒ…1200å…ƒï¼›æ­£å¸¸ç™¼é…µåé‡ï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["flavor","rare"], flavor:["fresh","sweet"]}, priority:2},
        {type:"tea", item:"18A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 170", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…34å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"18A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 1450", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…48.4å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"19", name:"èŠ±æœèœœæ¾é¦™æ‰‹æ¡ç´…èŒ¶", origin:"æ¢¨å±±", pack:"äºŒå…©è£ï¼ˆå«è¢‹40gï¼‰", price:"NT$ 4800", note:"ä¸€åŒ…300å…ƒï¼ˆå¤šå±¤æ¬¡å£æ„Ÿé¦™æ°£ï¼‰", tags:{use:["gift"], feel:["balanced"], budget:["flavor","rare"], flavor:["sweet"]}, priority:2},

        {type:"tea", item:"20", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç‰å±±å¡”å¡”åŠ ï¼å¤§ç¦¹å¶º", pack:"å››å…©è£", price:"NT$ 5600", note:"ä¸€åŒ…1400å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh","sweet"]}, priority:2},
        {type:"tea", item:"20A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 180", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…36å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"20A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 1520", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…50.8å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"21", name:"æ‰‹æ¡é’å¿ƒçƒé¾ç´…èŒ¶", origin:"å¤§ç¦¹å¶º", pack:"èŒ¶è‘‰æ·¨é‡30g", price:"NT$ 6000", note:"ä¸€åŒ…300å…ƒ", tags:{use:["gift"], feel:["balanced","bold"], budget:["rare"], flavor:["sweet"]}, priority:1},
        {type:"tea", item:"22", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ‰æ—æºªé¾é³³å³½ï¼ˆå¿˜æ†‚æ£®æ—ï¼‰", pack:"å››å…©è£", price:"NT$ 6400", note:"ä¸€åŒ…1600å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh","sweet"]}, priority:1},
        {type:"tea", item:"22A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 190", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"22A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 1660", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…55.4å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"23", name:"é«˜å±±èŒ¶ç‹æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’ç²¾è£½èŒ¶", origin:"", pack:"äºŒå…©è£", price:"NT$ 7200", note:"ä¸€åŒ…900å…ƒï¼›ä¸­é‡ç™¼é…µï¼›æ¯”è³½å‹ç²¾ç·»çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["bold"], budget:["rare"], flavor:["roast"]}, priority:1},
        {type:"tea", item:"23A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 190", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"23A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 1660", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…55.4å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"24", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±å¤©æ± ", pack:"äºŒå…©è£", price:"NT$ 8000", note:"ä¸€åŒ…1000å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›èŠ±æœé¦™", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["sweet","fresh"]}, priority:1},
        {type:"tea", item:"24A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 246", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…49.2å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"24A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 2200", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…73.4å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"25", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç¦å£½å±±è¯å´—", pack:"äºŒå…©è£", price:"NT$ 9600", note:"ä¸€åŒ…1200å…ƒï¼›é«˜å±±æ°£å¼·ï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"25A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 260", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…52å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"25A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 2360", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…78.8å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"26", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶", origin:"ç¦å£½æ¢¨å±±", pack:"äºŒå…©è£", price:"NT$ 12000", note:"ä¸€åŒ…1500å…ƒï¼›æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›æ¡‚èŠ±é¦™æ°£å¼·ï¼›æ­£å¸¸ç™¼é…µ", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh","sweet"]}, priority:1},
        {type:"tea", item:"26A", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å°ï¼š3gÃ—5ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 260", note:"ï¼ˆå°ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…52å…ƒ", tags:{use:["self","gift"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:1},
        {type:"tea", item:"26A", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…å¤§ï¼š5gÃ—30ï¼‰", origin:"", pack:"çœŸç©ºè¢‹", price:"NT$ 2360", note:"ï¼ˆå¤§ï¼‰å¹³å‡ä¸€åŒ…èŒ¶åŒ…78.8å…ƒ", tags:{use:["gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}, priority:1},

        {type:"tea", item:"27", name:"é ‚ç´šå¼·èœœé¦™æ±æ–¹ç¾äºº", origin:"ç‰¹æ®ŠèŒ¶åœ’", pack:"èŒ¶è‘‰æ·¨é‡30g", price:"NT$ 20000", note:"ä¸€åŒ…1000å…ƒï¼ˆæœ¬åº—æœ€é«˜ç­‰ç´šç´…èŒ¶ï¼‰ï¼›å¯åè¦†æ²–æ³¡çš†å¾ˆæœ‰èœœé¦™", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["sweet"]}, priority:1},

        // 28-33 èŒ¶åŒ…/ç›’è£ï¼ˆä½ è¦æ±‚ï¼šè£¸åŒ…é¡¯ç¤ºæ•´çµ„Ã—50ï¼‰
        {type:"tea", item:"28", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…çƒé¾èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"çœŸç©ºè¢‹ï¼æ¯50åŒ…ç”¨", price:"NT$ 250", note:"åŠç”Ÿç†Ÿçƒ˜ç„™çƒé¾ç¢èŒ¶ï¼›å¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ï¼›ç†±éŠ·é•·é’æ¬¾ã€‚", tags:{use:["self"], feel:["balanced"], budget:["daily"], flavor:["roast"]}, priority:2},
        {type:"tea", item:"29", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…èŒ‰è‰èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"çœŸç©ºè¢‹ï¼æ¯50åŒ…ç”¨", price:"NT$ 250", note:"æ¸…é¦™èŒ‰è‰èŠ±ç¢èŒ¶ï¼›äº”åº¦è–°é¦™å·¥æ³•ï¼›å†·æ³¡ç†±æ³¡éƒ½æ¸…é¦™ã€‚", tags:{use:["self"], feel:["light"], budget:["daily"], flavor:["fresh"]}, priority:2},
        {type:"tea", item:"30", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…æ­£å®—å°ç£ç´…èŒ¶èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"çœŸç©ºè¢‹ï¼æ¯50åŒ…ç”¨", price:"NT$ 250", note:"å°ç£ç´…èŒ¶ç¢èŒ¶ï¼›å¸¶é¾çœ¼ä¹¾é¦™ï¼›å¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚", tags:{use:["self"], feel:["balanced"], budget:["daily"], flavor:["sweet","roast"]}, priority:2},
        {type:"tea", item:"31", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…æ™®æ´±èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"çœŸç©ºè¢‹ï¼æ¯50åŒ…ç”¨", price:"NT$ 350", note:"å°ç£é«˜å±±èŒ¶ç¢è‘‰åŠæœ«ï¼›ä»¥æ™®æ´±è£½æ³•è£½æˆï¼›é¦™æ°£é†‡åšã€‚", tags:{use:["self"], feel:["bold"], budget:["daily"], flavor:["roast"]}, priority:1},
        {type:"tea", item:"32", name:"æœ‰ç·šé ­æœ‰å¤–åŒ…è£é«˜å±±çƒé¾èŒ¶åŒ…ï¼ˆç›’è£30åŒ…ï¼‰", origin:"ä¸€æ–¤4000ä»¥ä¸Šé«˜å±±ç¢èŒ¶ï¼ˆçƒ˜ç„™å¾Œå†è£½ï¼‰", pack:"1ç›’30åŒ…", price:"NT$ 600", note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", tags:{use:["gift","self"], feel:["balanced"], budget:["gift"], flavor:["roast"]}, priority:1},
        {type:"tea", item:"33", name:"æœ‰ç·šé ­æœ‰å¤–åŒ…è£å°ç£ç´…èŒ¶åŒ…ï¼ˆç›’è£30åŒ…ï¼‰", origin:"æ—¥æœˆæ½­çƒé¾ç´…èŒ¶ï¼ˆå¸‚å ´ç¨€æœ‰ï¼‰", pack:"1ç›’30åŒ…", price:"NT$ 600", note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", tags:{use:["gift","self"], feel:["balanced"], budget:["gift"], flavor:["sweet"]}, priority:1},

        // 34-39 ç‰¹è‰²å•†å“
        {type:"other", item:"34", name:"èŒ¶è‘‰ç™½ç“œå­ï¼ˆåˆç„™ç„¡é¹½ï¼‰", origin:"é›²æ—è¥¿èº", pack:"æ·¨é‡200gï¼ˆçœŸç©ºåŒ…ï¼‰", price:"NT$ 200", note:"ç™½ç“œå­ï¼‹èŒ¶è‘‰æå‘³ï¼›å…§å«è„«æ°§èˆ‡ä¹¾ç‡¥åŠ‘ä¿é®®ã€‚", tags:{use:["self","gift"], budget:["daily","gift"], flavor:["pick"], feel:["pick"]}, priority:2},
        {type:"other", item:"35", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå°åŒ… 30gï¼‰", origin:"", pack:"å°åŒ…", price:"NT$ 200", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", tags:{use:["self","gift"], budget:["daily","gift"], flavor:["pick"], feel:["pick"]}, priority:3},
        {type:"other", item:"35", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆä¸­åŒ… 50gï¼‰", origin:"", pack:"ä¸­åŒ…", price:"NT$ 300", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", tags:{use:["self","gift"], budget:["daily","gift"], flavor:["pick"], feel:["pick"]}, priority:2},
        {type:"other", item:"35", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå¤§åŒ… 150gï¼‰", origin:"", pack:"å¤§åŒ…", price:"NT$ 900", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", tags:{use:["gift"], budget:["gift","flavor"], flavor:["pick"], feel:["pick"]}, priority:1},
        {type:"other", item:"36", name:"è‡ªå®¶æœåœ’æ¡æ”¶ç™¾èŠ±èœœï¼ˆé™é‡ï¼‰", origin:"è‡ªå®¶æœ‰æ©Ÿç„¡è—¥æœåœ’", pack:"ä¸€ç“¶", price:"NT$ 2000", note:"é‡ç”Ÿèœœèœ‚æ”¶é›†è€Œä¾†ï¼›ç¶œåˆèŠ±æœèœœï¼Œå¸¶èŠ±é¦™ã€‚", tags:{use:["self","gift"], budget:["gift","flavor","rare"], flavor:["sweet","pick"], feel:["pick"]}, priority:2},
        {type:"other", item:"37", name:"100%å°ç£èŒ¶ç±½æ²¹ï¼ˆå†·å£“ï¼‰", origin:"è‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½", pack:"ä¸€æ–¤ï¼ˆå«ç½ç´„850gï¼‰", price:"NT$ 1200", note:"èµ·ç…™é»é«˜å¯ç‚’èœï¼›è€ä¸€è¼©è­·æ‰‹è­·è†šè–å“ã€‚", tags:{use:["self","gift"], budget:["gift","flavor"], flavor:["pick"], feel:["pick"]}, priority:2},
        {type:"other", item:"38", name:"æ¼¢æ–¹é™³çš®æ¢…é†¬", origin:"", pack:"900g", price:"NT$ 900", note:"é™³çš®ï¼‹å˜‰ç¾©æ¢…å±±æå­ç­‰è‰æœ¬é‡€è£½ï¼›å¯æ²–æ³¡æˆ–å…¥èœã€‚", tags:{use:["self","gift"], budget:["daily","gift"], flavor:["pick"], feel:["pick"]}, priority:1},
        {type:"other", item:"39", name:"100%å°ç£èŒ¶ç±½ç²‰ï¼ˆå¤©ç„¶æ¸…æ½”ï¼‰", origin:"è‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½", pack:"1å…¬æ–¤", price:"NT$ 400", note:"æ´—ç¢—ã€å¥¶ç“¶ã€å¼·åŠ›å»æ²¹ï¼›ä¹Ÿå¯æ´—é«®ï¼ˆç„¡æŸ“é«®ï¼‰ã€‚", tags:{use:["self"], budget:["daily"], flavor:["pick"], feel:["pick"]}, priority:1},
      ],

      // ç‰¹è‰²å•†å“ï¼šå›ºå®šã€Œä¸»æ¨ 1 + æ›å…‰ 1ã€
      otherPickCount: 2,

      // æ¨è–¦æ•¸é‡
      teaPickCount: 3,

      // æ‰‹æ©Ÿç‰ˆï¼šå¦‚æœ Q1 é¸ã€Œç‰¹è‰²å•†å“ã€ï¼Œå°±éš±è— Q3-Q5ï¼ˆé¿å…æ€ªï¼‰
      hideTeaQsWhenOther: true,
    };
  </script>

  <!-- ä¸Šæ–¹æš«å­˜æ¸…å–®æ¢ -->
  <div class="cartbar">
    <div class="cartinner">
      <div class="cartleft">
        <span class="cartcount" id="cartCount">ğŸ›’ å°šæœªé¸æ“‡å•†å“</span>
        <span class="cartitems" id="cartItems"></span>
      </div>
      <div class="row">
        <button class="btn" id="btnCatalog">å•†å“ç›®éŒ„</button>
        <button class="btn" id="btnCart">æŸ¥çœ‹ï¼ä¿®æ”¹</button>
        <button class="btn btnPri" id="btnMsg">è¤‡è£½ä¸‹å–®å…§å®¹</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="hero card">
      <div class="heroImg" id="heroImg"></div>
      <div class="heroBody">
        <h1 id="heroTitle"></h1>
        <p class="lead" id="heroText"></p>
        <div class="notice" id="noSample"></div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="cardHd">
          <p class="title">é–‹å§‹é¸æ“‡</p>
          <p class="sub">é¸å®Œå°±æœƒç›´æ¥æ¨è–¦ï¼Œæ‚¨ä¹Ÿå¯ä»¥éš¨æ™‚ä¿®æ”¹ã€‚</p>
        </div>
        <div class="cardBd" id="quiz"></div>
      </div>

      <div class="card">
        <div class="cardHd">
          <p class="title">æ¨è–¦çµæœ</p>
          <p class="sub">æœƒé¡¯ç¤ºã€Œåº—è™Ÿï¼ˆç›®éŒ„ç·¨è™Ÿï¼‰ã€ã€ç”¢åœ°ã€è¦æ ¼èˆ‡åƒ¹æ ¼ã€‚</p>
        </div>
        <div class="cardBd">
          <div class="result" id="results"></div>
          <div class="footnote" id="unitNote"></div>
          <div class="footnote" id="imgNote"></div>
        </div>
      </div>
    </div>

    <!-- å•†å“ç›®éŒ„ï¼ˆå¯æœå°‹/åˆ†é¡ï¼‰ -->
    <div class="card" style="margin-top:14px">
      <div class="cardHd">
        <div class="catalogHdRow">
          <div>
            <p class="title" style="margin-bottom:2px">å•†å“ç›®éŒ„</p>
            <p class="sub">å¯ç›´æ¥çœ‹å®Œæ•´å“é …ã€åƒ¹æ ¼èˆ‡è¦æ ¼ï¼Œä¹Ÿå¯ç›´æ¥åŠ å…¥æš«å­˜ã€‚</p>
          </div>
          <div class="search">
            <input id="searchInput" placeholder="æœå°‹ï¼šåº—è™Ÿ/å“å/ç”¢åœ°ï¼ˆä¾‹å¦‚ 28ã€æ¢¨å±±ã€ç´…çƒé¾ï¼‰" />
          </div>
        </div>
        <div class="tabs" style="margin-top:10px">
          <button class="tab active" data-tab="all">å…¨éƒ¨</button>
          <button class="tab" data-tab="tea">èŒ¶</button>
          <button class="tab" data-tab="other">ç‰¹è‰²å•†å“</button>
        </div>
      </div>
      <div class="cardBd">
        <div class="catalogGrid" id="catalog"></div>
      </div>
    </div>

    <!-- è³¼ç‰©è»Š Modal -->
    <div class="drawer" id="cartDrawer">
      <div class="modalMask" id="maskCart">
        <div class="modal">
          <div class="modalTop">
            <div>
              <div style="font-weight:800">è³¼ç‰©è»Š</div>
              <div class="muted" style="font-size:12px">è¦æ ¼å·²å›ºå®šï¼ˆç…§ç›®éŒ„ï¼‰ï¼Œæ‚¨åªè¦é¸æ•¸é‡ã€‚</div>
            </div>
            <button class="x" id="btnCloseCart">é—œé–‰</button>
          </div>
          <div class="drawerBody" id="cartBody"></div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footerBox" id="footerText"></div>
      <div class="footnote">Â© <span id="brand"></span></div>
    </footer>
  </div>

  <script>
    // ========= å°å·¥å…· =========
    const $ = (id)=>document.getElementById(id);
    const LS_KEY = "xiaowen_tea_cart_v2";
    const LS_ANS = "xiaowen_tea_answers_v2";

    const state = {
      answers: JSON.parse(localStorage.getItem(LS_ANS) || "{}"),
      cart: JSON.parse(localStorage.getItem(LS_KEY) || "[]"),
      catalogTab: "all",
      qHidden: false,
    };

    function save(){
      localStorage.setItem(LS_KEY, JSON.stringify(state.cart));
      localStorage.setItem(LS_ANS, JSON.stringify(state.answers));
    }

    function heroSetup(){
      $("heroTitle").textContent = CONFIG.heroTitle;
      $("heroText").textContent = CONFIG.heroText;
      $("noSample").textContent = CONFIG.noSampleNotice;
      $("unitNote").textContent = CONFIG.unitNote;
      $("imgNote").textContent = CONFIG.imageNote;
      $("brand").textContent = CONFIG.brandTitle;

      $("footerText").textContent =
        "æé†’ï¼šæœ¬é¸èŒ¶å™¨ç‚ºå°æ–‡çš„èŒ¶è‡ªç”¨ç³»çµ±ï¼Œå…§å®¹ï¼ˆæµç¨‹ã€é‚è¼¯èˆ‡å‘ˆç¾æ–¹å¼ï¼‰åƒ…ä¾›æœ¬é‹ªä½¿ç”¨ï¼Œè«‹å‹¿æœªç¶“åŒæ„è¤‡è£½æˆ–æŒªä½œä»–ç”¨ã€‚";

      // Hero æƒ…å¢ƒèƒŒæ™¯
      $("heroImg").classList.add("img-tea");
      $("heroImg").style.backgroundImage = ""; // è®“ class æ§åˆ¶
    }

    function labelOf(key, value){
      const q = CONFIG.questions.find(x=>x.key===key);
      if(!q) return value;
      const opt = q.options.find(o=>o.value===value);
      if(!opt) return value;
      return String(opt.label).replace(/\s+/g, " ").trim();
    }

    function renderQuiz(){
      const root = $("quiz");
      root.innerHTML = "";

      // è‹¥ Q1 é¸ other â†’ éš±è— Q3-Q5ï¼ˆé¿å…æ€ªï¼‰
      const cat = state.answers.category;
      const hideTeaQs = CONFIG.hideTeaQsWhenOther && (cat === "other");

      CONFIG.questions.forEach((q)=>{
        // hide q3-q5 when other
        if(hideTeaQs && (q.key==="feel" || q.key==="budget" || q.key==="flavor")) return;

        const box = document.createElement("div");
        box.style.marginBottom = "14px";

        const head = document.createElement("div");
        head.className="row";
        head.style.justifyContent="space-between";

        const qTitle = document.createElement("p");
        qTitle.className="q";
        qTitle.textContent = q.title;

        const chosen = document.createElement("span");
        chosen.className="pill";
        chosen.textContent = state.answers[q.key] ? `å·²é¸ï¼š${labelOf(q.key, state.answers[q.key])}` : "å°šæœªé¸";

        head.appendChild(qTitle);
        head.appendChild(chosen);

        const opts = document.createElement("div");
        opts.className="options";

        q.options.forEach(opt=>{
          const btn = document.createElement("button");
          btn.type="button";
          btn.className="opt";
          if(state.answers[q.key] === opt.value) btn.classList.add("active");
          btn.innerHTML = `<div>${opt.label}</div><small>${opt.note || ""}</small>`;
          btn.onclick = ()=>{
            state.answers[q.key] = opt.value;

            // åˆ‡åˆ°ç‰¹è‰²å•†å“æ™‚ï¼Œæ¸…æ‰èŒ¶ç”¨çš„ç­”æ¡ˆï¼ˆé¿å…å¹²æ“¾ï¼‰
            if(q.key==="category" && opt.value==="other"){
              delete state.answers.feel;
              delete state.answers.budget;
              delete state.answers.flavor;
            }
            save();
            renderQuiz();
            renderResults();
          };
          opts.appendChild(btn);
        });

        box.appendChild(head);
        box.appendChild(opts);
        root.appendChild(box);
      });

      const actions = document.createElement("div");
      actions.className="row";
      actions.innerHTML = `
        <button class="btn" id="btnReset">æ¸…ç©ºé¸æ“‡</button>
        <button class="btn" id="btnResetCart">æ¸…ç©ºæš«å­˜æ¸…å–®</button>
      `;
      root.appendChild(actions);

      $("btnReset").onclick = ()=>{
        state.answers = {};
        save();
        renderQuiz();
        renderResults();
      };
      $("btnResetCart").onclick = ()=>{
        state.cart = [];
        save();
        renderCartBar();
        renderCartDrawer();
      };
    }

    function matchScore(p){
      const cat = state.answers.category;
      if(!cat) return -999;

      let typeWanted = (cat === "pick") ? "tea" : cat;
      if(p.type !== typeWanted) return -999;

      // è‹¥é¸ otherï¼Œå°±ä¸ä½¿ç”¨ tea çš„ q3-q5
      let score = 0;
      const use = state.answers.use;
      const feel = state.answers.feel;
      const budget = state.answers.budget;
      const flavor = state.answers.flavor;

      if(use && p.tags.use?.includes(use)) score += 3;
      if(feel && (feel==="pick" ? true : p.tags.feel?.includes(feel))) score += 3;
      if(budget && p.tags.budget?.includes(budget)) score += 2;
      if(flavor && (flavor==="pick" ? true : p.tags.flavor?.includes(flavor))) score += 2;

      score += (p.priority || 0);
      return score;
    }

    function pickProducts(){
      const cat = state.answers.category;
      if(!cat) return [];

      if(cat === "other"){
        const others = CONFIG.products
          .filter(p=>p.type==="other")
          .sort((a,b)=>matchScore(b)-matchScore(a));
        return others.slice(0, CONFIG.otherPickCount);
      }

      const teas = CONFIG.products
        .filter(p=>p.type==="tea")
        .sort((a,b)=>matchScore(b)-matchScore(a));
      return teas.slice(0, CONFIG.teaPickCount);
    }

    function renderResults(){
      const root = $("results");
      root.innerHTML = "";

      const picked = pickProducts();
      if(picked.length === 0){
        root.innerHTML = `<p class="muted">è«‹å…ˆå®Œæˆå·¦å´é¸æ“‡ï¼Œé€™è£¡å°±æœƒå‡ºç¾æ¨è–¦çµæœã€‚</p>`;
        return;
      }

      picked.forEach((p, i)=>{
        const card = document.createElement("div");
        card.className="rCard";

        const img = document.createElement("div");
        img.className="rImg";
        img.classList.add(p.type === "tea" ? "img-tea" : "img-other");
        img.style.backgroundImage = "";

        const bd = document.createElement("div");
        bd.className="rBd";

        const rank = (i===0 ? "â­ ä¸»æ¨" : "â—»ï¸ ä¹Ÿå¾ˆé©åˆæ‚¨");

        // æ¨è–¦ç†ç”±ï¼šè‹¥æ²’æœ‰ï¼Œå°±ç”¨ç°¡å–®å®‰å…¨å¥
        const why = p.note
          ? [p.note]
          : ["ä¾æ‚¨çš„é¸æ“‡ï¼Œé€™æ¬¾æœƒæ¯”è¼ƒè²¼è¿‘éœ€æ±‚ã€‚"];

        bd.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div>
              <div class="pill">${rank}</div>
              <h3 class="rName">${p.name}</h3>
              <p class="rMeta">åº—è™Ÿï¼š<b>${p.item}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
              <p class="rMeta">è¦æ ¼ï¼š<b>${p.pack || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${p.price || "â€”"}</b></p>
            </div>
            <button class="btn btnPri">ï¼‹åŠ å…¥æš«å­˜</button>
          </div>
          <ul class="why">
            ${why.map(x=>`<li>${x}</li>`).join("")}
          </ul>
        `;

        bd.querySelector("button").onclick = ()=> addToCart(p);

        card.appendChild(img);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    function addToCart(p){
      // ç”¨ item + name ä½œç‚ºå”¯ä¸€éµï¼ˆå› ç‚ºåƒ 3A æœ‰å°/å¤§å…©ç­†ï¼ŒåŒ item ä½† name ä¸åŒï¼‰
      const key = `${p.item}__${p.name}`;
      const existing = state.cart.find(x=>x.key===key);
      if(existing) existing.qty += 1;
      else state.cart.push({
        key,
        item:p.item,
        name:p.name,
        origin:p.origin || "",
        pack:p.pack || "",
        price:p.price || "",
        qty:1,
        type:p.type
      });
      save();
      renderCartBar();
      renderCartDrawer();
      openCart(true);
    }

    function renderCartBar(){
      const count = state.cart.reduce((s,x)=>s+x.qty,0);
      if(count===0){
        $("cartCount").textContent = "ğŸ›’ å°šæœªé¸æ“‡å•†å“";
        $("cartItems").textContent = "";
      }else{
        $("cartCount").textContent = `ğŸ›’ å·²é¸ ${count} ä»¶`;
        const names = state.cart.map(x=>`${x.name}ï¼ˆ${x.item}ï¼‰Ã—${x.qty}`).join("ã€");
        $("cartItems").textContent = names;
      }
    }

    function renderCartDrawer(){
      const body = $("cartBody");
      body.innerHTML = "";

      if(state.cart.length===0){
        body.innerHTML = `<p class="muted">ç›®å‰æš«å­˜æ¸…å–®æ˜¯ç©ºçš„ã€‚æ‚¨å¯ä»¥å…ˆå®Œæˆé¸æ“‡æˆ–çœ‹å•†å“ç›®éŒ„ï¼Œå°‡æƒ³è¦çš„å“é …åŠ å…¥æš«å­˜ã€‚</p>`;
        return;
      }

      let subtotal = 0;
      function parseNTD(priceStr){
        // "NT$ 250" -> 250
        const m = String(priceStr||"").replace(/,/g,"").match(/(\d+)/);
        return m ? Number(m[1]) : 0;
      }

      state.cart.forEach((x)=>{
        const unit = parseNTD(x.price);
        subtotal += unit * x.qty;

        const div = document.createElement("div");
        div.className="item";
        div.style.marginBottom="10px";
        div.innerHTML = `
          <div class="itemTop">
            <div>
              <p class="itemName">åº—è™Ÿ ${x.item}ï½œ${x.name}</p>
              <p class="itemMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${x.origin || "â€”"}</b></p>
              <p class="itemMeta">è¦æ ¼ï¼š<b>${x.pack || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${x.price || "â€”"}</b></p>
            </div>
            <div class="qty">
              <button aria-label="minus">ï¼</button>
              <span>${x.qty}</span>
              <button aria-label="plus">ï¼‹</button>
            </div>
          </div>
          <div class="hr"></div>
          <button class="btn danger">ç§»é™¤</button>
        `;
        const [minus, plus] = div.querySelectorAll(".qty button");
        const remove = div.querySelector(".danger");
        minus.onclick = ()=>{
          x.qty = Math.max(1, x.qty-1);
          save(); renderCartBar(); renderCartDrawer();
        };
        plus.onclick = ()=>{
          x.qty += 1;
          save(); renderCartBar(); renderCartDrawer();
        };
        remove.onclick = ()=>{
          state.cart = state.cart.filter(t=>t.key!==x.key);
          save(); renderCartBar(); renderCartDrawer();
        };
        body.appendChild(div);
      });

      body.insertAdjacentHTML("beforeend", `
        <div class="hr"></div>
        <div class="row" style="justify-content:space-between;align-items:center">
          <div style="font-weight:800">å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼šNT$ ${subtotal.toLocaleString("zh-Hant-TW")}</div>
          <div class="row">
            <button class="btn" id="btnContinue">ç¹¼çºŒæŒ‘é¸</button>
            <button class="btn btnPri" id="btnMsg2">è¤‡è£½ä¸‹å–®å…§å®¹</button>
          </div>
        </div>
      `);

      $("btnContinue").onclick = ()=> openCart(false);
      $("btnMsg2").onclick = ()=> copyOrderText();
    }

    function buildOrderText(){
      const lines = [];
      lines.push("ä½ å¥½ï¼Œæˆ‘åœ¨å°æ–‡çš„èŒ¶é¸äº†ä»¥ä¸‹å•†å“ï¼š");
      lines.push("");
      state.cart.forEach(x=>{
        lines.push(`ãƒ»åº—è™Ÿ ${x.item}ï½œ${x.name}`);
        lines.push(`  è¦æ ¼ï¼š${x.pack || "â€”"}ï½œåƒ¹æ ¼ï¼š${x.price || "â€”"}ï½œæ•¸é‡ï¼š${x.qty}`);
      });
      lines.push("");
      lines.push("æƒ³è«‹æ‚¨å¹«æˆ‘ç¢ºèªï¼šç¸½é‡‘é¡ã€é‹è²»ã€å¯„é€æ–¹å¼èˆ‡ä»˜æ¬¾æ–¹å¼ï¼Œè¬è¬ã€‚");
      return lines.join("\n");
    }

    async function copyOrderText(){
      if(!state.cart.length){
        alert("ç›®å‰æš«å­˜æ¸…å–®æ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      const text = buildOrderText();
      try{
        await navigator.clipboard.writeText(text);
        alert("âœ… å·²è¤‡è£½ä¸‹å–®å…§å®¹ï¼\n\nè«‹è²¼åˆ° FB ç§è¨Šï¼ˆç²‰å°ˆï¼‰æˆ–å…¶ä»–ä½ å¸¸ç”¨çš„è¨Šæ¯å·¥å…·ã€‚\n\n" + text);
      }catch(e){
        // fallback
        prompt("è«‹æ‰‹å‹•è¤‡è£½ä»¥ä¸‹å…§å®¹ï¼š", text);
      }
    }

    function openMessengerOrCopy(){
      // å¦‚æœä½ ä»¥å¾Œå¡«äº† m.me/xxxxï¼Œé€™è£¡æœƒè‡ªå‹•æ”¹æˆè·³è½‰
      if(CONFIG.messengerUrl && CONFIG.messengerUrl.trim()){
        const text = encodeURIComponent(buildOrderText());
        // m.me/xxx?ref=...ï¼ˆéƒ¨åˆ†ç²‰å°ˆå¯ç”¨ï¼‰
        window.open(`${CONFIG.messengerUrl}?ref=${text}`, "_blank");
      }else{
        copyOrderText();
      }
    }

    function openCart(open){
      const d = $("cartDrawer");
      if(open){
        d.classList.add("open");
      }else{
        d.classList.remove("open");
      }
    }

    function renderCatalog(){
      const root = $("catalog");
      const q = ($("searchInput").value || "").trim().toLowerCase();
      root.innerHTML = "";

      // ä¾ tab ç¯©é¸
      let list = CONFIG.products.slice();

      if(state.catalogTab === "tea") list = list.filter(p=>p.type==="tea");
      if(state.catalogTab === "other") list = list.filter(p=>p.type==="other");

      // æœå°‹ï¼ˆåº—è™Ÿ/å“å/ç”¢åœ°ï¼‰
      if(q){
        list = list.filter(p=>{
          const hay = `${p.item} ${p.name} ${p.origin} ${p.pack} ${p.price}`.toLowerCase();
          return hay.includes(q);
        });
      }

      // æ’åºï¼šå…ˆ itemï¼ˆæ•¸å­—å„ªå…ˆï¼‰ï¼Œå† name
      function itemSortKey(item){
        // "14A-2" -> 14, "A-2" (secondary)
        const m = String(item).match(/^(\d+)/);
        return m ? Number(m[1]) : 9999;
      }
      list.sort((a,b)=>{
        const ai = itemSortKey(a.item), bi = itemSortKey(b.item);
        if(ai !== bi) return ai - bi;
        return String(a.item).localeCompare(String(b.item), "zh-Hant");
      });

      if(list.length===0){
        root.innerHTML = `<p class="muted">æ‰¾ä¸åˆ°ç¬¦åˆçš„å“é …ï¼Œè«‹æ›å€‹é—œéµå­—è©¦è©¦ã€‚</p>`;
        return;
      }

      list.forEach(p=>{
        const card = document.createElement("div");
        card.className = "pCard";
        card.classList.add(p.type==="tea" ? "img-tea" : "img-other");

        const bd = document.createElement("div");
        bd.className = "pBd";

        // å°æ¨™ç±¤ï¼ˆç°¡å–®ã€åˆ¥å¼•æˆ°ï¼‰
        const tags = [];
        if(p.type==="tea") tags.push("å°ç£èŒ¶");
        if(p.pack) tags.push(p.pack);
        if(p.origin) tags.push(p.origin);

        bd.innerHTML = `
          <div class="pTop">
            <div>
              <h3 class="pName">åº—è™Ÿ ${p.item}ï½œ${p.name}</h3>
              <p class="pMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
              <p class="pMeta">è¦æ ¼ï¼š<b>${p.pack || "â€”"}</b></p>
              <div class="pPrice">åƒ¹æ ¼ï¼š${p.price || "â€”"}</div>
              <div class="pTags">${tags.slice(0,4).map(t=>`<span class="tag">${t}</span>`).join("")}</div>
              ${p.note ? `<p class="pMeta" style="margin-top:8px">${p.note}</p>` : ``}
            </div>
            <div class="row" style="justify-content:flex-end">
              <button class="btn btnPri">ï¼‹åŠ å…¥æš«å­˜</button>
            </div>
          </div>
        `;

        bd.querySelector("button").onclick = ()=> addToCart(p);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    function wireUI(){
      // tabs
      document.querySelectorAll(".tab").forEach(btn=>{
        btn.onclick = ()=>{
          document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
          btn.classList.add("active");
          state.catalogTab = btn.dataset.tab;
          renderCatalog();
        };
      });

      $("searchInput").addEventListener("input", ()=> renderCatalog());

      $("btnCatalog").onclick = ()=>{
        // æ»¾åˆ°ç›®éŒ„å€
        document.querySelector("#catalog").scrollIntoView({behavior:"smooth", block:"start"});
      };

      $("btnCart").onclick = ()=>{ openCart(true); renderCartDrawer(); };
      $("btnCloseCart").onclick = ()=> openCart(false);
      $("maskCart").addEventListener("click", (e)=>{
        if(e.target && e.target.id==="maskCart") openCart(false);
      });

      $("btnMsg").onclick = ()=> openMessengerOrCopy();
    }

    // åˆå§‹åŒ–
    heroSetup();
    wireUI();
    renderQuiz();
    renderResults();
    renderCartBar();
    renderCartDrawer();
    renderCatalog();
  </script>
</body>
</html>
