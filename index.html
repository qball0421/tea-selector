<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å°æ–‡çš„èŒ¶ï½œé¸èŒ¶å™¨</title>
  <style>
    :root{
      --bg:#faf7f2;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#2f4f3a;
      --soft:#f4efe6;
      --shadow: 0 10px 34px rgba(0,0,0,.07);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: system-ui,-apple-system,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;line-height:1.55}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:1080px;margin:0 auto;padding:14px}
    @media(min-width:900px){ .wrap{padding:18px} }

    /* ===== Sticky top bar ===== */
    .topbar{
      position:sticky;top:0;z-index:60;
      background:rgba(250,247,242,.88);backdrop-filter:blur(10px);
      border-bottom:1px solid var(--line);
    }
    .topinner{max-width:1080px;margin:0 auto;padding:10px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .leftmeta{display:flex;gap:10px;align-items:center;min-width:0}
    .cartcount{font-weight:800}
    .cartitems{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:56vw}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:9px 12px;cursor:pointer}
    .btnPri{background:var(--accent);border-color:var(--accent);color:#fff}
    .btnGhost{background:transparent}
    .btn:active{transform:scale(.99)}
    .pill{font-size:12px;color:#374151;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .pillOn{border-color:rgba(47,79,58,.45);outline:2px solid rgba(47,79,58,.14)}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}

    /* ===== Layout ===== */
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow)}
    .hero{border-radius:22px;overflow:hidden}
    .heroTop{display:flex;gap:14px;align-items:stretch}
    .heroArt{
      flex:0 0 240px;
      background:linear-gradient(135deg, rgba(47,79,58,.12), rgba(0,0,0,0)),
                 radial-gradient(circle at 30% 20%, rgba(255,255,255,.92), rgba(255,255,255,0));
      border-right:1px solid var(--line);
      min-height:120px;
      display:flex;align-items:center;justify-content:center;
    }
    .heroBody{padding:14px}
    h1{margin:0 0 6px;font-size:20px;letter-spacing:.3px}
    .lead{margin:0;color:var(--muted);font-size:14px}
    .notice{margin:10px 0 0;padding:10px 12px;background:var(--soft);border:1px solid var(--line);border-radius:12px;color:#374151;font-size:13px}

    .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
    @media (min-width:980px){ .grid{grid-template-columns: 1.1fr .9fr;} }

    .cardHd{padding:14px 14px 0}
    .cardBd{padding:14px}
    .title{font-weight:800;margin:0 0 6px}
    .sub{color:var(--muted);font-size:13px;margin:0}

    /* ===== Quiz ===== */
    .q{margin:0 0 10px;font-weight:800}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:520px){ .options{grid-template-columns:1fr 1fr;} }
    .opt{
      text-align:left; padding:12px; border:1px solid var(--line); border-radius:14px;
      background:#fff; cursor:pointer; transition:.12s; position:relative;
    }
    .opt:hover{transform: translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .opt small{display:block;color:var(--muted);margin-top:4px}
    .opt.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.16)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}

    /* ===== Results ===== */
    .result{display:grid;grid-template-columns:1fr;gap:12px}
    .rCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .rImg{height:118px;background:#f3f4f6;background-size:cover;background-position:center}
    .rBd{padding:12px}
    .rName{margin:0 0 4px;font-weight:900}
    .rMeta{margin:0;color:var(--muted);font-size:13px}
    .why{margin:10px 0 0;color:#374151;font-size:14px}
    .why li{margin:4px 0}
    .chiprow{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:7px 10px;
      cursor:pointer;
      font-size:13px;
    }
    .chip.active{border-color:rgba(47,79,58,.65); outline:2px solid rgba(47,79,58,.14)}
    .footnote{font-size:12px;color:var(--muted);margin-top:10px}

    /* ===== Modal (Cart / Catalog / Checkout) ===== */
    .overlay{
      position:fixed;inset:0;background:rgba(17,24,39,.45);
      display:none;z-index:80;
      padding:14px;
    }
    .overlay.open{display:flex}
    .modal{
      margin:auto;
      width:min(980px, 100%);
      max-height: min(86vh, 820px);
      overflow:auto;
      border-radius:18px;
      background:#fff;
      border:1px solid var(--line);
      box-shadow: 0 30px 70px rgba(0,0,0,.22);
    }
    .modalHd{
      position:sticky;top:0;background:#fff;border-bottom:1px solid var(--line);
      padding:12px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between;
      border-top-left-radius:18px;border-top-right-radius:18px;
      z-index:2;
    }
    .modalTitle{font-weight:900;margin:0}
    .modalBd{padding:14px}
    .close{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer}

    /* ===== Cart list ===== */
    .item{border:1px solid var(--line);border-radius:14px;padding:10px;background:#fff}
    .itemTop{display:flex;justify-content:space-between;gap:10px}
    .itemName{font-weight:800;margin:0}
    .itemMeta{margin:2px 0 0;color:var(--muted);font-size:13px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:32px;height:32px;border-radius:10px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .qty span{min-width:20px;text-align:center;font-weight:800}
    .danger{color:#b91c1c;border-color:#fecaca;background:#fff}
    .sumrow{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .sum{font-weight:900}
    .kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:12px;background:var(--soft);border:1px solid var(--line);padding:6px 8px;border-radius:10px}

    /* ===== Catalog ===== */
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer;font-size:13px}
    .tab.active{border-color:rgba(47,79,58,.65); outline:2px solid rgba(47,79,58,.14)}
    .catalogGrid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
    @media(min-width:780px){ .catalogGrid{grid-template-columns:1fr 1fr;} }
    .cCard{border:1px solid var(--line);border-radius:16px;overflow:hidden;background:#fff}
    .cImg{height:110px;background:#f3f4f6;background-size:cover;background-position:center}
    .cBd{padding:12px}
    .cName{margin:0 0 4px;font-weight:900}
    .cMeta{margin:0;color:var(--muted);font-size:13px}
    .cDesc{margin:10px 0 0;color:#374151;font-size:14px}
    .badge{display:inline-flex;align-items:center;gap:6px;font-size:12px;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .spacer{height:2px}

    /* ===== Checkout form ===== */
    .form{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}
    @media(min-width:820px){ .form{grid-template-columns:1fr 1fr;} }
    .field{display:flex;flex-direction:column;gap:6px}
    .field label{font-size:13px;color:#374151;font-weight:800}
    .field input,.field textarea,.field select{
      border:1px solid var(--line);border-radius:12px;padding:10px 12px;font-size:14px;font-family:inherit;
      outline:none;
    }
    .field textarea{min-height:90px;grid-column:1/-1}
    .help{font-size:12px;color:var(--muted)}
    .ok{color:#065f46}

    /* Mobile hero tighten */
    @media(max-width:720px){
      .heroTop{flex-direction:column}
      .heroArt{flex:0 0 auto;min-height:90px;border-right:none;border-bottom:1px solid var(--line)}
    }
  </style>
</head>

<body>
  <!-- =======================
    ä½ åªè¦æ”¹ CONFIG ä¹Ÿèƒ½èª¿æ•´ï¼š
    1) ç²‰å°ˆ messengerUrl
    2) æ”¶å–®æ–¹å¼ orderModeï¼ˆmailto / formspreeï¼‰
    3) ä½ çš„æ”¶å–® emailï¼ˆmailto ç”¨ï¼‰
  ======================== -->
  <script>
    const CONFIG = {
      brandTitle: "å°æ–‡çš„èŒ¶",
      heroTitle: "ä¸ç”¨æ‡‚èŒ¶ï¼Œä¹Ÿèƒ½é¸åˆ°é©åˆçš„å°ç£èŒ¶",
      heroText: "æœ¬é¸èŒ¶å™¨æä¾›æ‚¨å¿«é€Ÿæ‰¾èŒ¶ã€çœ‹ç›®éŒ„ã€ç›´æ¥åŠ å…¥è³¼ç‰©è»Šä¸¦å¡«å¯«å¯„é€è³‡æ–™ä¸‹å–®ã€‚",
      noSampleNotice: "å°æœ¬ç¶“ç‡Ÿï¼Œæ²’æœ‰æä¾›è©¦å–åŒ…ã€‚é€éé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ä¾ç…§éœ€æ±‚é¸æ“‡åˆé©çš„å•†å“ã€‚",
      unitNote: "å–®ä½èªªæ˜ï¼š1 å…© â‰ˆ 37.5gï½œ1 æ–¤ â‰ˆ 600g",
      imageNote: "åœ–ç‰‡ç‚ºæƒ…å¢ƒç¤ºæ„ï¼ˆéåŒ…è£ç…§ï¼‰ï¼Œå¯¦éš›å•†å“ä»¥å‡ºè²¨å…§å®¹ç‚ºæº–ã€‚",

      // ç²‰å°ˆ Messengerï¼ˆä½ ç²‰å°ˆå¥½äº†ï¼ŒæŠŠå®Œæ•´ m.me é€£çµè²¼ä¸Šï¼‰
      // ä¾‹ï¼šhttps://m.me/ä½ çš„ç²‰å°ˆå¸³è™Ÿ
      messengerUrl: "",

      // æ”¶å–®æ–¹å¼ï¼š
      // 1) "mailto"ï¼šç”¨ Email é€å‡ºï¼ˆä¸éœ€å¤–æ›æœå‹™ï¼‰
      // 2) "formspree"ï¼šç”¨ Formspree è¡¨å–®æœå‹™ï¼ˆä½ ä¹‹å¾Œå†å¡« endpointï¼‰
      orderMode: "mailto",
      orderEmailTo: "you@example.com",     // mailto æœƒç”¨é€™å€‹æ”¶ä¿¡ï¼ˆæ”¹æˆä½ çš„ä¿¡ç®±ï¼‰
      formspreeEndpoint: "",              // ä¾‹ï¼šhttps://formspree.io/f/xxxxxx

      // ====== é¡Œç›®ï¼ˆç™½è©±ç‰ˆï¼‰======
      questions: [
        {
          key: "category",
          title: "Q1ï½œé€™æ¬¡æ‚¨æƒ³æ‰¾çš„æ˜¯ï¼Ÿ",
          options: [
            { value: "tea",  label: "ğŸµ èŒ¶", note: "æ—¥å¸¸é£²ç”¨ã€é€ç¦®çš†å¯" },
            { value: "bag",  label: "ğŸ§ƒ èŒ¶åŒ…", note: "æ–¹ä¾¿æ²–æ³¡ã€é©åˆå¸¸å‚™" },
            { value: "other",label: "ğŸ ç‰¹è‰²å•†å“", note: "é¦™è‡ã€èŠ±èœœã€èŒ¶ç±½æ²¹ã€æ¢…é†¬ã€æ¸…æ½”ç²‰ã€ç“œå­" },
            { value: "pick", label: "ğŸ² ä½ å¹«æˆ‘æŒ‘", note: "ä¸ç”¨æƒ³å¤ªå¤šï¼Œäº¤çµ¦æˆ‘å€‘å¹«æ‚¨æ­é…" }
          ]
        },
        {
          key: "use",
          title: "Q2ï½œé€™æ¬¡æ˜¯ï¼Ÿ",
          options: [
            { value: "self",  label: "ğŸ«– è‡ªå·±å–ï¼è‡ªå·±ç”¨", note: "å¹³å¸¸å–ã€æ—¥å¸¸ä½¿ç”¨" },
            { value: "gift",  label: "ğŸ é€äºº", note: "å¸Œæœ›å°æ–¹æ”¶åˆ°ä¸å¤±ç¦®" },
            { value: "unsure",label: "ğŸ¤· ä¸ç¢ºå®š", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨åˆ¤æ–·" }
          ]
        },
        {
          key: "feel",
          title: "Q3ï½œæ‚¨æƒ³è¦çš„ã€ŒèŒ¶æ„Ÿã€æ¯”è¼ƒåƒå“ªä¸€ç¨®ï¼Ÿ",
          options: [
            { value: "light",    label: "ğŸŒ¸ æ¸…é¦™é †å£", note: "é¦™æ°£ç´°ç·»ã€å£æ„Ÿæ¸…çˆ½" },
            { value: "balanced", label: "ğŸ™‚ é¦™æ°£å£æ„Ÿå¹³è¡¡", note: "æœ‰é¦™ã€æœ‰èŒ¶æ„Ÿï¼Œä½†ä¸åšä¸è¡" },
            { value: "bold",     label: "ğŸ”¥ é¦™æ°£åšå¯¦ï¼ç„™é¦™æ˜é¡¯", note: "é¦™æ°£æ›´çªå‡ºã€å–èµ·ä¾†æ›´æœ‰å­˜åœ¨æ„Ÿ" },
            { value: "pick",     label: "ğŸ² äº¤çµ¦ä½ å€‘å¹«æˆ‘é¸", note: "ä¾å‰é¢æ¢ä»¶å”åŠ©æ¨è–¦" }
          ]
        },
        {
          key: "budget",
          title: "Q4ï½œé€™æ¬¡é ç®—å¤§æ¦‚è½åœ¨å“ªï¼Ÿ",
          options: [
            { value: "daily", label: "ğŸ’° æ—¥å¸¸å–çš„é ç®—", note: "æƒ³è¼•é¬†å–ã€å¹³å¸¸å–" },
            { value: "gift",  label: "ğŸ é€ç¦®ï¼å–å¥½ä¸€é»", note: "é«”é¢ã€å®‰å…¨ç‰Œ" },
            { value: "flavor",label: "â­ è¬›ç©¶é¢¨å‘³", note: "é¢¨å‘³æ›´æ˜é¡¯ã€å“è³ªå‡ç´š" },
            { value: "rare",  label: "ğŸ‘‘ çè—ç­‰ç´š", note: "è¿½æ±‚ç¨€æœ‰èˆ‡é ‚ç´šè¡¨ç¾" }
          ]
        },
        {
          key: "flavor",
          title: "Q5ï½œæ‚¨æ¯”è¼ƒåå¥½å“ªä¸€ç¨®é¢¨å‘³ï¼Ÿ",
          options: [
            { value: "fresh", label: "ğŸŒ¿ æ¸…é¦™å‹", note: "èŠ±é¦™ã€è‰é¦™ã€æ¸…æ¸…çš„" },
            { value: "roast", label: "ğŸ”¥ ç„™é¦™å‹", note: "çƒ¤éã€æº«æš–ã€ç†Ÿé¦™" },
            { value: "sweet", label: "ğŸ¯ ç”œæ„Ÿå‹", note: "èœœé¦™ã€å›ç”˜ã€ä¸è‹¦" },
            { value: "pick",  label: "ğŸ² ä¸çŸ¥é“", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨æŒ‘" }
          ]
        }
      ],

      // ====== å•†å“è³‡æ–™ï¼ˆå®Œæ•´ 39 é … / ä¾ä½ æœ€æ–°ç‰ˆæœ¬ï¼‰======
      // æ¯å€‹å•†å“ï¼šstoreNo(åº—è™Ÿ=ç›®éŒ„ç·¨è™Ÿ)ã€nameã€originã€spec(è¦æ ¼)ã€priceNTã€note(å‚™è¨»)
      // groupï¼šcatalog åˆ†é¡ï¼ˆtea / bag / otherï¼‰
      // feel/flavor/budgetï¼šç”¨ä¾†æ¨è–¦ï¼ˆä½ ä¹‹å¾Œä¹Ÿå¯ä»¥æ…¢æ…¢èª¿æ•´ï¼Œä¸å½±éŸ¿è³¼ç‰©è»Š/ç›®éŒ„é¡¯ç¤ºï¼‰
      products: [
        // 1-27 æ•£èŒ¶
        {group:"tea", storeNo:"1",  name:"ç¶œåˆçƒ˜ç„™å† è»èŒ¶æ", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", spec:"ä¸€æ–¤è£", priceNT:200,  note:"æ¯”è³½åŠŸå¤«åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶æã€‚", feel:["bold"], flavor:["roast"], budget:["daily"], use:["self"]},
        {group:"tea", storeNo:"2",  name:"ç¶œåˆçƒ˜ç„™èŒ¶ï¼ˆå¤§å£ºèŒ¶ï¼‰", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", spec:"ä¸€æ–¤è£", priceNT:500,  note:"åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶ã€‚", feel:["bold","balanced"], flavor:["roast"], budget:["daily"], use:["self"]},
        {group:"tea", storeNo:"3",  name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆæ­¡æ¨‚èŒ¶åœ’ï¼‰", origin:"é›²æ—å¤å‘", spec:"åŠæ–¤è£", priceNT:600,  note:"ä¸€åŒ…300å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", feel:["light","balanced"], flavor:["fresh","sweet"], budget:["daily"], use:["self","gift"]},
        // 3Aï¼ˆå°/å¤§ï¼‰è¦–ç‚ºå…©å€‹å¯è³¼è²·è¦æ ¼ï¼ˆç…§ç›®éŒ„ï¼‰
        {group:"tea", storeNo:"3A-å°", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:70,  note:"å¹³å‡ä¸€åŒ…14å…ƒã€‚", feel:["light"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},
        {group:"tea", storeNo:"3A-å¤§", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:400, note:"å¹³å‡ä¸€åŒ…13.4å…ƒã€‚", feel:["light","balanced"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},

        {group:"tea", storeNo:"4",  name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é›²æ—å¤å‘", spec:"å››å…©è£", priceNT:800,  note:"ä¸€åŒ…200å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›æ¡æ¯”è³½èŒ¶çƒ˜ç„™ã€‚", feel:["balanced","bold"], flavor:["roast"], budget:["daily","gift"], use:["self","gift"]},
        {group:"tea", storeNo:"4A-å°", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:70,  note:"å¹³å‡ä¸€åŒ…14å…ƒã€‚", feel:["light"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},
        {group:"tea", storeNo:"4A-å¤§", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:400, note:"å¹³å‡ä¸€åŒ…13.4å…ƒã€‚", feel:["light","balanced"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},

        {group:"tea", storeNo:"5",  name:"æ©Ÿæ¡ç´…èŒ¶ï¼ˆç¢èŒ¶ï¼‰", origin:"å—æŠ•ç«¹å±±", spec:"å››å…©è£", priceNT:800,  note:"ä¸€åŒ…200å…ƒï¼›é‡ç™¼é…µï¼›é‡çƒ˜ç„™ï¼›é¾çœ¼ä¹¾é¦™ã€‚", feel:["bold"], flavor:["roast","sweet"], budget:["daily","gift"], use:["self","gift"]},
        {group:"tea", storeNo:"6",  name:"é¦™ç‰‡ï¼ˆèŒ‰è‰èŠ±èŒ¶ï¼‰", origin:"å—æŠ•", spec:"å››å…©è£", priceNT:1200, note:"ä¸€åŒ…300å…ƒï¼›è¼•ç™¼é…µï¼›è¼•çƒ˜ç„™è–°èŒ‰è‰èŠ±ã€‚", feel:["light","balanced"], flavor:["fresh"], budget:["gift"], use:["self","gift"]},
        {group:"tea", storeNo:"7",  name:"æ‹›ç‰Œæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶19è™Ÿ ç¢§ç‰ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", spec:"åŠæ–¤è£", priceNT:1200, note:"ä¸€åŒ…600å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", feel:["balanced"], flavor:["fresh","sweet"], budget:["gift"], use:["self","gift"]},
        {group:"tea", storeNo:"7A-å°", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:80,  note:"å¹³å‡ä¸€åŒ…16å…ƒã€‚", feel:["light"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},
        {group:"tea", storeNo:"7A-å¤§", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:540, note:"å¹³å‡ä¸€åŒ…18å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["daily","gift"], use:["self","gift"]},

        {group:"tea", storeNo:"8",  name:"ç´…çƒé¾ï¼ˆçƒç‹€çƒå‹ç´…èŒ¶ï¼‰", origin:"å°æ±é¹¿é‡", spec:"å››å…©è£", priceNT:1600, note:"ä¸€åŒ…400å…ƒï¼›æ˜é¡¯ç³–é¦™ï¼›æ°´ç”œã€‚", feel:["balanced"], flavor:["sweet"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"8A-å°", name:"ç´…çƒé¾ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:86,  note:"å¹³å‡ä¸€åŒ…17.2å…ƒã€‚", feel:["light","balanced"], flavor:["sweet"], budget:["daily"], use:["self","gift"]},
        {group:"tea", storeNo:"8A-å¤§", name:"ç´…çƒé¾ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:610, note:"å¹³å‡ä¸€åŒ…20.4å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["daily","gift"], use:["self","gift"]},

        {group:"tea", storeNo:"9",  name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é¹¿è°·å°åŠå¤©", spec:"åŠæ–¤è£", priceNT:1600, note:"ä¸€åŒ…800å…ƒï¼›é‡ç™¼é…µï¼›é‡çƒ˜ç„™ã€‚", feel:["bold"], flavor:["roast"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"10", name:"é ‚ç´šæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶20è™Ÿ è¿é¦™ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", spec:"åŠæ–¤è£", priceNT:1600, note:"ä¸€åŒ…800å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", feel:["balanced"], flavor:["fresh","sweet"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"10A-å°", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:84,  note:"å¹³å‡ä¸€åŒ…16.8å…ƒã€‚", feel:["light"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},
        {group:"tea", storeNo:"10A-å¤§", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:584, note:"å¹³å‡ä¸€åŒ…19.6å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["daily","gift"], use:["self","gift"]},

        {group:"tea", storeNo:"11", name:"æ‰‹æ¡çƒé¾èŒ¶", origin:"æ‹‰æ‹‰å±±ï¼å£«åŒªå±±", spec:"åŠæ–¤è£", priceNT:1600, note:"ä¸€åŒ…800å…ƒï¼›é‡ç™¼é…µï¼›è¼•çƒ˜ç„™ã€‚", feel:["balanced","bold"], flavor:["roast"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"11A-å°", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:94,  note:"å¹³å‡ä¸€åŒ…18.8å…ƒã€‚", feel:["balanced"], flavor:["fresh","roast"], budget:["daily","gift"], use:["self","gift"]},
        {group:"tea", storeNo:"11A-å¤§", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:680, note:"å¹³å‡ä¸€åŒ…22.8å…ƒã€‚", feel:["balanced","bold"], flavor:["fresh","roast"], budget:["gift"], use:["self","gift"]},

        {group:"tea", storeNo:"12", name:"æ‰‹æ¡é‡‘è±èŒ¶", origin:"æ‰æ—æºªï¼é¹¿è°·é³³å‡°å±±", spec:"åŠæ–¤è£", priceNT:2000, note:"ä¸€åŒ…1000å…ƒï¼›è¼•æœé¦™ã€‚", feel:["light","balanced"], flavor:["sweet","fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"12A-å°", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:100, note:"å¹³å‡ä¸€åŒ…20å…ƒã€‚", feel:["light"], flavor:["sweet"], budget:["daily","gift"], use:["self","gift"]},
        {group:"tea", storeNo:"12A-å¤§", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:750, note:"å¹³å‡ä¸€åŒ…25å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["gift","flavor"], use:["self","gift"]},

        {group:"tea", storeNo:"13", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶", origin:"é˜¿é‡Œå±±ï¼æ¢…å±±é¾ç›®æ¨“ï¼ˆæµ·æ‹”1550mï¼‰", spec:"å››å…©è£", priceNT:2400, note:"ä¸€åŒ…600å…ƒï¼›ä¸­é‡ç™¼é…µèŠ±æœé¦™ã€‚", feel:["balanced"], flavor:["sweet"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"13A-å°", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:114, note:"å¹³å‡ä¸€åŒ…22.8å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["gift"], use:["self","gift"]},
        {group:"tea", storeNo:"13A-å¤§", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:890, note:"å¹³å‡ä¸€åŒ…29.8å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["flavor"], use:["self","gift"]},

        {group:"tea", storeNo:"14", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼çƒé¾èŒ¶", origin:"é”é‚¦ï¼ç¾Šä»”ç£", spec:"å››å…©è£", priceNT:3200, note:"ä¸€åŒ…800å…ƒï¼›å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚", feel:["balanced","bold"], flavor:["fresh","roast","sweet"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"14A-1-å°", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ‰æ—æºªç¾Šä»”ç£ï½œå°åŒ…ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:140, note:"å¹³å‡ä¸€åŒ…28å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"14A-1-å¤§", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ‰æ—æºªç¾Šä»”ç£ï½œå¤§åŒ…ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1140, note:"å¹³å‡ä¸€åŒ…38å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"14A-2-å°", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé˜¿é‡Œå±±é”é‚¦ï½œå°åŒ…ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:140, note:"å¹³å‡ä¸€åŒ…28å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["gift","flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"14A-2-å¤§", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé˜¿é‡Œå±±é”é‚¦ï½œå¤§åŒ…ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1140, note:"å¹³å‡ä¸€åŒ…38å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},

        {group:"tea", storeNo:"15", name:"ç„¦ç³–é¦™æ‰‹æ¡ç´…èŒ¶", origin:"å—æŠ•ç¸£é­šæ± é„‰æ—¥æœˆæ½­", spec:"ä¸€é»äº”å…©è£", priceNT:3200, note:"ä¸€åŒ…300å…ƒï¼›æ—¥æœˆæ½­ç¨æœ‰ç„¦ç³–é¦™æ°£ã€‚", feel:["balanced"], flavor:["sweet","roast"], budget:["flavor"], use:["self","gift"]},

        {group:"tea", storeNo:"16", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼é‡‘è±èŒ¶", origin:"ä¿¡ç¾©ï¼æ‰æ—æºªï¼ç‰å±±ç¥æœ¨æ‘ï¼ç‰¹å¯Œé‡ï¼æ¸…å¢ƒï¼æ–°ä½³é™½æ¢¨å±±", spec:"å››å…©è£", priceNT:4000, note:"ä¸€åŒ…1000å…ƒï¼›å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚", feel:["balanced","bold"], flavor:["fresh","sweet","roast"], budget:["flavor","rare"], use:["self","gift"]},
        {group:"tea", storeNo:"16A-å°", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï½œå°åŒ…ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:160, note:"å¹³å‡ä¸€åŒ…32å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"16A-å¤§", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï½œå¤§åŒ…ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1310, note:"å¹³å‡ä¸€åŒ…43.8å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["flavor","rare"], use:["self","gift"]},

        {group:"tea", storeNo:"17", name:"æ¡‚èŠ±é‡‘è±ï¼ˆé™é‡ï¼‰", origin:"æ¢¨å±±", spec:"å››å…©è£", priceNT:4000, note:"ä¸€åŒ…1000å…ƒï¼›ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›èŒ¶æ°´æ¸…ç”œã€‚", feel:["balanced"], flavor:["sweet","fresh"], budget:["flavor","rare"], use:["self","gift"]},
        {group:"tea", storeNo:"18", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±", spec:"å››å…©è£", priceNT:4800, note:"ä¸€åŒ…1200å…ƒï¼›æ­£å¸¸ç™¼é…µåé‡ï¼›ç„¡çƒ˜ç„™ã€‚", feel:["bold"], flavor:["fresh","sweet"], budget:["rare"], use:["self","gift"]},
        {group:"tea", storeNo:"18A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:170, note:"å¹³å‡ä¸€åŒ…34å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"18A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1450, note:"å¹³å‡ä¸€åŒ…48.4å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"19", name:"èŠ±æœèœœæ¾é¦™æ‰‹æ¡ç´…èŒ¶", origin:"æ¢¨å±±", spec:"äºŒå…©è£ï¼ˆå«è¢‹40gï¼‰", priceNT:4800, note:"ä¸€åŒ…300å…ƒï¼›å¤šå±¤æ¬¡å£æ„Ÿé¦™æ°£ã€‚", feel:["balanced","bold"], flavor:["sweet"], budget:["rare"], use:["self","gift"]},
        {group:"tea", storeNo:"20", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç‰å±±å¡”å¡”åŠ ï¼å¤§ç¦¹å¶º", spec:"å››å…©è£", priceNT:5600, note:"ä¸€åŒ…1400å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},
        {group:"tea", storeNo:"20A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:180, note:"å¹³å‡ä¸€åŒ…36å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"20A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1520, note:"å¹³å‡ä¸€åŒ…50.8å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"21", name:"æ‰‹æ¡é’å¿ƒçƒé¾ç´…èŒ¶", origin:"å¤§ç¦¹å¶º", spec:"èŒ¶è‘‰æ·¨é‡30g", priceNT:6000, note:"ä¸€åŒ…300å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["rare"], use:["self","gift"]},
        {group:"tea", storeNo:"22", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ‰æ—æºªé¾é³³å³½ï¼ˆå¿˜æ†‚æ£®æ—ï¼‰", spec:"å››å…©è£", priceNT:6400, note:"ä¸€åŒ…1600å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},
        {group:"tea", storeNo:"22A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:190, note:"å¹³å‡ä¸€åŒ…38å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"22A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1660, note:"å¹³å‡ä¸€åŒ…55.4å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"23", name:"é«˜å±±èŒ¶ç‹æ¯”è³½èŒ¶ï¼ˆé ­ç­‰çèŒ¶åœ’ç²¾è£½ï¼‰", origin:"â€”", spec:"äºŒå…©è£", priceNT:7200, note:"ä¸€åŒ…900å…ƒï¼›ä¸­é‡ç™¼é…µï¼›æ¯”è³½å‹ç²¾ç·»çƒ˜ç„™ã€‚", feel:["bold"], flavor:["roast"], budget:["rare"], use:["gift"]},
        {group:"tea", storeNo:"23A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:190, note:"å¹³å‡ä¸€åŒ…38å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"23A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:1660, note:"å¹³å‡ä¸€åŒ…55.4å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"24", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±å¤©æ± ", spec:"äºŒå…©è£", priceNT:8000, note:"ä¸€åŒ…1000å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›èŠ±æœé¦™ã€‚", feel:["bold"], flavor:["sweet","fresh"], budget:["rare"], use:["gift"]},
        {group:"tea", storeNo:"24A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:246, note:"å¹³å‡ä¸€åŒ…49.2å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"24A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:2200, note:"å¹³å‡ä¸€åŒ…73.4å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"25", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç¦å£½å±±è¯å´—", spec:"äºŒå…©è£", priceNT:9600, note:"ä¸€åŒ…1200å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›é«˜å±±æ°£å¼·ã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["gift"]},
        {group:"tea", storeNo:"25A-å°", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:260, note:"å¹³å‡ä¸€åŒ…52å…ƒã€‚", feel:["balanced"], flavor:["fresh"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"25A-å¤§", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:2360, note:"å¹³å‡ä¸€åŒ…78.8å…ƒã€‚", feel:["bold"], flavor:["fresh"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"26", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶", origin:"ç¦å£½æ¢¨å±±", spec:"äºŒå…©è£", priceNT:12000, note:"ä¸€åŒ…1500å…ƒï¼›æ­£å¸¸ç™¼é…µï¼›ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›æ¡‚èŠ±é¦™æ°£å¼·ã€‚", feel:["bold"], flavor:["sweet","fresh"], budget:["rare"], use:["gift"]},
        {group:"tea", storeNo:"26A-å°", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ3gÃ—5åŒ…", priceNT:260, note:"å¹³å‡ä¸€åŒ…52å…ƒã€‚", feel:["balanced"], flavor:["sweet"], budget:["flavor"], use:["self","gift"]},
        {group:"tea", storeNo:"26A-å¤§", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"çœŸç©ºè¢‹ï½œ5gÃ—30åŒ…", priceNT:2360, note:"å¹³å‡ä¸€åŒ…78.8å…ƒã€‚", feel:["bold"], flavor:["sweet"], budget:["rare"], use:["self","gift"]},

        {group:"tea", storeNo:"27", name:"é ‚ç´šå¼·èœœé¦™æ±æ–¹ç¾äºº", origin:"ç‰¹æ®ŠèŒ¶åœ’", spec:"èŒ¶è‘‰æ·¨é‡30g", priceNT:20000, note:"ä¸€åŒ…1000å…ƒï¼›å¯åè¦†æ²–æ³¡çš†å¾ˆæœ‰èœœé¦™ã€‚", feel:["balanced","bold"], flavor:["sweet"], budget:["rare"], use:["gift"]},

        // 28-33 èŒ¶åŒ… / åŒ…è£èŒ¶åŒ…ï¼ˆä¾ä½ è¦æ±‚ï¼šä¸è¦é¡¯ç¤ºå–®åŒ… â†’ ç›´æ¥é¡¯ç¤ºã€Œæ•´çµ„ã€ï¼‰
        {group:"bag", storeNo:"28", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…çƒé¾èŒ¶åŒ…ï¼ˆæ•´çµ„ï¼‰", origin:"â€”", spec:"æ¯çµ„50åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceNT:250, note:"åŠç”Ÿç†Ÿçƒ˜ç„™çƒé¾ç¢èŒ¶ï¼›å¯ä¹…æ³¡ä¸è‹¦æ¾€ï¼›ç¶“æ¿ŸåŒ…ã€‚", feel:["balanced","bold"], flavor:["roast"], budget:["daily"], use:["self"]},
        {group:"bag", storeNo:"29", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…èŒ‰è‰èŒ¶åŒ…ï¼ˆæ•´çµ„ï¼‰", origin:"â€”", spec:"æ¯çµ„50åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceNT:250, note:"äº”åº¦è–°é¦™å·¥æ³•ï¼›å†·æ³¡ç†±æ³¡éƒ½æ¸…é¦™ï¼›å¯ä¹…æ³¡ä¸è‹¦æ¾€ã€‚", feel:["light"], flavor:["fresh"], budget:["daily"], use:["self","gift"]},
        {group:"bag", storeNo:"30", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…å°ç£ç´…èŒ¶èŒ¶åŒ…ï¼ˆæ•´çµ„ï¼‰", origin:"â€”", spec:"æ¯çµ„50åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceNT:250, note:"å¸¶é¾çœ¼ä¹¾é¦™ï¼›å¯ä¹…æ³¡ä¸è‹¦æ¾€ã€‚", feel:["balanced"], flavor:["sweet","roast"], budget:["daily"], use:["self","gift"]},
        {group:"bag", storeNo:"31", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…æ™®æ´±èŒ¶åŒ…ï¼ˆæ•´çµ„ï¼‰", origin:"â€”", spec:"æ¯çµ„50åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceNT:350, note:"ä»¥æ™®æ´±è£½æ³•è£½æˆï¼›é¦™æ°£é†‡åšï¼›å¯ä¹…æ³¡ä¸è‹¦æ¾€ã€‚", feel:["bold"], flavor:["roast"], budget:["daily"], use:["self"]},
        {group:"bag", storeNo:"32", name:"é«˜å±±çƒé¾èŒ¶åŒ…ï¼ˆç¨ç«‹åŒ…è£ï¼‰", origin:"é«˜å±±ç¢èŒ¶ï¼ˆç¶“çƒ˜ç„™å¾Œå†è£½ï¼‰", spec:"1ç›’30åŒ…", priceNT:600, note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", feel:["balanced"], flavor:["roast"], budget:["gift"], use:["self","gift"]},
        {group:"bag", storeNo:"33", name:"å°ç£ç´…èŒ¶åŒ…ï¼ˆç¨ç«‹åŒ…è£ï¼‰", origin:"æ—¥æœˆæ½­çƒé¾ç´…èŒ¶ï¼ˆå¸‚å ´ç¨€æœ‰ï¼‰", spec:"1ç›’30åŒ…", priceNT:600, note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", feel:["balanced"], flavor:["sweet"], budget:["gift"], use:["self","gift"]},

        // 34-39 ç‰¹è‰²å•†å“
        {group:"other", storeNo:"34", name:"èŒ¶è‘‰ç™½ç“œå­ï¼ˆåˆç„™ç„¡é¹½ï¼‰", origin:"é›²æ—è¥¿èº", spec:"ç“œå­æ·¨é‡200gï¼ˆçœŸç©ºåŒ…ï¼‰", priceNT:200, note:"å…§æœ‰è„«æ°§èˆ‡ä¹¾ç‡¥åŠ‘ä¿é®®ï¼›æ–°é®®å‘³åƒå¾—å‡ºä¾†ã€‚", budget:["daily"], use:["self","gift"]},
        // é¦™è‡ä¸‰è¦æ ¼ â†’ ç›®éŒ„ä¸‰é …ï¼ˆç…§ä½ ç›®éŒ„ï¼Œè¦æ ¼å›ºå®šåªèƒ½é¸æ•¸é‡ï¼‰
        {group:"other", storeNo:"35-å°", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå°åŒ…ï¼‰", origin:"â€”", spec:"ç¸½é‡30g", priceNT:200, note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", budget:["daily"], use:["self","gift"]},
        {group:"other", storeNo:"35-ä¸­", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆä¸­åŒ…ï¼‰", origin:"â€”", spec:"ç¸½é‡50g", priceNT:300, note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", budget:["gift"], use:["self","gift"]},
        {group:"other", storeNo:"35-å¤§", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå¤§åŒ…ï¼‰", origin:"â€”", spec:"ç¸½é‡150g", priceNT:900, note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", budget:["flavor"], use:["self","gift"]},

        {group:"other", storeNo:"36", name:"è‡ªå®¶æœåœ’æ¡æ”¶ç™¾èŠ±èœœï¼ˆé™é‡ï¼‰", origin:"å°ç£", spec:"ä¸€ç“¶", priceNT:2000, note:"è‡ªå®¶æœ‰æ©Ÿç„¡è—¥æœåœ’é‡ç”Ÿèœœèœ‚æ”¶é›†ï¼›ç¶œåˆèŠ±æœèœœå¸¶èŠ±é¦™ã€‚", budget:["flavor","rare"], use:["self","gift"]},
        {group:"other", storeNo:"37", name:"100%å°ç£èŒ¶ç±½æ²¹ï¼ˆè‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½å£“æ¦¨ï¼‰", origin:"å°ç£", spec:"å…§å®¹è¶³é‡ä¸€æ–¤ï½œå«ç½850g", priceNT:1200, note:"å†·å£“ï¼›èµ·ç…™é»é«˜å¯ç‚’èœï¼›è€ä¸€è¼©è­·æ‰‹è­·è†šè–å“ã€‚", budget:["gift"], use:["self","gift"]},
        {group:"other", storeNo:"38", name:"æ¼¢æ–¹é™³çš®æ¢…é†¬", origin:"å°ç£", spec:"å…§å®¹è¶³é‡900g", priceNT:900, note:"å¯ç¨€é‡‹èª¿é£²ä¹Ÿå¯åšé†¬æ±æ²¾é†¬ï¼›ç‰¹è‰²å£æ„Ÿã€‚", budget:["daily","gift"], use:["self","gift"]},
        {group:"other", storeNo:"39", name:"100%å°ç£èŒ¶ç±½ç²‰ï¼ˆå¤©ç„¶ç’°ä¿å¼·åŠ›æ¸…æ½”ï¼‰", origin:"å°ç£", spec:"å…§å®¹è¶³é‡1å…¬æ–¤", priceNT:400, note:"æ´—ç¢—å¥¶ç“¶å»æ²¹ç­‰ï¼›ä¹Ÿå¯æ´—é«®ï¼ˆç„¡æŸ“é«®ï¼‰ï¼›ä¸å µå¡æ°´ç®¡ï¼›ç„¡æ¯’ä¸å‚·æ‰‹ã€‚", budget:["daily"], use:["self"]}
      ],

      // æ¨è–¦é¡¯ç¤ºæ•¸é‡ï¼ˆèŒ¶/èŒ¶åŒ…/ç‰¹è‰²å•†å“ï¼‰
      pickCount: { tea: 3, bag: 3, other: 2 },

      // footer é˜²ä»¿ç”¨æ–‡å­—ï¼ˆæ”¾åœ¨ footerï¼‰
      footerNote: "æœ¬é ç‚ºã€Œå°æ–‡çš„èŒ¶ã€å°ˆç”¨é¸èŒ¶èˆ‡ä¸‹å–®å·¥å…·ï¼ˆå«æ¨è–¦é‚è¼¯èˆ‡å•†å“è³‡æ–™ï¼‰ï¼Œè«‹å‹¿æ“…è‡ªè¤‡è£½ã€è½‰è¼‰æˆ–æ”¹ä½œä»–ç”¨ã€‚"
    };
  </script>

  <!-- ===== Sticky bar ===== -->
  <div class="topbar">
    <div class="topinner">
      <div class="leftmeta">
        <span class="cartcount" id="cartCount">ğŸ›’ å°šæœªé¸æ“‡å•†å“</span>
        <span class="cartitems" id="cartItems"></span>
      </div>
      <div class="row">
        <button class="btn" id="btnCatalog">å•†å“ç›®éŒ„</button>
        <button class="btn" id="btnCart">æŸ¥çœ‹ï¼ä¿®æ”¹</button>
        <button class="btn btnPri" id="btnCheckoutTop">ä¸‹å–®ï¼å¡«å¯«è³‡æ–™</button>
        <button class="btn btnGhost" id="btnCopyTop">è¤‡è£½ä¸‹å–®å…§å®¹</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- ===== Hero ===== -->
    <div class="hero card">
      <div class="heroTop">
        <div class="heroArt" id="heroArt"></div>
        <div class="heroBody">
          <h1 id="heroTitle"></h1>
          <p class="lead" id="heroText"></p>
          <div class="notice" id="noSample"></div>
        </div>
      </div>
    </div>

    <div class="grid">
      <!-- ===== Quiz ===== -->
      <div class="card">
        <div class="cardHd">
          <p class="title">é–‹å§‹é¸æ“‡</p>
          <p class="sub">é¸å®Œå°±æœƒç›´æ¥æ¨è–¦ï¼ˆæ‚¨ä¹Ÿå¯ä»¥éš¨æ™‚ä¿®æ”¹ï¼‰ã€‚</p>
        </div>
        <div class="cardBd" id="quiz"></div>
      </div>

      <!-- ===== Results ===== -->
      <div class="card">
        <div class="cardHd">
          <p class="title">æ¨è–¦çµæœ</p>
          <p class="sub">æœƒé¡¯ç¤ºã€Œåº—è™Ÿï¼ˆç›®éŒ„ç·¨è™Ÿï¼‰ã€ã€ç”¢åœ°/ç­‰ç´šã€è¦æ ¼èˆ‡åƒ¹æ ¼ï¼Œå¯ç›´æ¥åŠ å…¥è³¼ç‰©è»Šã€‚</p>
        </div>
        <div class="cardBd">
          <div class="result" id="results"></div>
          <div class="footnote" id="unitNote"></div>
          <div class="footnote" id="imgNote"></div>
        </div>
      </div>
    </div>

    <p class="footnote" style="margin-top:14px">Â© <span id="brand"></span>ã€€ï½œã€€<span id="footerNote"></span></p>
  </div>

  <!-- ===== Catalog Modal ===== -->
  <div class="overlay" id="ovCatalog" aria-hidden="true">
    <div class="modal">
      <div class="modalHd">
        <div>
          <div class="modalTitle">å•†å“ç›®éŒ„</div>
          <div class="help">å¯å…ˆç”¨åˆ†é¡å¿«é€Ÿè·³åˆ°æƒ³çœ‹çš„ç¨®é¡ï¼›è¦æ ¼ä¾ç›®éŒ„å›ºå®šï¼Œåªéœ€é¸æ•¸é‡åŠ å…¥è³¼ç‰©è»Šã€‚</div>
        </div>
        <button class="close" data-close="ovCatalog">é—œé–‰</button>
      </div>
      <div class="modalBd">
        <div class="tabs" id="catalogTabs"></div>
        <div class="catalogGrid" id="catalogGrid"></div>
      </div>
    </div>
  </div>

  <!-- ===== Cart Modal ===== -->
  <div class="overlay" id="ovCart" aria-hidden="true">
    <div class="modal">
      <div class="modalHd">
        <div>
          <div class="modalTitle">è³¼ç‰©è»Š</div>
          <div class="help">å¯èª¿æ•´æ•¸é‡æˆ–ç§»é™¤ï¼ˆä¸å­˜å€‹è³‡ï¼›åªè¨˜ä½æ‚¨çš„é¸æ“‡ï¼‰ã€‚</div>
        </div>
        <button class="close" data-close="ovCart">é—œé–‰</button>
      </div>
      <div class="modalBd" id="cartBody"></div>
    </div>
  </div>

  <!-- ===== Checkout Modal ===== -->
  <div class="overlay" id="ovCheckout" aria-hidden="true">
    <div class="modal">
      <div class="modalHd">
        <div>
          <div class="modalTitle">ä¸‹å–®è³‡æ–™</div>
          <div class="help">å¡«å¯«å¯„é€è³‡è¨Šå¾Œé€å‡ºï¼Œæˆ‘å€‘æœƒå†èˆ‡æ‚¨ç¢ºèªå“é …/æ•¸é‡/é‹é€æ–¹å¼ã€‚</div>
        </div>
        <button class="close" data-close="ovCheckout">é—œé–‰</button>
      </div>
      <div class="modalBd">
        <div id="checkoutSummary"></div>
        <div class="hr"></div>

        <div class="form">
          <div class="field">
            <label for="cName">æ”¶ä»¶äººå§“å</label>
            <input id="cName" placeholder="è«‹è¼¸å…¥å§“å" autocomplete="name" />
          </div>
          <div class="field">
            <label for="cPhone">é›»è©±</label>
            <input id="cPhone" placeholder="è«‹è¼¸å…¥é›»è©±" inputmode="tel" autocomplete="tel" />
          </div>
          <div class="field" style="grid-column:1/-1">
            <label for="cAddr">å¯„é€åœ°å€</label>
            <input id="cAddr" placeholder="ç¸£å¸‚/å€/è·¯/è™Ÿ/æ¨“/å®¤" autocomplete="street-address" />
            <div class="help">è‹¥éœ€è¶…å•†å–è²¨ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨å‚™è¨»å¡«ã€Œè¶…å•†é–€å¸‚ã€ã€‚</div>
          </div>
          <div class="field" style="grid-column:1/-1">
            <label for="cNote">å‚™è¨»ï¼ˆå¯ä¸å¡«ï¼‰</label>
            <textarea id="cNote" placeholder="ä¾‹ï¼šå¸Œæœ›é€±æœ«åˆ°è²¨ï¼é€ç¦®æ€¥ä»¶ï¼è¶…å•†é–€å¸‚è³‡è¨Šâ€¦"></textarea>
          </div>
        </div>

        <div class="hr"></div>
        <div class="row">
          <button class="btn" id="btnCopyOrder">è¤‡è£½ä¸‹å–®å…§å®¹</button>
          <button class="btn" id="btnMsgOrder">ç”¨ Messenger ç¢ºèªï¼ˆå¯é¸ï¼‰</button>
          <button class="btn btnPri" id="btnSubmitOrder">é€å‡ºä¸‹å–®</button>
        </div>
        <div class="help" id="submitHint" style="margin-top:10px"></div>
      </div>
    </div>
  </div>

  <script>
    // ========= Utils =========
    const $ = (id)=>document.getElementById(id);
    const LS_KEY = "xiaowen_tea_cart_v3";
    const LS_ANS = "xiaowen_tea_answers_v3";

    const state = {
      answers: JSON.parse(localStorage.getItem(LS_ANS) || "{}"),
      cart: JSON.parse(localStorage.getItem(LS_KEY) || "[]"),
    };

    function save(){
      localStorage.setItem(LS_KEY, JSON.stringify(state.cart));
      localStorage.setItem(LS_ANS, JSON.stringify(state.answers));
    }

    function money(n){
      const x = Number(n||0);
      return "NT$ " + x.toLocaleString("zh-Hant-TW");
    }

    function openOverlay(id){
      const el = $(id);
      el.classList.add("open");
      el.setAttribute("aria-hidden","false");
      document.body.style.overflow="hidden";
    }
    function closeOverlay(id){
      const el = $(id);
      el.classList.remove("open");
      el.setAttribute("aria-hidden","true");
      document.body.style.overflow="";
    }

    // ====== SVG icons (no copyright, no packaging) ======
    function svgDataURI(svg){
      return "data:image/svg+xml;charset=utf-8," + encodeURIComponent(svg);
    }

    const ICONS = {
      hero: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#f4efe6"/>
          <g opacity="0.20">
            <circle cx="80" cy="60" r="34" fill="#2f4f3a"/>
            <circle cx="440" cy="56" r="26" fill="#2f4f3a"/>
            <circle cx="420" cy="170" r="38" fill="#2f4f3a"/>
          </g>
          <path d="M240 62c24-26 64-26 88 0" fill="none" stroke="#2f4f3a" stroke-width="8" stroke-linecap="round" opacity="0.45"/>
          <path d="M224 86h144c8 0 14 6 14 14v54c0 18-14 32-32 32H238c-18 0-32-14-32-32v-54c0-8 6-14 14-14z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M356 112h24c10 0 18 8 18 18s-8 18-18 18h-24" fill="none" stroke="#2f4f3a" stroke-width="8" stroke-linecap="round" opacity="0.55"/>
          <path d="M242 156h104" stroke="#e5e7eb" stroke-width="4" stroke-linecap="round"/>
          <path d="M256 96c-8 16 8 18 0 34" fill="none" stroke="#2f4f3a" stroke-width="5" stroke-linecap="round" opacity="0.35"/>
          <path d="M284 96c-8 16 8 18 0 34" fill="none" stroke="#2f4f3a" stroke-width="5" stroke-linecap="round" opacity="0.35"/>
          <path d="M312 96c-8 16 8 18 0 34" fill="none" stroke="#2f4f3a" stroke-width="5" stroke-linecap="round" opacity="0.35"/>
        </svg>
      `),
      tea: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <g opacity="0.12">
            <circle cx="70" cy="55" r="34" fill="#2f4f3a"/>
            <circle cx="450" cy="60" r="28" fill="#2f4f3a"/>
          </g>
          <path d="M240 74c18-26 44-34 64-34 30 0 54 20 62 34" fill="none" stroke="#2f4f3a" stroke-width="8" opacity="0.35" stroke-linecap="round"/>
          <path d="M190 96h200c8 0 14 6 14 14v46c0 18-14 32-32 32H222c-18 0-32-14-32-32v-46c0-8 6-14 14-14z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M380 118h26c10 0 18 8 18 18s-8 18-18 18h-26" fill="none" stroke="#2f4f3a" stroke-width="8" opacity="0.55" stroke-linecap="round"/>
          <path d="M220 156h120" stroke="#e5e7eb" stroke-width="4" stroke-linecap="round"/>
        </svg>
      `),
      bag: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M210 70h100c10 0 18 8 18 18v82c0 10-8 18-18 18H210c-10 0-18-8-18-18V88c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M310 90c32 10 62 0 78-18" fill="none" stroke="#2f4f3a" stroke-width="7" opacity="0.45" stroke-linecap="round"/>
          <rect x="242" y="98" width="36" height="60" rx="10" fill="#2f4f3a" opacity="0.14"/>
          <circle cx="340" cy="70" r="14" fill="#2f4f3a" opacity="0.18"/>
        </svg>
      `),
      other: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <g opacity="0.14" fill="#2f4f3a">
            <circle cx="78" cy="60" r="30"/>
            <circle cx="450" cy="62" r="26"/>
          </g>
          <path d="M220 86c0-20 16-36 36-36h8c20 0 36 16 36 36v8h-80v-8z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M238 94v76" stroke="#2f4f3a" stroke-width="8" opacity="0.55" stroke-linecap="round"/>
          <path d="M318 112c20 4 32 14 32 28 0 18-20 32-52 34" fill="none" stroke="#2f4f3a" stroke-width="8" opacity="0.35" stroke-linecap="round"/>
        </svg>
      `),
      honey: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M220 70h80c10 0 18 8 18 18v90c0 10-8 18-18 18h-80c-10 0-18-8-18-18V88c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M238 120c22 14 42 14 64 0v34c0 8-6 14-14 14h-36c-8 0-14-6-14-14v-34z" fill="#f2c94c" opacity="0.35"/>
          <path d="M226 60h88" stroke="#2f4f3a" stroke-width="10" opacity="0.35" stroke-linecap="round"/>
          <circle cx="410" cy="86" r="18" fill="#2f4f3a" opacity="0.14"/>
        </svg>
      `),
      mushroom: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M170 98c0-36 40-64 90-64s90 28 90 64v10H170v-10z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M220 108v70" stroke="#2f4f3a" stroke-width="10" opacity="0.55" stroke-linecap="round"/>
          <path d="M300 108v70" stroke="#2f4f3a" stroke-width="10" opacity="0.55" stroke-linecap="round"/>
          <circle cx="230" cy="86" r="10" fill="#2f4f3a" opacity="0.14"/>
          <circle cx="290" cy="86" r="10" fill="#2f4f3a" opacity="0.14"/>
        </svg>
      `),
      oil: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M238 46h44v24h-44z" fill="#2f4f3a" opacity="0.25"/>
          <path d="M230 70h60c10 0 18 8 18 18v98c0 10-8 18-18 18h-60c-10 0-18-8-18-18V88c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M242 132c18 14 38 14 56 0v40c0 8-6 14-14 14h-28c-8 0-14-6-14-14v-40z" fill="#8fd19e" opacity="0.25"/>
          <path d="M372 160c-18-10-26-22-26-34 0-20 18-36 44-38" fill="none" stroke="#2f4f3a" stroke-width="8" opacity="0.35" stroke-linecap="round"/>
        </svg>
      `),
      sauce: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M236 44h48v28h-48z" fill="#2f4f3a" opacity="0.22"/>
          <path d="M228 72h64c10 0 18 8 18 18v96c0 10-8 18-18 18h-64c-10 0-18-8-18-18V90c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M242 132c18 10 38 10 56 0v32c0 8-6 14-14 14h-28c-8 0-14-6-14-14v-32z" fill="#fca5a5" opacity="0.22"/>
          <path d="M340 70c30 8 58-2 72-20" fill="none" stroke="#2f4f3a" stroke-width="7" opacity="0.35" stroke-linecap="round"/>
        </svg>
      `),
      powder: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M206 72h108c10 0 18 8 18 18v92c0 10-8 18-18 18H206c-10 0-18-8-18-18V90c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <path d="M226 112h68" stroke="#e5e7eb" stroke-width="6" stroke-linecap="round"/>
          <path d="M226 136h80" stroke="#e5e7eb" stroke-width="6" stroke-linecap="round"/>
          <circle cx="382" cy="156" r="18" fill="#2f4f3a" opacity="0.14"/>
        </svg>
      `),
      seeds: svgDataURI(`
        <svg xmlns="http://www.w3.org/2000/svg" width="520" height="220" viewBox="0 0 520 220">
          <rect width="520" height="220" rx="24" fill="#eef2ef"/>
          <path d="M200 86c10-20 26-32 60-32s50 12 60 32" fill="none" stroke="#2f4f3a" stroke-width="8" opacity="0.30" stroke-linecap="round"/>
          <path d="M186 96h148c10 0 18 8 18 18v50c0 20-16 36-36 36H222c-20 0-36-16-36-36v-50c0-10 8-18 18-18z" fill="#fff" stroke="#e5e7eb" stroke-width="3"/>
          <g fill="#2f4f3a" opacity="0.14">
            <ellipse cx="238" cy="132" rx="10" ry="14"/>
            <ellipse cx="270" cy="132" rx="10" ry="14"/>
            <ellipse cx="302" cy="132" rx="10" ry="14"/>
          </g>
        </svg>
      `),
    };

    function imageForProduct(p){
      if(p.group==="tea") return ICONS.tea;
      if(p.group==="bag") return ICONS.bag;
      // other: decide by storeNo
      const sn = String(p.storeNo||"");
      if(sn.startsWith("35")) return ICONS.mushroom;
      if(sn==="36") return ICONS.honey;
      if(sn==="37") return ICONS.oil;
      if(sn==="38") return ICONS.sauce;
      if(sn==="39") return ICONS.powder;
      if(sn==="34") return ICONS.seeds;
      return ICONS.other;
    }

    function heroSetup(){
      $("heroTitle").textContent = CONFIG.heroTitle;
      $("heroText").textContent = CONFIG.heroText;
      $("noSample").textContent = CONFIG.noSampleNotice;
      $("unitNote").textContent = CONFIG.unitNote;
      $("imgNote").textContent = CONFIG.imageNote;
      $("brand").textContent = CONFIG.brandTitle;
      $("footerNote").textContent = CONFIG.footerNote;

      $("heroArt").style.backgroundImage = `url("${ICONS.hero}")`;
      $("heroArt").style.backgroundSize = "cover";
      $("heroArt").style.backgroundPosition = "center";
    }

    function labelOf(key, value){
      const q = CONFIG.questions.find(x=>x.key===key);
      if(!q) return value;
      const opt = q.options.find(o=>o.value===value);
      if(!opt) return value;
      return String(opt.label).replace(/\s+/g, " ").trim();
    }

    function renderQuiz(){
      const root = $("quiz");
      root.innerHTML = "";

      CONFIG.questions.forEach((q)=>{
        const box = document.createElement("div");
        box.style.marginBottom = "14px";

        const head = document.createElement("div");
        head.className="row";
        head.style.justifyContent="space-between";

        const qTitle = document.createElement("p");
        qTitle.className="q";
        qTitle.textContent = q.title;

        const chosen = document.createElement("span");
        chosen.className="pill";
        chosen.textContent = state.answers[q.key] ? `å·²é¸ï¼š${labelOf(q.key, state.answers[q.key])}` : "å°šæœªé¸";

        head.appendChild(qTitle);
        head.appendChild(chosen);

        const opts = document.createElement("div");
        opts.className="options";

        q.options.forEach(opt=>{
          const btn = document.createElement("button");
          btn.type="button";
          btn.className="opt";
          if(state.answers[q.key] === opt.value) btn.classList.add("active");
          btn.innerHTML = `<div>${opt.label}</div><small>${opt.note || ""}</small>`;
          btn.onclick = ()=>{
            state.answers[q.key] = opt.value;
            save();
            renderQuiz();
            renderResults();
          };
          opts.appendChild(btn);
        });

        box.appendChild(head);
        box.appendChild(opts);
        root.appendChild(box);
      });

      // å¦‚æœ Q1 é¸äº†ã€Œç‰¹è‰²å•†å“ã€æˆ–ã€ŒèŒ¶åŒ…ã€ï¼ŒæŠŠ Q3~Q5 è®Šç°æç¤ºï¼ˆä½†ä»å¯ä¿ç•™ï¼Œæ–¹ä¾¿ä½ ä¹‹å¾Œèª¿æ•´ï¼‰
      const cat = state.answers.category;
      if(cat==="other" || cat==="bag"){
        const tip = document.createElement("div");
        tip.className="notice";
        tip.textContent = "æç¤ºï¼šè‹¥æ‚¨é¸ã€ŒèŒ¶åŒ…ï¼ç‰¹è‰²å•†å“ã€ï¼ŒQ3~Q5 åªä½œç‚ºæ¨è–¦æ’åºåƒè€ƒï¼Œä¸æœƒè®“ç•«é¢è®Šæ€ªï¼›ç›®éŒ„ä»å¯ç›´æ¥åŠ å…¥è³¼ç‰©è»Šã€‚";
        root.appendChild(tip);
      }

      const actions = document.createElement("div");
      actions.className="actions";
      actions.innerHTML = `
        <button class="btn" id="btnReset">æ¸…ç©ºé¸æ“‡</button>
        <button class="btn" id="btnResetCart">æ¸…ç©ºè³¼ç‰©è»Š</button>
      `;
      root.appendChild(actions);

      $("btnReset").onclick = ()=>{
        state.answers = {};
        save();
        renderQuiz();
        renderResults();
      };
      $("btnResetCart").onclick = ()=>{
        state.cart = [];
        save();
        renderCartBar();
      };
    }

    // ========= Recommendation =========
    function wantGroup(){
      const cat = state.answers.category;
      if(cat==="pick" || !cat) return "tea";
      if(cat==="tea") return "tea";
      if(cat==="bag") return "bag";
      if(cat==="other") return "other";
      return "tea";
    }

    function scoreProduct(p){
      const use = state.answers.use;
      const feel = state.answers.feel;
      const budget = state.answers.budget;
      const flavor = state.answers.flavor;

      let s = 0;
      if(use && p.use?.includes(use)) s += 3;

      // feel/flavor pick: ä¸æ‰£åˆ†
      if(feel && feel!=="pick" && p.feel?.includes(feel)) s += 3;
      if(flavor && flavor!=="pick" && p.flavor?.includes(flavor)) s += 2;

      if(budget){
        // çè—ï¼šæ›´åå‘é«˜åƒ¹ï¼ˆé¿å…ä½ èªªçš„ã€Œæ€éº¼çè—éƒ½è·‘ 8Aã€ï¼‰
        if(budget==="rare"){
          if((p.priceNT||0) >= 5600) s += 6;
          else if((p.priceNT||0) >= 4000) s += 3;
          else s -= 6;
        }else{
          if(p.budget?.includes(budget)) s += 2;
        }
      }

      // é€ç¦®ï¼šç•¥åå‘ä¸­é«˜åƒ¹/é«”é¢è¦æ ¼
      if(use==="gift"){
        if((p.priceNT||0) >= 600) s += 1;
        if(String(p.spec||"").includes("ç¨ç«‹åŒ…è£")) s += 1;
        if(String(p.spec||"").includes("äºŒå…©") || String(p.spec||"").includes("å››å…©")) s += 1;
      }

      // å¾®èª¿ï¼šæ•£èŒ¶å„ªå…ˆæ’é™¤èŒ¶åŒ…é‚è¼¯ï¼ˆå·²ç”¨ group åˆ†æµï¼‰
      return s;
    }

    function pickProducts(){
      const g = wantGroup();
      // æ²’é¸ Q1 ä¸é¡¯ç¤º
      if(!state.answers.category) return [];

      const list = CONFIG.products
        .filter(p=>p.group===g)
        .map(p=>({p, s: scoreProduct(p)}))
        .sort((a,b)=> b.s - a.s || (b.p.priceNT||0)-(a.p.priceNT||0));

      const count = CONFIG.pickCount[g] ?? 3;
      const picked = list.slice(0, count).map(x=>x.p);

      // ã€Œç‰¹è‰²å•†å“ã€å›ºå®šï¼šä¸»æ¨ 1 + ä¹Ÿå¾ˆé©åˆ 1ï¼ˆä½ è¦æ›å…‰ï¼‰
      // å·²ç”¨ pickCount.other = 2

      return picked;
    }

    function buildWhy(p, rankLabel){
      const arr = [];
      if(rankLabel) arr.push(rankLabel);
      if(p.note) arr.push(p.note);
      // é¡å¤–è£œä¸€å¥ï¼šå°ç£èŒ¶è¨´æ±‚ï¼ˆé¿å…æç¾è€Œä½³ï¼‰
      if(p.group!=="other") arr.push("å°ç£èŒ¶ç³»ï¼›ä¾ç›®éŒ„è¦æ ¼å‡ºè²¨ã€‚");
      return arr;
    }

    function renderResults(){
      const root = $("results");
      root.innerHTML = "";

      const picked = pickProducts();
      if(picked.length === 0){
        root.innerHTML = `<p class="muted">è«‹å…ˆå®Œæˆå·¦å´é¸æ“‡ï¼Œé€™è£¡å°±æœƒå‡ºç¾æ¨è–¦çµæœã€‚ä¹Ÿå¯ä»¥ç›´æ¥é»ä¸Šæ–¹ã€Œå•†å“ç›®éŒ„ã€è‡ªå·±æŒ‘ã€‚</p>`;
        return;
      }

      picked.forEach((p, i)=>{
        const card = document.createElement("div");
        card.className="rCard";

        const img = document.createElement("div");
        img.className="rImg";
        img.style.backgroundImage = `url("${imageForProduct(p)}")`;

        const bd = document.createElement("div");
        bd.className="rBd";

        const rank = (i===0 ? "â­ ä¸»æ¨" : "â—»ï¸ ä¹Ÿå¾ˆé©åˆæ‚¨");
        const whyList = buildWhy(p, "");

        bd.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div style="min-width:0">
              <div class="badge">${rank}</div>
              <h3 class="rName">${p.name}</h3>
              <p class="rMeta">åº—è™Ÿï¼š<b>${p.storeNo}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
              <p class="rMeta">è¦æ ¼ï¼š<b>${p.spec || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${money(p.priceNT)}</b></p>
            </div>
            <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
          </div>
          <ul class="why">
            ${whyList.map(x=>`<li>${x}</li>`).join("")}
          </ul>
        `;
        bd.querySelector("button").onclick = ()=> addToCart(p);

        card.appendChild(img);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    // ========= Cart =========
    function cartKey(p){
      // ä¾ä½ è¦æ±‚ï¼šè¦æ ¼å›ºå®šã€åªèƒ½é¸æ•¸é‡ â†’ ç›´æ¥ç”¨ storeNo ç•¶å”¯ä¸€éµ
      return String(p.storeNo);
    }

    function addToCart(p){
      const key = cartKey(p);
      const existing = state.cart.find(x=>x.key===key);
      if(existing){
        existing.qty += 1;
      }else{
        state.cart.push({
          key,
          storeNo: p.storeNo,
          name: p.name,
          origin: p.origin || "â€”",
          spec: p.spec || "â€”",
          priceNT: Number(p.priceNT||0),
          qty: 1,
          group: p.group
        });
      }
      save();
      renderCartBar();
    }

    function cartTotal(){
      return state.cart.reduce((s,x)=> s + (Number(x.priceNT||0) * Number(x.qty||0)), 0);
    }

    function renderCartBar(){
      const count = state.cart.reduce((s,x)=>s+Number(x.qty||0),0);
      if(count===0){
        $("cartCount").textContent = "ğŸ›’ å°šæœªé¸æ“‡å•†å“";
        $("cartItems").textContent = "";
      }else{
        $("cartCount").textContent = `ğŸ›’ å·²é¸ ${count} ä»¶`;
        const names = state.cart.map(x=>`${x.name}ï¼ˆ${x.storeNo}ï¼‰Ã—${x.qty}`).join("ã€");
        $("cartItems").textContent = names;
      }
    }

    function renderCartModal(){
      const body = $("cartBody");
      body.innerHTML = "";

      if(state.cart.length===0){
        body.innerHTML = `<p class="muted">è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚æ‚¨å¯ä»¥å…ˆå®Œæˆå·¦å´é¸æ“‡ï¼Œæˆ–åˆ°ã€Œå•†å“ç›®éŒ„ã€ç›´æ¥åŠ å…¥ã€‚</p>`;
        return;
      }

      state.cart.forEach((x)=>{
        const div = document.createElement("div");
        div.className="item";
        div.style.marginBottom="10px";
        div.innerHTML = `
          <div class="itemTop">
            <div style="min-width:0">
              <p class="itemName">åº—è™Ÿ ${x.storeNo}ï½œ${x.name}</p>
              <p class="itemMeta">è¦æ ¼ï¼š<b>${x.spec}</b> ï½œ åƒ¹æ ¼ï¼š<b>${money(x.priceNT)}</b></p>
            </div>
            <div class="qty">
              <button aria-label="minus">ï¼</button>
              <span>${x.qty}</span>
              <button aria-label="plus">ï¼‹</button>
            </div>
          </div>
          <div class="hr"></div>
          <div class="row" style="justify-content:space-between">
            <button class="btn danger">ç§»é™¤</button>
            <span class="sum">å°è¨ˆï¼š${money(Number(x.priceNT)*Number(x.qty))}</span>
          </div>
        `;
        const [minus, plus] = div.querySelectorAll(".qty button");
        const remove = div.querySelector(".danger");
        minus.onclick = ()=>{
          x.qty = Math.max(1, x.qty-1);
          save(); renderCartBar(); renderCartModal();
        };
        plus.onclick = ()=>{
          x.qty += 1;
          save(); renderCartBar(); renderCartModal();
        };
        remove.onclick = ()=>{
          state.cart = state.cart.filter(t=>t.key!==x.key);
          save(); renderCartBar(); renderCartModal();
        };
        body.appendChild(div);
      });

      body.insertAdjacentHTML("beforeend", `
        <div class="hr"></div>
        <div class="sumrow">
          <div>
            <div class="sum">ç¸½è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š${money(cartTotal())}</div>
            <div class="help">${CONFIG.unitNote}</div>
          </div>
          <div class="row">
            <button class="btn" id="btnCopyCart">è¤‡è£½ä¸‹å–®å…§å®¹</button>
            <button class="btn btnPri" id="btnGoCheckout">ä¸‹å–®ï¼å¡«å¯«è³‡æ–™</button>
          </div>
        </div>
      `);

      $("btnCopyCart").onclick = ()=> copyOrderText(true);
      $("btnGoCheckout").onclick = ()=> { closeOverlay("ovCart"); openCheckout(); };
    }

    // ========= Catalog =========
    const CATALOG_TABS = [
      {key:"all", label:"å…¨éƒ¨"},
      {key:"tea", label:"èŒ¶ï¼ˆæ•£èŒ¶ï¼‰"},
      {key:"bag", label:"èŒ¶åŒ…"},
      {key:"other", label:"ç‰¹è‰²å•†å“"}
    ];
    let catalogTab = "all";

    function renderCatalogTabs(){
      const tabs = $("catalogTabs");
      tabs.innerHTML = "";
      CATALOG_TABS.forEach(t=>{
        const b = document.createElement("button");
        b.className = "tab" + (catalogTab===t.key ? " active" : "");
        b.textContent = t.label;
        b.onclick = ()=>{
          catalogTab = t.key;
          renderCatalogTabs();
          renderCatalogGrid();
        };
        tabs.appendChild(b);
      });
    }

    function renderCatalogGrid(){
      const grid = $("catalogGrid");
      grid.innerHTML = "";

      const items = CONFIG.products.filter(p=>{
        if(catalogTab==="all") return true;
        return p.group===catalogTab;
      });

      // ä¾åº—è™Ÿæ’åºï¼ˆæ•¸å­—å„ªå…ˆï¼Œå†æ–‡å­—ï¼‰
      items.sort((a,b)=>{
        const A = String(a.storeNo), B = String(b.storeNo);
        const na = parseFloat(A), nb = parseFloat(B);
        const aNum = Number.isFinite(na), bNum = Number.isFinite(nb);
        if(aNum && bNum) return na-nb;
        if(aNum && !bNum) return -1;
        if(!aNum && bNum) return 1;
        return A.localeCompare(B,"zh-Hant");
      });

      items.forEach(p=>{
        const c = document.createElement("div");
        c.className="cCard";

        const img = document.createElement("div");
        img.className="cImg";
        img.style.backgroundImage = `url("${imageForProduct(p)}")`;

        const bd = document.createElement("div");
        bd.className="cBd";
        bd.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div style="min-width:0">
              <h3 class="cName">åº—è™Ÿ ${p.storeNo}ï½œ${p.name}</h3>
              <p class="cMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
              <p class="cMeta">è¦æ ¼ï¼š<b>${p.spec || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${money(p.priceNT)}</b></p>
            </div>
            <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
          </div>
          <p class="cDesc">${p.note || ""}</p>
        `;
        bd.querySelector("button").onclick = ()=> { addToCart(p); };

        c.appendChild(img);
        c.appendChild(bd);
        grid.appendChild(c);
      });
    }

    // ========= Order Text / Copy =========
    function orderText(withCustomer=false){
      const lines = [];
      lines.push("ã€å°æ–‡çš„èŒ¶ï½œä¸‹å–®å…§å®¹ã€‘");
      lines.push("");
      state.cart.forEach(x=>{
        lines.push(`ãƒ»åº—è™Ÿ ${x.storeNo}ï½œ${x.name}`);
        lines.push(`  è¦æ ¼ï¼š${x.spec}`);
        lines.push(`  å–®åƒ¹ï¼š${money(x.priceNT)}ã€€æ•¸é‡ï¼š${x.qty}ã€€å°è¨ˆï¼š${money(Number(x.priceNT)*Number(x.qty))}`);
      });
      lines.push("");
      lines.push(`ç¸½è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š${money(cartTotal())}`);
      lines.push(CONFIG.unitNote);
      lines.push("");

      if(withCustomer){
        const nm = $("cName")?.value?.trim() || "";
        const ph = $("cPhone")?.value?.trim() || "";
        const ad = $("cAddr")?.value?.trim() || "";
        const nt = $("cNote")?.value?.trim() || "";
        lines.push("ã€æ”¶ä»¶è³‡è¨Šã€‘");
        lines.push(`å§“åï¼š${nm}`);
        lines.push(`é›»è©±ï¼š${ph}`);
        lines.push(`åœ°å€ï¼š${ad}`);
        if(nt) lines.push(`å‚™è¨»ï¼š${nt}`);
        lines.push("");
      }

      lines.push("ï¼ˆç³»çµ±è¨Šæ¯ï¼‰æœ¬é ç‚ºå°æ–‡çš„èŒ¶å°ˆç”¨é¸èŒ¶èˆ‡ä¸‹å–®å·¥å…·ï¼Œè«‹å‹¿æ“…è‡ªè¤‡è£½æˆ–æ”¹ä½œä»–ç”¨ã€‚");
      return lines.join("\n");
    }

    async function copyText(txt){
      try{
        await navigator.clipboard.writeText(txt);
        return true;
      }catch(e){
        return false;
      }
    }

    async function copyOrderText(includeCustomer=false){
      if(!state.cart.length){
        alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      const txt = orderText(includeCustomer);
      const ok = await copyText(txt);
      if(ok) alert("å·²è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ã€‚");
      else alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–è¤‡è£½ï¼š\n\n" + txt);
    }

    // ========= Checkout =========
    function openCheckout(){
      if(!state.cart.length){
        alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      // summary
      const box = $("checkoutSummary");
      const html = [];
      html.push(`<div class="sum"><span class="ok">âœ”</span> è«‹ç¢ºèªå“é …ï¼ˆå¯å›è³¼ç‰©è»Šä¿®æ”¹ï¼‰</div>`);
      html.push(`<div class="help">ç¸½è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š<b>${money(cartTotal())}</b></div>`);
      html.push(`<div class="hr"></div>`);
      html.push(`<div class="help">å“é …æ¸…å–®ï¼š</div>`);
      html.push(`<div class="kbd" style="white-space:pre-wrap">${orderText(false)}</div>`);
      box.innerHTML = html.join("");
      $("submitHint").textContent = (CONFIG.orderMode==="mailto")
        ? "é€å‡ºä¸‹å–®æœƒé–‹å•Ÿ Emailï¼ˆmailï¼‰è‰ç¨¿ï¼›æ‚¨åªè¦æŒ‰é€å‡ºå³å¯ã€‚"
        : "é€å‡ºä¸‹å–®æœƒç”¨è¡¨å–®æœå‹™é€å‡ºï¼ˆéœ€å…ˆå¡«å¥½ formspree endpointï¼‰ã€‚";
      openOverlay("ovCheckout");
    }

    function openMessengerWithText(txt){
      if(!CONFIG.messengerUrl){
        alert("ä½ å°šæœªè¨­å®šç²‰å°ˆ Messenger é€£çµï¼ˆCONFIG.messengerUrlï¼‰ã€‚\n\nå·²å…ˆå¹«ä½ è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ï¼Œè«‹åˆ°ç²‰å°ˆè²¼ä¸Šå³å¯ã€‚");
        copyText(txt);
        return;
      }
      // ç”¨ ref å¸¶æ–‡å­—ï¼ˆéƒ¨åˆ†ç²‰å°ˆå¯èƒ½ä¸åƒå¤ªé•·ï¼›ä¿åº•ä»å¯è¤‡è£½ï¼‰
      const url = CONFIG.messengerUrl.includes("m.me/")
        ? `${CONFIG.messengerUrl}?ref=${encodeURIComponent(txt.slice(0,900))}`
        : CONFIG.messengerUrl;
      window.open(url, "_blank");
    }

    function submitOrder(){
      if(!state.cart.length){
        alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      const nm = $("cName").value.trim();
      const ph = $("cPhone").value.trim();
      const ad = $("cAddr").value.trim();

      if(!nm || !ph || !ad){
        alert("è«‹å…ˆå¡«å¯«ï¼šå§“åã€é›»è©±ã€åœ°å€ã€‚");
        return;
      }

      const txt = orderText(true);

      if(CONFIG.orderMode==="mailto"){
        const to = CONFIG.orderEmailTo || "";
        const subject = encodeURIComponent("å°æ–‡çš„èŒ¶ï½œç¶²ç«™ä¸‹å–®");
        const body = encodeURIComponent(txt);
        // mailto æœƒè®“ä½¿ç”¨è€…ç”¨è‡ªå·±çš„ mail app é€å‡º
        window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
        alert("å·²é–‹å•Ÿ Email è‰ç¨¿ï¼ˆè‹¥æœªè·³è½‰ï¼Œè«‹å…è¨±ç€è¦½å™¨é–‹å•Ÿ mailï¼‰ã€‚");
        return;
      }

      if(CONFIG.orderMode==="formspree"){
        if(!CONFIG.formspreeEndpoint){
          alert("å°šæœªè¨­å®š Formspree endpointï¼ˆCONFIG.formspreeEndpointï¼‰ã€‚\n\nå·²å…ˆå¹«ä½ è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ã€‚");
          copyText(txt);
          return;
        }
        // POST to Formspree
        fetch(CONFIG.formspreeEndpoint, {
          method: "POST",
          headers: {"Content-Type":"application/json","Accept":"application/json"},
          body: JSON.stringify({
            name: nm,
            phone: ph,
            address: ad,
            note: $("cNote").value.trim(),
            order: state.cart,
            total: cartTotal(),
            text: txt
          })
        }).then(async (r)=>{
          if(r.ok){
            alert("å·²é€å‡ºä¸‹å–®ï¼æˆ‘å€‘æœƒå†èˆ‡æ‚¨ç¢ºèªã€‚");
            closeOverlay("ovCheckout");
          }else{
            alert("é€å‡ºå¤±æ•—ï¼ˆå¯èƒ½ endpoint ä¸æ­£ç¢ºï¼‰ã€‚\n\nå·²å…ˆå¹«ä½ è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ã€‚");
            copyText(txt);
          }
        }).catch(()=>{
          alert("é€å‡ºå¤±æ•—ï¼ˆç¶²è·¯æˆ– endpoint å•é¡Œï¼‰ã€‚\n\nå·²å…ˆå¹«ä½ è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ã€‚");
          copyText(txt);
        });
      }
    }

    // ========= Wire UI =========
    function wireUI(){
      // open modals
      $("btnCatalog").onclick = ()=>{
        renderCatalogTabs();
        renderCatalogGrid();
        openOverlay("ovCatalog");
      };
      $("btnCart").onclick = ()=>{
        renderCartModal();
        openOverlay("ovCart");
      };
      $("btnCheckoutTop").onclick = ()=> openCheckout();
      $("btnCopyTop").onclick = ()=> copyOrderText(false);

      // modal close
      document.querySelectorAll("[data-close]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          closeOverlay(btn.getAttribute("data-close"));
        });
      });

      // click outside close
      ["ovCatalog","ovCart","ovCheckout"].forEach(id=>{
        const ov = $(id);
        ov.addEventListener("click",(e)=>{
          if(e.target === ov) closeOverlay(id);
        });
      });

      // checkout buttons
      $("btnCopyOrder").onclick = ()=> copyOrderText(true);
      $("btnMsgOrder").onclick = ()=> openMessengerWithText(orderText(true));
      $("btnSubmitOrder").onclick = ()=> submitOrder();

      // Esc close
      window.addEventListener("keydown",(e)=>{
        if(e.key==="Escape"){
          ["ovCatalog","ovCart","ovCheckout"].forEach(id=>{
            if($(id).classList.contains("open")) closeOverlay(id);
          });
        }
      });
    }

    // ========= Init =========
    heroSetup();
    wireUI();
    renderQuiz();
    renderResults();
    renderCartBar();
  </script>
</body>
</html>
