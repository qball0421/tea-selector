<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å°æ–‡çš„èŒ¶ï½œé¸èŒ¶å™¨</title>
  <style>
    :root{
      --bg:#faf7f2;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#2f4f3a;
      --soft:#f4efe6;
      --shadow: 0 10px 35px rgba(0,0,0,.06);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: system-ui,-apple-system,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;line-height:1.55}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:1060px;margin:0 auto;padding:14px 14px 20px}
    @media (min-width:900px){ .wrap{padding:18px 18px 28px} }

    /* Top bar */
    .cartbar{
      position:sticky; top:0; z-index:50;
      background:rgba(250,247,242,.86); backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .cartinner{max-width:1060px;margin:0 auto;padding:10px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    @media (min-width:900px){ .cartinner{padding:10px 18px} }
    .cartleft{display:flex;gap:10px;align-items:center;min-width:0}
    .cartcount{font-weight:800}
    .cartitems{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:58vw}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{font-size:12px;color:#374151;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:10px 14px;cursor:pointer}
    .btnPri{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn:active{transform:scale(.99)}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}

    /* Hero */
    .hero{background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.70));border:1px solid var(--line);border-radius:24px;box-shadow:var(--shadow);overflow:hidden}
    .heroImg{
      height:110px; /* æ‰‹æ©Ÿç¸®çŸ­ï¼Œé¿å…ä¸Šæ–¹ç©ºç™½éå¤§ */
      background-size:cover;background-position:center;
      background-image:
        radial-gradient(circle at 22% 30%, rgba(255,255,255,.95), rgba(255,255,255,0) 55%),
        radial-gradient(circle at 65% 40%, rgba(47,79,58,.16), rgba(47,79,58,0) 55%),
        linear-gradient(135deg, rgba(47,79,58,.18), rgba(0,0,0,0));
    }
    @media (min-width:900px){ .heroImg{height:150px} }
    .heroBody{padding:14px 14px 10px}
    h1{margin:0 0 8px;font-size:22px;letter-spacing:.5px}
    @media (min-width:900px){ h1{font-size:26px} }
    .lead{margin:0;color:var(--muted)}
    .notice{margin:12px 0 0;padding:10px 12px;background:var(--soft);border:1px solid var(--line);border-radius:12px;color:#374151;font-size:14px}

    /* Layout */
    .grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
    @media (min-width:980px){ .grid{grid-template-columns: 1.05fr .95fr;} }

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow)}
    .cardHd{padding:14px 14px 0}
    .cardBd{padding:14px}
    .title{font-weight:800;margin:0 0 6px}
    .sub{color:var(--muted);font-size:14px;margin:0}

    /* Quiz */
    .q{margin:0 0 10px;font-weight:800}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:520px){ .options{grid-template-columns:1fr 1fr;} }
    .opt{
      text-align:left; padding:12px; border:1px solid var(--line); border-radius:14px;
      background:#fff; cursor:pointer; transition:.12s; position:relative;
    }
    .opt:hover{transform: translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .opt small{display:block;color:var(--muted);margin-top:4px}
    .opt.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.18)}

    /* Results */
    .result{display:grid;grid-template-columns:1fr;gap:12px}
    .rCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .rImg{height:120px;background:#f3f4f6;background-size:cover;background-position:center}
    .rBd{padding:12px}
    .rName{margin:0 0 4px;font-weight:900}
    .rMeta{margin:0;color:var(--muted);font-size:13px}
    .why{margin:10px 0 0;color:#374151;font-size:14px}
    .why li{margin:4px 0}
    .footnote{font-size:12px;color:var(--muted);margin-top:10px}

    /* Catalog */
    .catalogTop{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .search{
      flex:1; min-width:220px;
      border:1px solid var(--line); border-radius:999px; padding:10px 14px;
      background:#fff;
    }
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{
      border:1px solid var(--line); background:#fff; border-radius:999px;
      padding:8px 12px; cursor:pointer; font-size:13px;
    }
    .tab.active{background:var(--accent); border-color:var(--accent); color:#fff}
    .catGrid{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    @media (min-width:720px){ .catGrid{grid-template-columns:1fr 1fr} }
    .pCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .pBd{padding:12px}
    .pName{margin:0 0 4px;font-weight:900}
    .pMeta{margin:0;color:var(--muted);font-size:13px}
    .pDesc{margin:8px 0 0;color:#374151;font-size:14px}
    .pActions{margin-top:10px;display:flex;gap:10px;justify-content:space-between;align-items:center;flex-wrap:wrap}

    /* Modal cart */
    .modalOverlay{
      position:fixed; inset:0; background:rgba(0,0,0,.40);
      display:none; z-index:80;
    }
    .modalOverlay.open{display:block}
    .modal{
      position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
      width:min(920px, 92vw);
      max-height:84vh;
      overflow:auto;
      background:#fff;
      border:1px solid var(--line);
      border-radius:18px;
      box-shadow: 0 20px 60px rgba(0,0,0,.25);
    }
    .modalHd{
      position:sticky; top:0;
      background:rgba(255,255,255,.92); backdrop-filter: blur(8px);
      border-bottom:1px solid var(--line);
      padding:12px 12px 10px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .modalHd .title{margin:0}
    .modalBd{padding:12px}
    .item{border:1px solid var(--line);border-radius:14px;padding:10px;background:#fff}
    .itemTop{display:flex;justify-content:space-between;gap:10px}
    .itemName{font-weight:900;margin:0}
    .itemMeta{margin:2px 0 0;color:var(--muted);font-size:13px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:30px;height:30px;border-radius:10px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .qty span{min-width:18px;text-align:center}
    .danger{color:#b91c1c}

    /* Small helper */
    .badge{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);background:var(--soft);border-radius:999px;padding:6px 10px;font-size:12px;color:#374151}
  </style>
</head>

<body>
  <script>
    const CONFIG = {
      brandTitle: "å°æ–‡çš„èŒ¶ï½œå°ˆæ¥­é¸èŒ¶ç³»çµ±",
      heroTitle: "ä¸ç”¨æ‡‚èŒ¶ï¼Œä¹Ÿèƒ½é¸åˆ°é©åˆçš„å°ç£èŒ¶",
      heroText: "ç”¨ç™½è©±é¸é …å¿«é€ŸæŒ‘åˆ°åˆé©å“é …ã€‚æ¨è–¦æœƒç›´æ¥é¡¯ç¤ºåº—è™Ÿã€è¦æ ¼èˆ‡åƒ¹æ ¼ï¼Œè®“æ‚¨ä¸ç”¨ä¾†å›è©¢å•ã€‚",
      noSampleNotice: "å°æœ¬ç¶“ç‡Ÿï¼Œæ²’æœ‰æä¾›è©¦å–åŒ…ï¼Œé€éé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ä¾ç…§éœ€æ±‚é¸æ“‡åˆé©çš„å•†å“ã€‚",
      imageNote: "åœ–ç‰‡ç‚ºæƒ…å¢ƒç¤ºæ„ï¼ˆä¸ä½¿ç”¨åŒ…è£ç…§ï¼‰ï¼Œå¯¦éš›å•†å“ä»¥å‡ºè²¨å…§å®¹ç‚ºæº–ã€‚",
      unitNote: "å–®ä½èªªæ˜ï¼š1 å…© â‰ˆ 37.5gï½œ1 æ–¤ â‰ˆ 600g",
      // ä½ ä¹‹å¾Œå»ºç«‹ç²‰å°ˆï¼Œæ”¹æˆå®Œæ•´ m.me é€£çµï¼Œä¾‹å¦‚ https://m.me/ä½ çš„ç²‰å°ˆID
      messengerUrl: "",

      // é˜²ä»¿å†’/ç›œç”¨æé†’ï¼ˆfooter ç”¨ï¼‰
      antiCopyNote: "æœ¬é ç‚ºå°æ–‡çš„èŒ¶å°ˆç”¨é¸èŒ¶ç³»çµ±ã€‚è‹¥æ‚¨çœ‹åˆ°ç›¸åŒä»‹é¢è¢«ä»–äººå†’ç”¨ã€ä»¿å†’ï¼Œè«‹å›å ±çµ¦æˆ‘å€‘ã€‚",

      // é¡Œç›®ï¼ˆæ‰‹æ©Ÿç‰ˆæœƒç›´å‘é¡¯ç¤ºï¼‰
      questions: [
        {
          key: "category",
          title: "Q1ï½œé€™æ¬¡æ‚¨æƒ³æ‰¾çš„æ˜¯ï¼Ÿ",
          options: [
            { value: "tea",   label: "ğŸµ èŒ¶",         note: "æ—¥å¸¸é£²ç”¨ã€é€ç¦®çš†å¯" },
            { value: "other", label: "ğŸ å…¶ä»–ç‰¹è‰²å•†å“", note: "é¦™è‡ã€èŒ¶ç±½æ²¹ã€ç™¾èŠ±èœœã€é™³çš®æ¢…é†¬ã€èŒ¶ç±½ç²‰ã€ç“œå­" },
            { value: "pick",  label: "ğŸ² ä½ å¹«æˆ‘æŒ‘",    note: "ä¸ç”¨æƒ³å¤ªå¤šï¼Œäº¤çµ¦æˆ‘å€‘å¹«æ‚¨æ­é…" }
          ]
        },
        {
          key: "use",
          title: "Q2ï½œé€™æ¬¡æ˜¯ï¼Ÿ",
          options: [
            { value: "self",   label: "ğŸ«– è‡ªå·±å–ï¼è‡ªå·±ç”¨", note: "å¹³å¸¸å–ã€æ—¥å¸¸ä½¿ç”¨" },
            { value: "gift",   label: "ğŸ é€äºº",           note: "å¸Œæœ›å°æ–¹æ”¶åˆ°ä¸å¤±ç¦®" },
            { value: "unsure", label: "ğŸ¤· ä¸ç¢ºå®š",         note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨åˆ¤æ–·" }
          ]
        },
        {
          key: "feel",
          title: "Q3ï½œæ‚¨å¸Œæœ›å–èµ·ä¾†çš„æ„Ÿè¦ºæ˜¯ï¼Ÿ",
          onlyWhen: (ans)=> (ans.category === "tea" || ans.category === "pick"),
          options: [
            { value: "light",    label: "ğŸŒ¸ æ¸…é¦™ã€é †å£å‹", note: "é¦™æ°£ç´°ç·»ï¼Œå£æ„Ÿæ¸…çˆ½ï¼Œä¸åšä¸è‹¦" },
            { value: "balanced", label: "ğŸ™‚ å¹³è¡¡è€å–å‹",   note: "é¦™æ°£èˆ‡å£æ„Ÿéƒ½æœ‰ï¼Œä½†ä¸åˆºæ¿€" },
            { value: "bold",     label: "ğŸ”¥ é¦™æ°£åšå¯¦å‹",   note: "é¦™æ°£æ˜é¡¯ï¼Œå£æ„Ÿè¼ƒåš" },
            { value: "pick",     label: "ğŸ² äº¤çµ¦ä½ å€‘å¹«æˆ‘é¸", note: "ä¾å‰é¢æ¢ä»¶å”åŠ©æ¨è–¦" }
          ]
        },
        {
          key: "budget",
          title: "Q4ï½œé€™æ¬¡é ç®—å¤§æ¦‚è½åœ¨å“ªï¼Ÿ",
          onlyWhen: (ans)=> (ans.category === "tea" || ans.category === "pick"),
          options: [
            { value: "daily",  label: "ğŸ’° æ—¥å¸¸å–çš„é ç®—",     note: "å¹¾ç™¾å…ƒï½ä¸€åƒå‡ºé ­" },
            { value: "gift",   label: "ğŸ é€ç¦®/å–å¥½ä¸€é»",    note: "å¸¸è¦‹é€ç¦®åƒ¹ä½" },
            { value: "flavor", label: "â­ è¬›ç©¶é¢¨å‘³",         note: "é¢¨å‘³è¡¨ç¾æ˜é¡¯ï¼Œåƒ¹æ ¼è¼ƒé«˜" },
            { value: "rare",   label: "ğŸ‘‘ çè—ç­‰ç´š",         note: "åƒ¹æ ¼è¼ƒé«˜ï¼Œè¿½æ±‚å“è³ªèˆ‡ç¨€æœ‰æ€§" }
          ]
        },
        {
          key: "flavor",
          title: "Q5ï½œæ‚¨æ¯”è¼ƒåå¥½å“ªä¸€ç¨®ï¼Ÿ",
          onlyWhen: (ans)=> (ans.category === "tea" || ans.category === "pick"),
          options: [
            { value: "fresh", label: "ğŸŒ¿ æ¸…é¦™å‹", note: "åƒèŠ±é¦™ã€è‰é¦™ï¼Œæ¸…æ¸…çš„" },
            { value: "roast", label: "ğŸ”¥ ç„™é¦™å‹", note: "åƒçƒ¤éã€æº«æš–çš„é¦™æ°£" },
            { value: "sweet", label: "ğŸ¯ ç”œæ„Ÿå‹", note: "èœœé¦™ã€å›ç”˜ã€ä¸è‹¦" },
            { value: "pick",  label: "ğŸ² ä¸çŸ¥é“", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨æŒ‘" }
          ]
        }
      ],

      // å•†å“è³‡æ–™ï¼ˆå®Œæ•´ 1~39 + å­é …ï¼‰
      // æ¬„ä½èªªæ˜ï¼š
      // storeNoï¼šåº—è™Ÿï¼ˆä½ ç›®éŒ„çš„ç·¨è™Ÿï¼Œç”¨æ–¼å°æ‡‰ä¸‹å–®ç³»çµ±ï¼‰
      // skuï¼šç«™å…§å”¯ä¸€ idï¼ˆé¿å… 14A-1/14A-2 ä¹‹é¡é‡è¤‡ï¼‰
      // typeï¼štea / other
      // priceï¼šæ•¸å­—ï¼ˆç”¨æ–¼é ç®—æ¨è–¦ï¼‰â€”â€”è‹¥æ˜¯æ–‡å­—åƒ¹æ ¼ï¼ˆä¾‹å¦‚ 5å…ƒ/åŒ…ï¼‰è«‹æ›ç®—æˆæ•´çµ„/ç›’
      // priceLabelï¼šä½ æƒ³é¡¯ç¤ºçš„åƒ¹æ ¼æ–‡å­—ï¼ˆæœƒç…§ä½ æƒ³è¦çš„æ ¼å¼é¡¯ç¤ºï¼‰
      // packï¼šè¦æ ¼/åŒ…è£ï¼ˆé¡§å®¢çœ‹åˆ°çš„ï¼‰
      // originï¼šç”¢åœ°/ç­‰ç´š
      // noteï¼šèªªæ˜/å‚™è¨»ï¼ˆé¡§å®¢çœ‹åˆ°çš„ï¼‰
      products: [
        // 1~27ï¼ˆèŒ¶ï¼‰
        {sku:"1", storeNo:"1", type:"tea", name:"ç¶œåˆçƒ˜ç„™å† è»èŒ¶æ", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:200, priceLabel:"NT$ 200 / åŒ…", note:"æ¯”è³½åŠŸå¤«åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶æã€‚"},
        {sku:"2", storeNo:"2", type:"tea", name:"ç¶œåˆçƒ˜ç„™èŒ¶ï¼ˆå¤§å£ºèŒ¶ï¼‰", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:500, priceLabel:"NT$ 500 / åŒ…", note:"åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶ã€‚"},
        {sku:"3", storeNo:"3", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆæ­¡æ¨‚èŒ¶åœ’ï¼‰", origin:"é›²æ—å¤å‘", pack:"åŠæ–¤è£", price:300, priceLabel:"NT$ 300 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"3A-S", storeNo:"3A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:70, priceLabel:"NT$ 70 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…14å…ƒã€‚"},
        {sku:"3A-L", storeNo:"3A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:400, priceLabel:"NT$ 400 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…13.4å…ƒã€‚"},
        {sku:"4", storeNo:"4", type:"tea", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é›²æ—å¤å‘", pack:"å››å…©è£", price:200, priceLabel:"NT$ 200 / åŒ…ï¼ˆå››å…©ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›æ¡æ¯”è³½èŒ¶çƒ˜ç„™ã€‚"},
        {sku:"4A-S", storeNo:"4A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:70, priceLabel:"NT$ 70 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…14å…ƒã€‚"},
        {sku:"4A-L", storeNo:"4A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:400, priceLabel:"NT$ 400 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…13.4å…ƒã€‚"},
        {sku:"5", storeNo:"5", type:"tea", name:"æ©Ÿæ¡ç´…èŒ¶ï¼ˆç¢èŒ¶ï¼‰", origin:"å—æŠ•ç«¹å±±", pack:"å››å…©è£", price:200, priceLabel:"NT$ 200 / åŒ…ï¼ˆå››å…©ï¼‰", note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ï¼›é¾çœ¼ä¹¾é¦™ã€‚"},
        {sku:"6", storeNo:"6", type:"tea", name:"é¦™ç‰‡ï¼ˆèŒ‰è‰èŠ±èŒ¶ï¼‰", origin:"å—æŠ•", pack:"å››å…©è£", price:300, priceLabel:"NT$ 300 / åŒ…ï¼ˆå››å…©ï¼‰", note:"è¼•ç™¼é…µï¼›è¼•çƒ˜ç„™è–°èŒ‰è‰èŠ±ã€‚"},
        {sku:"7", storeNo:"7", type:"tea", name:"æ‹›ç‰Œæ©Ÿæ¡å››å­£æ˜¥ å°èŒ¶19è™Ÿç¢§ç‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:600, priceLabel:"NT$ 600 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"7A-S", storeNo:"7A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:80, priceLabel:"NT$ 80 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…16å…ƒã€‚"},
        {sku:"7A-L", storeNo:"7A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:540, priceLabel:"NT$ 540 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…18å…ƒã€‚"},
        {sku:"8", storeNo:"8", type:"tea", name:"ç´…çƒé¾ï¼ˆçƒç‹€çƒå‹ç´…èŒ¶ï¼‰", origin:"å°æ±é¹¿é‡", pack:"å››å…©è£", price:400, priceLabel:"NT$ 400 / åŒ…ï¼ˆå››å…©ï¼‰", note:"æ˜é¡¯ç³–é¦™ï¼›æ°´ç”œã€‚"},
        {sku:"8A-S", storeNo:"8A", type:"tea", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:86, priceLabel:"NT$ 86 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…17.2å…ƒã€‚"},
        {sku:"8A-L", storeNo:"8A", type:"tea", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:610, priceLabel:"NT$ 610 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…20.4å…ƒã€‚"},
        {sku:"9", storeNo:"9", type:"tea", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é¹¿è°·å°åŠå¤©", pack:"åŠæ–¤è£", price:800, priceLabel:"NT$ 800 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ã€‚"},
        {sku:"10", storeNo:"10", type:"tea", name:"é ‚ç´šæ©Ÿæ¡å››å­£æ˜¥ å°èŒ¶20è™Ÿè¿é¦™", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:800, priceLabel:"NT$ 800 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"10A-S", storeNo:"10A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:84, priceLabel:"NT$ 84 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…16.8å…ƒã€‚"},
        {sku:"10A-L", storeNo:"10A", type:"tea", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:584, priceLabel:"NT$ 584 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…19.6å…ƒã€‚"},
        {sku:"11", storeNo:"11", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶", origin:"æ‹‰æ‹‰å±±ï¼å£«åŒªå±±", pack:"åŠæ–¤è£", price:800, priceLabel:"NT$ 800 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"é‡ç™¼é…µï¼›è¼•çƒ˜ç„™ã€‚"},
        {sku:"11A-S", storeNo:"11A", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:94, priceLabel:"NT$ 94 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…18.8å…ƒã€‚"},
        {sku:"11A-L", storeNo:"11A", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:680, priceLabel:"NT$ 680 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…22.8å…ƒã€‚"},
        {sku:"12", storeNo:"12", type:"tea", name:"æ‰‹æ¡é‡‘è±èŒ¶", origin:"æ‰æ—æºªï¼é¹¿è°·é³³å‡°å±±", pack:"åŠæ–¤è£", price:1000, priceLabel:"NT$ 1,000 / åŒ…ï¼ˆåŠæ–¤ï¼‰", note:"è¼•æœé¦™ã€‚"},
        {sku:"12A-S", storeNo:"12A", type:"tea", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:100, priceLabel:"NT$ 100 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…20å…ƒã€‚"},
        {sku:"12A-L", storeNo:"12A", type:"tea", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:750, priceLabel:"NT$ 750 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…25å…ƒã€‚"},
        {sku:"13", storeNo:"13", type:"tea", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶", origin:"é˜¿é‡Œå±±ï¼æ¢…å±±é¾ç›®æ¨“ï¼ˆæµ·æ‹”1550mï¼‰", pack:"å››å…©è£", price:600, priceLabel:"NT$ 600 / åŒ…ï¼ˆå››å…©ï¼‰", note:"ä¸­é‡ç™¼é…µï¼›èŠ±æœé¦™ã€‚"},
        {sku:"13A-S", storeNo:"13A", type:"tea", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:114, priceLabel:"NT$ 114 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…22.8å…ƒã€‚"},
        {sku:"13A-L", storeNo:"13A", type:"tea", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:890, priceLabel:"NT$ 890 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…29.8å…ƒã€‚"},
        {sku:"14", storeNo:"14", type:"tea", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼çƒé¾èŒ¶", origin:"é”é‚¦ï¼ç¾Šä»”ç£", pack:"å››å…©è£", price:800, priceLabel:"NT$ 800 / åŒ…ï¼ˆå››å…©ï¼‰", note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚"},
        {sku:"14A-1-S", storeNo:"14A-1", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆç¾Šä»”ç£ï¼‰èŒ¶åŒ…å°åŒ…", origin:"æ‰æ—æºªç¾Šä»”ç£", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:140, priceLabel:"NT$ 140 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…28å…ƒã€‚"},
        {sku:"14A-1-L", storeNo:"14A-1", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆç¾Šä»”ç£ï¼‰èŒ¶åŒ…å¤§åŒ…", origin:"æ‰æ—æºªç¾Šä»”ç£", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1140, priceLabel:"NT$ 1,140 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒã€‚"},
        {sku:"14A-2-S", storeNo:"14A-2", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé”é‚¦ï¼‰èŒ¶åŒ…å°åŒ…", origin:"é˜¿é‡Œå±±é”é‚¦", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:140, priceLabel:"NT$ 140 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…28å…ƒã€‚"},
        {sku:"14A-2-L", storeNo:"14A-2", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé”é‚¦ï¼‰èŒ¶åŒ…å¤§åŒ…", origin:"é˜¿é‡Œå±±é”é‚¦", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1140, priceLabel:"NT$ 1,140 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒã€‚"},
        {sku:"15", storeNo:"15", type:"tea", name:"ç„¦ç³–é¦™æ‰‹æ¡ç´…èŒ¶", origin:"å—æŠ•é­šæ± æ—¥æœˆæ½­", pack:"ä¸€é»äº”å…©è£", price:300, priceLabel:"NT$ 300 / åŒ…", note:"ï¼ˆæ—¥æœˆæ½­ç¨æœ‰ç„¦ç³–é¦™æ°£ï¼‰"},
        {sku:"16", storeNo:"16", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼é‡‘è±èŒ¶", origin:"ä¿¡ç¾©é›™é¾ç€‘å¸ƒï¼æ‰æ—æºªè»Ÿéï¼ç‰å±±ç¥æœ¨æ‘ï¼ç‰¹å¯Œé‡ï¼æ¸…å¢ƒï¼æ–°ä½³é™½æ¢¨å±±èŒ¶", pack:"å››å…©è£", price:1000, priceLabel:"NT$ 1,000 / åŒ…ï¼ˆå››å…©ï¼‰", note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚"},
        {sku:"16A-S", storeNo:"16A", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï¼‰èŒ¶åŒ…å°åŒ…", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:160, priceLabel:"NT$ 160 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…32å…ƒã€‚"},
        {sku:"16A-L", storeNo:"16A", type:"tea", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï¼‰èŒ¶åŒ…å¤§åŒ…", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1310, priceLabel:"NT$ 1,310 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…43.8å…ƒã€‚"},
        {sku:"17", storeNo:"17", type:"tea", name:"æ¡‚èŠ±é‡‘è±ï¼ˆé™é‡ï¼‰", origin:"æ¢¨å±±", pack:"å››å…©è£", price:1000, priceLabel:"NT$ 1,000 / åŒ…ï¼ˆå››å…©ï¼‰", note:"ä½¿ç”¨ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›èŒ¶æ°´æ¸…ç”œã€‚"},
        {sku:"18", storeNo:"18", type:"tea", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±", pack:"å››å…©è£", price:1200, priceLabel:"NT$ 1,200 / åŒ…ï¼ˆå››å…©ï¼‰", note:"æ­£å¸¸ç™¼é…µåé‡ï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"18A-S", storeNo:"18A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:170, priceLabel:"NT$ 170 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…34å…ƒã€‚"},
        {sku:"18A-L", storeNo:"18A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1450, priceLabel:"NT$ 1,450 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…48.4å…ƒã€‚"},
        {sku:"19", storeNo:"19", type:"tea", name:"èŠ±æœèœœæ¾é¦™æ‰‹æ¡ç´…èŒ¶", origin:"æ¢¨å±±", pack:"äºŒå…©è£ï¼ˆå«è¢‹40gï¼‰", price:300, priceLabel:"NT$ 300 / åŒ…", note:"å¤šå±¤æ¬¡å£æ„Ÿé¦™æ°£ã€‚"},
        {sku:"20", storeNo:"20", type:"tea", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç‰å±±å¡”å¡”åŠ ï¼å¤§ç¦¹å¶º", pack:"å››å…©è£", price:1400, priceLabel:"NT$ 1,400 / åŒ…ï¼ˆå››å…©ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"20A-S", storeNo:"20A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:180, priceLabel:"NT$ 180 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…36å…ƒã€‚"},
        {sku:"20A-L", storeNo:"20A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1520, priceLabel:"NT$ 1,520 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…50.8å…ƒã€‚"},
        {sku:"21", storeNo:"21", type:"tea", name:"æ‰‹æ¡é’å¿ƒçƒé¾ç´…èŒ¶", origin:"å¤§ç¦¹å¶º", pack:"èŒ¶è‘‰æ·¨é‡30g", price:300, priceLabel:"NT$ 300 / åŒ…ï¼ˆ30gï¼‰", note:""},
        {sku:"22", storeNo:"22", type:"tea", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ‰æ—æºªé¾é³³å³½ï¼ˆå¿˜æ†‚æ£®æ—ï¼‰", pack:"å››å…©è£", price:1600, priceLabel:"NT$ 1,600 / åŒ…ï¼ˆå››å…©ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
        {sku:"22A-S", storeNo:"22A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:190, priceLabel:"NT$ 190 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒã€‚"},
        {sku:"22A-L", storeNo:"22A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1660, priceLabel:"NT$ 1,660 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…55.4å…ƒã€‚"},
        {sku:"23", storeNo:"23", type:"tea", name:"é«˜å±±èŒ¶ç‹æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’ç²¾è£½èŒ¶", origin:"", pack:"äºŒå…©è£", price:900, priceLabel:"NT$ 900 / åŒ…ï¼ˆäºŒå…©ï¼‰", note:"ä¸­é‡ç™¼é…µï¼›æ¯”è³½å‹ç²¾ç·»çƒ˜ç„™ã€‚"},
        {sku:"23A-S", storeNo:"23A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:190, priceLabel:"NT$ 190 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…38å…ƒã€‚"},
        {sku:"23A-L", storeNo:"23A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:1660, priceLabel:"NT$ 1,660 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…55.4å…ƒã€‚"},
        {sku:"24", storeNo:"24", type:"tea", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±å¤©æ± ", pack:"äºŒå…©è£", price:1000, priceLabel:"NT$ 1,000 / åŒ…ï¼ˆäºŒå…©ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›èŠ±æœé¦™ã€‚"},
        {sku:"24A-S", storeNo:"24A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:246, priceLabel:"NT$ 246 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…49.2å…ƒã€‚"},
        {sku:"24A-L", storeNo:"24A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:2200, priceLabel:"NT$ 2,200 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…73.4å…ƒã€‚"},
        {sku:"25", storeNo:"25", type:"tea", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç¦å£½å±±è¯å´—", pack:"äºŒå…©è£", price:1200, priceLabel:"NT$ 1,200 / åŒ…ï¼ˆäºŒå…©ï¼‰", note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›é«˜å±±æ°£å¼·ã€‚"},
        {sku:"25A-S", storeNo:"25A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:260, priceLabel:"NT$ 260 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…52å…ƒã€‚"},
        {sku:"25A-L", storeNo:"25A", type:"tea", name:"æ­£æ˜¥/æ­£å†¬çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:2360, priceLabel:"NT$ 2,360 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…78.8å…ƒã€‚"},
        {sku:"26", storeNo:"26", type:"tea", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶", origin:"ç¦å£½æ¢¨å±±", pack:"äºŒå…©è£", price:1500, priceLabel:"NT$ 1,500 / åŒ…ï¼ˆäºŒå…©ï¼‰", note:"ä½¿ç”¨ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›æ¡‚èŠ±é¦™æ°£å¼·ã€‚"},
        {sku:"26A-S", storeNo:"26A", type:"tea", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å°åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š3gÃ—5åŒ…", price:260, priceLabel:"NT$ 260 / è¢‹ï¼ˆå°ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…52å…ƒã€‚"},
        {sku:"26A-L", storeNo:"26A", type:"tea", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰å¤§åŒ…", origin:"", pack:"çœŸç©ºè¢‹ï¼š5gÃ—30åŒ…", price:2360, priceLabel:"NT$ 2,360 / è¢‹ï¼ˆå¤§ï¼‰", note:"å¹³å‡ä¸€åŒ…èŒ¶åŒ…78.8å…ƒã€‚"},
        {sku:"27", storeNo:"27", type:"tea", name:"é ‚ç´šå¼·èœœé¦™æ±æ–¹ç¾äºº", origin:"ç‰¹æ®ŠèŒ¶åœ’", pack:"èŒ¶è‘‰æ·¨é‡30g", price:1000, priceLabel:"NT$ 1,000 / åŒ…ï¼ˆ30gï¼‰", note:"æœ¬åº—æœ€é«˜ç­‰ç´šç´…èŒ¶ï¼›å¯åè¦†æ²–æ³¡çš†æœ‰èœœé¦™ã€‚"},

        // 28~33ï¼ˆèŒ¶åŒ…/ç›’è£ï¼‰ï¼šä½ è¦æ±‚ 28~31 é¡¯ç¤ºæ•´çµ„50åŒ…
        {sku:"28", storeNo:"28", type:"tea", name:"è£¸åŒ…çƒé¾èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"æ¯50åŒ…ç”¨ï¼çœŸç©ºè¢‹ 1 è¢‹", price:250, priceLabel:"NT$ 250 / è¢‹ï¼ˆ50åŒ…ï¼‰", note:"åŠç”Ÿç†Ÿçƒ˜ç„™çƒé¾ç¢èŒ¶ï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚è‡ªå®¶è‡ªç”¢æ¥µç†±éŠ·é•·é’æ¬¾ï¼"},
        {sku:"29", storeNo:"29", type:"tea", name:"è£¸åŒ…èŒ‰è‰èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"æ¯50åŒ…ç”¨ï¼çœŸç©ºè¢‹ 1 è¢‹", price:250, priceLabel:"NT$ 250 / è¢‹ï¼ˆ50åŒ…ï¼‰", note:"äº”åº¦è–°é¦™å·¥æ³•ï¼Œå†·æ³¡ç†±æ³¡éƒ½æ¸…é¦™ï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚"},
        {sku:"30", storeNo:"30", type:"tea", name:"è£¸åŒ…æ­£å®—å°ç£ç´…èŒ¶èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"æ¯50åŒ…ç”¨ï¼çœŸç©ºè¢‹ 1 è¢‹", price:250, priceLabel:"NT$ 250 / è¢‹ï¼ˆ50åŒ…ï¼‰", note:"å¸¶é¾çœ¼ä¹¾é¦™ï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ï¼Œè‡ªå®¶è‡ªç”¢æ¥µç†±éŠ·ã€‚"},
        {sku:"31", storeNo:"31", type:"tea", name:"è£¸åŒ…æ™®æ´±èŒ¶åŒ…ï¼ˆæ•´çµ„50åŒ…ï¼‰", origin:"", pack:"æ¯50åŒ…ç”¨ï¼çœŸç©ºè¢‹ 1 è¢‹", price:350, priceLabel:"NT$ 350 / è¢‹ï¼ˆ50åŒ…ï¼‰", note:"å°ç£é«˜å±±èŒ¶ç¢è‘‰åŠæœ«ï¼Œä»¥æ™®æ´±èŒ¶è£½æ³•è£½æˆï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚"},
        {sku:"32", storeNo:"32", type:"tea", name:"é«˜å±±çƒé¾èŒ¶åŒ…ï¼ˆç›’è£ï¼‰", origin:"ä¸€æ–¤4000ä»¥ä¸Šé«˜å±±ç¢èŒ¶ï¼ˆç¶“çƒ˜ç„™å†è£½ï¼‰", pack:"1ç›’30åŒ…", price:600, priceLabel:"NT$ 600 / ç›’ï¼ˆ30åŒ…ï¼‰", note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼Œå“è³ªåŠ›æ‹¼å¸‚å ´æœ€å„ªï¼Œå¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚"},
        {sku:"33", storeNo:"33", type:"tea", name:"å°ç£ç´…èŒ¶åŒ…ï¼ˆç›’è£ï¼‰", origin:"æ—¥æœˆæ½­çƒé¾ç´…èŒ¶ï¼ˆç‰¹æ®Šå“å¸‚å ´ç¨€æœ‰ï¼‰", pack:"1ç›’30åŒ…", price:600, priceLabel:"NT$ 600 / ç›’ï¼ˆ30åŒ…ï¼‰", note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼Œå¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚"},

        // 34~39ï¼ˆå…¶ä»–ç‰¹è‰²å•†å“ï¼‰
        {sku:"34", storeNo:"34", type:"other", name:"èŒ¶è‘‰ç™½ç“œå­ï¼ˆåˆç„™ç„¡é¹½ï¼‰", origin:"é›²æ—è¥¿èº", pack:"æ·¨é‡200gï¼ˆçœŸç©ºåŒ…ï¼‰", price:200, priceLabel:"NT$ 200 / åŒ…", note:"ç™½ç“œå­ï¼‹èŒ¶è‘‰æå‘³ï¼›å…§æœ‰è„«æ°§åŠä¹¾ç‡¥åŠ‘ä¿é®®ã€‚"},
        {sku:"35-S", storeNo:"35", type:"other", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå°åŒ…ï¼‰", origin:"", pack:"ç¸½é‡30g", price:200, priceLabel:"NT$ 200 / åŒ…ï¼ˆå°ï¼‰", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼Œé¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚"},
        {sku:"35-M", storeNo:"35", type:"other", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆä¸­åŒ…ï¼‰", origin:"", pack:"ç¸½é‡50g", price:300, priceLabel:"NT$ 300 / åŒ…ï¼ˆä¸­ï¼‰", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼Œé¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚"},
        {sku:"35-L", storeNo:"35", type:"other", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡ï¼ˆå¤§åŒ…ï¼‰", origin:"", pack:"ç¸½é‡150g", price:900, priceLabel:"NT$ 900 / åŒ…ï¼ˆå¤§ï¼‰", note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼Œé¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚"},
        {sku:"36", storeNo:"36", type:"other", name:"è‡ªå®¶æœåœ’æ¡æ”¶ç™¾èŠ±èœœï¼ˆé™é‡ï¼‰", origin:"å°ç£", pack:"1ç“¶", price:2000, priceLabel:"NT$ 2,000 / ç“¶", note:"è‡ªå®¶æœ‰æ©Ÿç„¡è—¥æœåœ’é‡ç”Ÿèœœèœ‚æ”¶é›†ï¼Œç¶œåˆèŠ±æœèœœï¼Œå¸¶èŠ±é¦™ã€‚"},
        {sku:"37", storeNo:"37", type:"other", name:"100%å°ç£èŒ¶ç±½æ²¹ï¼ˆå†·å£“ï¼‰", origin:"å°ç£", pack:"è¶³é‡ä¸€æ–¤ï¼›å«ç½é‡850g", price:1200, priceLabel:"NT$ 1,200 / æ”¯", note:"èµ·ç…™é»é«˜å¯ç‚’èœï¼›è€ä¸€è¼©è­·æ‰‹è­·è†šè–å“ã€‚"},
        {sku:"38", storeNo:"38", type:"other", name:"æ¼¢æ–¹é™³çš®æ¢…é†¬", origin:"å°ç£", pack:"è¶³é‡900g", price:900, priceLabel:"NT$ 900 / ç“¶", note:"å¯ç¨€é‡‹èª¿æˆé£²å“ï¼Œä¹Ÿå¯åšé†¬æ±æ²¾é†¬ï¼Œç‰¹è‰²å£æ„Ÿã€‚"},
        {sku:"39", storeNo:"39", type:"other", name:"100%å°ç£èŒ¶ç±½ç²‰ï¼ˆå¤©ç„¶æ¸…æ½”ï¼‰", origin:"å°ç£", pack:"è¶³é‡1å…¬æ–¤", price:400, priceLabel:"NT$ 400 / åŒ…", note:"æ´—ç¢—ã€å¥¶ç“¶ã€æ¸…æ½”æ²¹æ¼¬ç­‰ï¼›å¤©ç„¶çš‚ç´ å»æ²¹ä¸å‚·æ‰‹ã€‚"},
      ],

      // æ¨è–¦é¡¯ç¤ºæ•¸é‡
      teaPickCount: 3,     // èŒ¶ï¼šä¸»æ¨1 + ä¹Ÿé©åˆ2
      otherPickCount: 2,   // å…¶ä»–ï¼šä¸»æ¨1 + æ›å…‰1
    };
  </script>

  <!-- ä¸Šæ–¹æš«å­˜æ¸…å–®æ¢ -->
  <div class="cartbar">
    <div class="cartinner">
      <div class="cartleft">
        <span class="cartcount" id="cartCount">ğŸ›’ å°šæœªé¸æ“‡å•†å“</span>
        <span class="cartitems" id="cartItems"></span>
      </div>
      <div class="row">
        <button class="btn" id="btnCart">æŸ¥çœ‹ï¼ä¿®æ”¹</button>
        <button class="btn btnPri" id="btnMsg">è©¢å•ï¼ä¸‹å–®</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="hero">
      <div class="heroImg"></div>
      <div class="heroBody">
        <h1 id="heroTitle"></h1>
        <p class="lead" id="heroText"></p>
        <div class="notice" id="noSample"></div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="cardHd">
          <p class="title">é–‹å§‹é¸æ“‡</p>
          <p class="sub">é¸å®Œæœƒç›´æ¥æ¨è–¦ï¼›è‹¥é¸ã€Œå…¶ä»–ç‰¹è‰²å•†å“ã€ï¼ŒèŒ¶é¢¨å‘³é¡Œæœƒè‡ªå‹•ç•¥éã€‚</p>
        </div>
        <div class="cardBd" id="quiz"></div>
      </div>

      <div class="card">
        <div class="cardHd">
          <p class="title">æ¨è–¦çµæœ</p>
          <p class="sub">é¡¯ç¤ºåº—è™Ÿã€è¦æ ¼ã€åƒ¹æ ¼ã€ç”¢åœ°èˆ‡ç†ç”±ï¼ˆå¯ç›´æ¥åŠ å…¥è³¼ç‰©è»Šï¼‰ã€‚</p>
        </div>
        <div class="cardBd">
          <div class="result" id="results"></div>
          <div class="footnote" id="unitNote"></div>
          <div class="footnote" id="imgNote"></div>
        </div>
      </div>
    </div>

    <!-- å…¨éƒ¨å“é …ç›®éŒ„ -->
    <div class="card" style="margin-top:14px">
      <div class="cardHd">
        <p class="title">å…¨éƒ¨å“é …ç›®éŒ„</p>
        <p class="sub">æƒ³è‡ªå·±çœ‹ä¹Ÿå¯ä»¥ï¼šå¯æœå°‹ã€å¯åˆ‡æ›ã€ŒèŒ¶ï¼ç‰¹è‰²å•†å“ã€ï¼Œä¹Ÿèƒ½ç›´æ¥åŠ å…¥è³¼ç‰©è»Šã€‚</p>
      </div>
      <div class="cardBd">
        <div class="catalogTop">
          <input class="search" id="search" placeholder="æœå°‹ï¼šåº—è™Ÿ/å“å/ç”¢åœ°/è¦æ ¼/é—œéµå­—â€¦" />
          <div class="tabs" id="tabs"></div>
        </div>
        <div class="catGrid" id="catalog"></div>
      </div>
    </div>

    <p class="footnote" style="margin-top:14px">
      Â© <span id="brand"></span>ã€€
      <span class="muted" id="antiCopy"></span>
    </p>
  </div>

  <!-- è³¼ç‰©è»Šå½ˆçª— -->
  <div class="modalOverlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="è³¼ç‰©è»Š">
      <div class="modalHd">
        <div>
          <p class="title" style="margin:0">è³¼ç‰©è»Š</p>
          <p class="sub" style="margin:2px 0 0">è¦æ ¼å·²å›ºå®šï¼ˆç…§ç›®éŒ„ï¼‰ï¼Œæ‚¨åªè¦é¸æ•¸é‡ã€‚</p>
        </div>
        <div class="row">
          <button class="btn" id="btnClose">é—œé–‰</button>
          <button class="btn btnPri" id="btnMsg2">è©¢å•ï¼ä¸‹å–®</button>
        </div>
      </div>
      <div class="modalBd" id="cartBody"></div>
    </div>
  </div>

  <script>
    const $ = (id)=>document.getElementById(id);
    const LS_KEY = "xiaowen_tea_cart_v2";
    const LS_ANS = "xiaowen_tea_answers_v2";

    const state = {
      answers: JSON.parse(localStorage.getItem(LS_ANS) || "{}"),
      cart: JSON.parse(localStorage.getItem(LS_KEY) || "[]"),
      tab: "all",
      q: ""
    };

    function save(){
      localStorage.setItem(LS_KEY, JSON.stringify(state.cart));
      localStorage.setItem(LS_ANS, JSON.stringify(state.answers));
    }

    // ======= Hero text =======
    function heroSetup(){
      $("heroTitle").textContent = CONFIG.heroTitle;
      $("heroText").textContent = CONFIG.heroText;
      $("noSample").textContent = CONFIG.noSampleNotice;
      $("unitNote").textContent = CONFIG.unitNote;
      $("imgNote").textContent = CONFIG.imageNote;
      $("brand").textContent = CONFIG.brandTitle;
      $("antiCopy").textContent = CONFIG.antiCopyNote;
    }

    // ======= Helpers =======
    function fmtPrice(n){
      if(typeof n !== "number") return "";
      return n.toLocaleString("zh-Hant");
    }

    function labelOf(key, value){
      const q = CONFIG.questions.find(x=>x.key===key);
      if(!q) return value;
      const opt = q.options.find(o=>o.value===value);
      if(!opt) return value;
      return String(opt.label).replace(/\s+/g, " ").trim();
    }

    function isQuestionVisible(q){
      if(typeof q.onlyWhen === "function") return q.onlyWhen(state.answers);
      return true;
    }

    // ======= Budget tier (ç”¨åƒ¹æ ¼è‡ªå‹•å°æ‡‰ï¼Œé¿å…ã€Œçè—éƒ½æ¨åˆ°ä¾¿å®œå“ã€) =======
    function budgetTierFromPrice(price){
      // ä½ å¯è‡ªè¡Œå¾®èª¿é–€æª»ï¼š
      // dailyï¼š<= 600
      // giftï¼š<= 1200
      // flavorï¼š<= 2000
      // rareï¼š> 2000
      if(price <= 600) return "daily";
      if(price <= 1200) return "gift";
      if(price <= 2000) return "flavor";
      return "rare";
    }

    // ======= Feel/Flavor ç²—ç•¥åˆ¤æ–·ï¼ˆç”¨æ–‡å­—é—œéµè©ï¼Œå…ä½ æ‰‹å‹•è²¼æ¨™ç±¤ï¼‰ =======
    function feelGuess(p){
      const t = (p.note || "") + " " + (p.name || "");
      if(/é‡çƒ˜ç„™|ç„™|åš|æ¿ƒ|é¾çœ¼ä¹¾é¦™|ç„¦ç³–/.test(t)) return "bold";
      if(/æ¸…é¦™|èŠ±é¦™|æœé¦™|æ¸…ç”œ|è¼•/.test(t)) return "light";
      return "balanced";
    }
    function flavorGuess(p){
      const t = (p.note || "") + " " + (p.name || "");
      if(/ç„™|çƒ˜ç„™|ç„¦ç³–/.test(t)) return "roast";
      if(/èœœ|å›ç”˜|ç”œ|ç³–é¦™|æ°´ç”œ|æ¸…ç”œ/.test(t)) return "sweet";
      return "fresh";
    }

    // ======= Scoring (èŒ¶) =======
    function teaScore(p){
      let score = 0;

      // é¡åˆ¥å¿…é ˆæ˜¯ tea
      if(p.type !== "tea") return -999;

      const use = state.answers.use;
      const feel = state.answers.feel;
      const budget = state.answers.budget;
      const flavor = state.answers.flavor;

      // ç”¨é€”ï¼šé€ç¦®å°ã€Œç›’è£ã€é™é‡ã€æ¯”è³½èŒ¶ã€å¾®åŠ åˆ†
      if(use === "gift"){
        if(/æ¯”è³½|é™é‡|ç›’è£|ç|é«˜å±±èŒ¶ç‹|ç¦å£½|å¤©æ± |æ±æ–¹ç¾äºº/.test(p.name + " " + p.note)) score += 2;
      }else if(use === "self"){
        if(/æ—¥å¸¸|é•·é’|è€å–|ç¶“æ¿Ÿ/.test(p.note)) score += 2;
      }

      // æ¿ƒæ·¡
      const fg = feelGuess(p);
      if(feel && feel !== "pick"){
        if(feel === fg) score += 3;
        else score -= 0.5;
      }else{
        score += 1; // ä¸ç¢ºå®šä¹Ÿçµ¦ä¸€é»åˆ†
      }

      // é¢¨å‘³
      const flg = flavorGuess(p);
      if(flavor && flavor !== "pick"){
        if(flavor === flg) score += 2;
      }else{
        score += 1;
      }

      // é ç®—ï¼šç”¨åƒ¹æ ¼è‡ªå‹• tier å°ç…§
      const tier = budgetTierFromPrice(p.price);
      if(budget){
        if(budget === tier) score += 3;
        else{
          // ç›¸é„° tier å°æ‰£åˆ†ï¼Œå·®å¾ˆé å¤§æ‰£åˆ†
          const order = ["daily","gift","flavor","rare"];
          const d = Math.abs(order.indexOf(budget) - order.indexOf(tier));
          score -= d * 1.2;
        }
      }

      // èŒ¶åŒ…ï¼ˆå°åŒ…/å¤§åŒ…/ç›’è£ï¼‰å› ç‚ºä¾¿åˆ©ï¼Œç•¥åŠ åˆ†
      if(/èŒ¶åŒ…|ç›’/.test(p.name + " " + p.pack)) score += 0.8;

      // æ¥µç«¯é«˜åƒ¹ï¼ˆ>5000ï¼‰è‹¥é¸ daily å°±è¦æ‰£å¤šä¸€é»ï¼Œé¿å…åš‡åˆ°äºº
      if(budget === "daily" && p.price > 2000) score -= 6;

      return score;
    }

    // ======= Scoring (other) =======
    function otherScore(p){
      if(p.type !== "other") return -999;
      let score = 0;
      const use = state.answers.use;

      if(use === "gift"){
        if(/èœ‚èœœ|èŒ¶ç±½æ²¹|é¦™è‡|æ¢…é†¬/.test(p.name)) score += 2;
      }else if(use === "self"){
        if(/èŒ¶ç±½ç²‰|ç“œå­|é¦™è‡|æ¢…é†¬/.test(p.name)) score += 2;
      }else{
        score += 1;
      }

      // é ç®—ç”¨åƒ¹æ ¼ tierï¼ˆè‹¥æ²’å¡« Q4ï¼Œä¹Ÿèƒ½é åƒ¹æ ¼åˆ†å¸ƒï¼‰
      const tier = budgetTierFromPrice(p.price);
      if(state.answers.budget){
        const b = state.answers.budget;
        if(b === tier) score += 2;
      }else{
        score += 0.5;
      }

      return score;
    }

    // ======= pick products =======
    function pickProducts(){
      const cat = state.answers.category;
      if(!cat) return [];

      if(cat === "other"){
        const list = CONFIG.products.filter(p=>p.type==="other").sort((a,b)=>otherScore(b)-otherScore(a));
        return list.slice(0, CONFIG.otherPickCount);
      }

      // tea æˆ– pickï¼šéƒ½ç•¶èŒ¶æ¨è–¦
      const teas = CONFIG.products.filter(p=>p.type==="tea").sort((a,b)=>teaScore(b)-teaScore(a));
      return teas.slice(0, CONFIG.teaPickCount);
    }

    // ======= Render quiz =======
    function renderQuiz(){
      const root = $("quiz");
      root.innerHTML = "";

      CONFIG.questions.forEach((q)=>{
        if(!isQuestionVisible(q)) return;

        const box = document.createElement("div");
        box.style.marginBottom = "14px";

        const head = document.createElement("div");
        head.className="row";
        head.style.justifyContent="space-between";

        const qTitle = document.createElement("p");
        qTitle.className="q";
        qTitle.textContent = q.title;

        const chosen = document.createElement("span");
        chosen.className="pill";
        chosen.textContent = state.answers[q.key] ? `å·²é¸ï¼š${labelOf(q.key, state.answers[q.key])}` : "å°šæœªé¸";

        head.appendChild(qTitle);
        head.appendChild(chosen);

        const opts = document.createElement("div");
        opts.className="options";

        q.options.forEach(opt=>{
          const btn = document.createElement("button");
          btn.type="button";
          btn.className="opt";
          if(state.answers[q.key] === opt.value) btn.classList.add("active");
          btn.innerHTML = `<div>${opt.label}</div><small>${opt.note || ""}</small>`;
          btn.onclick = ()=>{
            state.answers[q.key] = opt.value;

            // è‹¥ Q1 é¸ otherï¼šè‡ªå‹•æ¸…æ‰ feel/budget/flavorï¼ˆé¿å…æ€ªï¼‰
            if(q.key === "category" && opt.value === "other"){
              delete state.answers.feel;
              delete state.answers.budget;
              delete state.answers.flavor;
            }

            save();
            renderQuiz();
            renderResults();
          };
          opts.appendChild(btn);
        });

        box.appendChild(head);
        box.appendChild(opts);
        root.appendChild(box);
      });

      const actions = document.createElement("div");
      actions.className="row";
      actions.innerHTML = `
        <button class="btn" id="btnReset">æ¸…ç©ºé¸æ“‡</button>
        <button class="btn" id="btnResetCart">æ¸…ç©ºè³¼ç‰©è»Š</button>
      `;
      root.appendChild(actions);

      $("btnReset").onclick = ()=>{
        state.answers = {};
        save();
        renderQuiz();
        renderResults();
      };
      $("btnResetCart").onclick = ()=>{
        state.cart = [];
        save();
        renderCartBar();
        renderCartModal();
      };
    }

    // ======= Render results =======
    function renderResults(){
      const root = $("results");
      root.innerHTML = "";

      const picked = pickProducts();
      if(picked.length === 0){
        root.innerHTML = `<p class="muted">è«‹å…ˆå®Œæˆå·¦å´é¸æ“‡ï¼Œé€™è£¡å°±æœƒå‡ºç¾æ¨è–¦çµæœã€‚</p>`;
        return;
      }

      picked.forEach((p, i)=>{
        const card = document.createElement("div");
        card.className="rCard";

        const img = document.createElement("div");
        img.className="rImg";
        // ä¸ç”¨ä»»ä½•å¤–éƒ¨åœ–ç‰‡ï¼Œé¿å…ç‰ˆæ¬Šï¼›ç”¨æƒ…å¢ƒæ¼¸å±¤å³å¯
        img.style.backgroundImage =
          "radial-gradient(circle at 30% 35%, rgba(255,255,255,.95), rgba(255,255,255,0) 55%)," +
          "radial-gradient(circle at 72% 45%, rgba(47,79,58,.18), rgba(47,79,58,0) 55%)," +
          "linear-gradient(135deg, rgba(47,79,58,.16), rgba(0,0,0,0))";

        const bd = document.createElement("div");
        bd.className="rBd";
        const rank = (i===0 ? "â­ ä¸»æ¨" : "â—»ï¸ ä¹Ÿå¾ˆé©åˆæ‚¨");

        const why = buildWhy(p);

        bd.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div style="min-width:0">
              <div class="pill">${rank}</div>
              <h3 class="rName">${p.name}</h3>
              <p class="rMeta">åº—è™Ÿï¼š<b>${p.storeNo}</b> ï½œ è¦æ ¼ï¼š<b>${p.pack || "-"}</b></p>
              <p class="rMeta">åƒ¹æ ¼ï¼š<b>${p.priceLabel || ("NT$ " + fmtPrice(p.price))}</b></p>
              <p class="rMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "å°ç£"}</b></p>
            </div>
            <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
          </div>
          <ul class="why">
            ${why.map(x=>`<li>${x}</li>`).join("")}
          </ul>
        `;

        bd.querySelector("button").onclick = ()=> addToCart(p);

        card.appendChild(img);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    function buildWhy(p){
      const arr = [];
      const cat = state.answers.category;

      if(cat === "other"){
        arr.push("æ‚¨é¸æ“‡äº†ã€Œå…¶ä»–ç‰¹è‰²å•†å“ã€ï¼Œæˆ‘å€‘å„ªå…ˆæŒ‘ï¼šå¯¦ç”¨ã€å¥½ç”¨ã€å¥½é€çš„å“é …ã€‚");
      }else{
        const fg = feelGuess(p);
        const flg = flavorGuess(p);
        if(state.answers.feel && state.answers.feel !== "pick"){
          arr.push(`å£æ„Ÿå‚¾å‘ï¼š${state.answers.feel==="light"?"æ¸…é¦™é †å£":state.answers.feel==="balanced"?"å¹³è¡¡è€å–":"é¦™æ°£åšå¯¦"}ï¼ˆæ­¤å“å ${fg==="light"?"æ¸…é¦™":fg==="balanced"?"å¹³è¡¡":"åšå¯¦"}ï¼‰`);
        }else{
          arr.push("ä¾æ‚¨çš„æ¢ä»¶æ­é…ï¼ˆæ‚¨ä¹Ÿé¸äº†ã€Œäº¤çµ¦æˆ‘å€‘æŒ‘ã€ï¼‰ã€‚");
        }
        if(state.answers.flavor && state.answers.flavor !== "pick"){
          arr.push(`é¢¨å‘³å‚¾å‘ï¼š${state.answers.flavor==="fresh"?"æ¸…é¦™å‹":state.answers.flavor==="roast"?"ç„™é¦™å‹":"ç”œæ„Ÿå‹"}ï¼ˆæ­¤å“å ${flg==="fresh"?"æ¸…é¦™":flg==="roast"?"ç„™é¦™":"ç”œæ„Ÿ"}ï¼‰`);
        }
        if(state.answers.budget){
          const tier = budgetTierFromPrice(p.price);
          const zh = {daily:"æ—¥å¸¸",gift:"é€ç¦®/å–å¥½ä¸€é»",flavor:"è¬›ç©¶é¢¨å‘³",rare:"çè—"};
          arr.push(`é ç®—åŒ¹é…ï¼šæ­¤å“å±¬ã€Œ${zh[tier]}ã€åƒ¹ä½`);
        }
      }

      if(p.note) arr.push(p.note);
      return arr.slice(0, 4);
    }

    // ======= Cart =======
    function addToCart(p){
      const existing = state.cart.find(x=>x.sku===p.sku);
      if(existing) existing.qty += 1;
      else state.cart.push({
        sku:p.sku, storeNo:p.storeNo, name:p.name, pack:p.pack, price:p.price, priceLabel:p.priceLabel,
        origin:p.origin, type:p.type, qty:1
      });
      save();
      renderCartBar();
      renderCartModal();
      openCart(); // åŠ å…¥å¾Œç›´æ¥æ‰“é–‹è³¼ç‰©è»Šï¼Œæ¯”è¼ƒç›´è¦º
    }

    function renderCartBar(){
      const count = state.cart.reduce((s,x)=>s+x.qty,0);
      if(count===0){
        $("cartCount").textContent = "ğŸ›’ å°šæœªé¸æ“‡å•†å“";
        $("cartItems").textContent = "";
      }else{
        $("cartCount").textContent = `ğŸ›’ å·²é¸ ${count} ä»¶`;
        const names = state.cart.map(x=>`${x.name}ï¼ˆåº—è™Ÿ${x.storeNo}ï¼‰Ã—${x.qty}`).join("ã€");
        $("cartItems").textContent = names;
      }
    }

    function cartTotal(){
      return state.cart.reduce((s,x)=> s + (Number(x.price)||0) * (Number(x.qty)||1), 0);
    }

    function renderCartModal(){
      const body = $("cartBody");
      body.innerHTML = "";

      if(state.cart.length===0){
        body.innerHTML = `<p class="muted">ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚æ‚¨å¯ä»¥å…ˆå®Œæˆé¸æ“‡ï¼Œå°‡å–œæ­¡çš„å“é …åŠ å…¥è³¼ç‰©è»Šã€‚</p>`;
        return;
      }

      state.cart.forEach((x)=>{
        const div = document.createElement("div");
        div.className="item";
        div.style.marginBottom="10px";
        div.innerHTML = `
          <div class="itemTop">
            <div style="min-width:0">
              <p class="itemName">åº—è™Ÿ ${x.storeNo}ï½œ${x.name}</p>
              <p class="itemMeta">è¦æ ¼ï¼š<b>${x.pack || "-"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${x.priceLabel || ("NT$ "+fmtPrice(x.price))}</b></p>
              <p class="itemMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${x.origin || "å°ç£"}</b></p>
            </div>
            <div class="qty">
              <button aria-label="minus">ï¼</button>
              <span>${x.qty}</span>
              <button aria-label="plus">ï¼‹</button>
            </div>
          </div>
          <div class="hr"></div>
          <button class="btn danger">ç§»é™¤</button>
        `;

        const [minus, plus] = div.querySelectorAll(".qty button");
        const remove = div.querySelector(".danger");
        minus.onclick = ()=>{
          x.qty = Math.max(1, x.qty-1);
          save(); renderCartBar(); renderCartModal();
        };
        plus.onclick = ()=>{
          x.qty += 1;
          save(); renderCartBar(); renderCartModal();
        };
        remove.onclick = ()=>{
          state.cart = state.cart.filter(t=>t.sku!==x.sku);
          save(); renderCartBar(); renderCartModal();
        };

        body.appendChild(div);
      });

      body.insertAdjacentHTML("beforeend", `
        <div class="hr"></div>
        <div class="row" style="justify-content:space-between;align-items:center">
          <span class="badge">å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š<b>NT$ ${fmtPrice(cartTotal())}</b></span>
          <div class="row">
            <button class="btn" id="btnClearCart">æ¸…ç©ºè³¼ç‰©è»Š</button>
            <button class="btn btnPri" id="btnCheckout">è©¢å•ï¼ä¸‹å–®</button>
          </div>
        </div>
      `);

      $("btnClearCart").onclick = ()=>{
        if(confirm("ç¢ºå®šè¦æ¸…ç©ºè³¼ç‰©è»Šå—ï¼Ÿ")){
          state.cart = [];
          save(); renderCartBar(); renderCartModal();
        }
      };
      $("btnCheckout").onclick = ()=> openMessenger();
    }

    function openMessenger(){
      if(!state.cart.length){
        alert("ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      const lines = [];
      lines.push("ä½ å¥½ï¼Œæˆ‘åœ¨å°æ–‡çš„èŒ¶é¸äº†ä»¥ä¸‹å•†å“ï¼Œæƒ³è«‹ä½ å¹«æˆ‘ç¢ºèªä¸‹å–®èˆ‡å¯„é€ï¼š");
      lines.push("");
      state.cart.forEach(x=>{
        lines.push(`ãƒ»åº—è™Ÿ${x.storeNo}ï½œ${x.name}ï½œ${x.pack || "-"}ï½œ${x.priceLabel || ("NT$ "+fmtPrice(x.price))} Ã— ${x.qty}`);
      });
      lines.push("");
      lines.push(`å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼šNT$ ${fmtPrice(cartTotal())}`);
      lines.push("");
      lines.push("éº»ç…©å”åŠ©ç¢ºèªï¼šç¸½é‡‘é¡/é‹è²»/ä»˜æ¬¾æ–¹å¼ï¼Œè¬è¬ã€‚");

      const text = lines.join("\n");

      // è‹¥ä½ æœ‰ç²‰å°ˆ m.meï¼Œæœƒé–‹æ–°åˆ†é ï¼›å¦å‰‡ç›´æ¥è¤‡è£½
      if(CONFIG.messengerUrl && CONFIG.messengerUrl.trim()){
        const ref = encodeURIComponent(text);
        const url = CONFIG.messengerUrl.includes("?")
          ? `${CONFIG.messengerUrl}&ref=${ref}`
          : `${CONFIG.messengerUrl}?ref=${ref}`;
        window.open(url, "_blank");
      }else{
        navigator.clipboard?.writeText(text);
        alert("æˆ‘å·²æŠŠä¸‹å–®æ–‡å­—è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼ˆè‹¥æœªæˆåŠŸï¼Œè«‹æ‰‹å‹•è¤‡è£½ä¸‹é¢å…§å®¹ï¼‰\n\n" + text);
      }
    }

    function openCart(){
      $("overlay").classList.add("open");
      $("overlay").setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
    }
    function closeCart(){
      $("overlay").classList.remove("open");
      $("overlay").setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    }

    // ======= Catalog =======
    function renderTabs(){
      const tabs = [
        {key:"all", label:"å…¨éƒ¨"},
        {key:"tea", label:"èŒ¶"},
        {key:"other", label:"ç‰¹è‰²å•†å“"},
      ];
      const root = $("tabs");
      root.innerHTML = "";
      tabs.forEach(t=>{
        const b = document.createElement("button");
        b.className = "tab" + (state.tab===t.key ? " active" : "");
        b.type = "button";
        b.textContent = t.label;
        b.onclick = ()=>{
          state.tab = t.key;
          renderTabs();
          renderCatalog();
        };
        root.appendChild(b);
      });
    }

    function catalogFiltered(){
      const q = (state.q || "").trim().toLowerCase();
      return CONFIG.products
        .filter(p=>{
          if(state.tab !== "all" && p.type !== state.tab) return false;
          if(!q) return true;
          const hay = `${p.storeNo} ${p.name} ${p.origin||""} ${p.pack||""} ${p.note||""} ${p.priceLabel||""}`.toLowerCase();
          return hay.includes(q);
        })
        // ä¾ã€Œåº—è™Ÿã€æ’åºï¼ˆæ•¸å­—+å­—æ¯æ··åˆï¼Œä½¿ç”¨ localeCompareï¼‰
        .sort((a,b)=> String(a.storeNo).localeCompare(String(b.storeNo), "zh-Hant", {numeric:true, sensitivity:"base"}));
    }

    function renderCatalog(){
      const root = $("catalog");
      root.innerHTML = "";
      const list = catalogFiltered();
      if(!list.length){
        root.innerHTML = `<p class="muted">æ‰¾ä¸åˆ°ç¬¦åˆçš„å“é …ï¼Œè«‹æ›å€‹é—œéµå­—è©¦è©¦ã€‚</p>`;
        return;
      }

      list.forEach(p=>{
        const card = document.createElement("div");
        card.className = "pCard";
        card.innerHTML = `
          <div class="pBd">
            <h3 class="pName">åº—è™Ÿ ${p.storeNo}ï½œ${p.name}</h3>
            <p class="pMeta">è¦æ ¼ï¼š<b>${p.pack || "-"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${p.priceLabel || ("NT$ "+fmtPrice(p.price))}</b></p>
            <p class="pMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "å°ç£"}</b></p>
            <p class="pDesc">${p.note ? p.note : ""}</p>
            <div class="pActions">
              <span class="badge">${p.type==="tea" ? "ğŸµ èŒ¶" : "ğŸ ç‰¹è‰²å•†å“"}</span>
              <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
            </div>
          </div>
        `;
        card.querySelector("button").onclick = ()=> addToCart(p);
        root.appendChild(card);
      });
    }

    // ======= Wire UI =======
    function wireUI(){
      $("btnCart").onclick = openCart;
      $("btnMsg").onclick = openMessenger;
      $("btnClose").onclick = closeCart;
      $("btnMsg2").onclick = openMessenger;

      $("overlay").addEventListener("click", (e)=>{
        if(e.target === $("overlay")) closeCart();
      });
      document.addEventListener("keydown",(e)=>{
        if(e.key==="Escape") closeCart();
      });

      $("search").addEventListener("input",(e)=>{
        state.q = e.target.value;
        renderCatalog();
      });
    }

    // ======= Init =======
    heroSetup();
    wireUI();
    renderTabs();
    renderQuiz();
    renderResults();
    renderCartBar();
    renderCartModal();
    renderCatalog();
  </script>
</body>
</html>
