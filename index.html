<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å°æ–‡çš„èŒ¶ï½œé¸èŒ¶å™¨</title>
  <style>
    :root{
      --bg:#faf7f2;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#2f4f3a;
      --soft:#f4efe6;
      --shadow: 0 8px 30px rgba(0,0,0,.06);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: system-ui,-apple-system,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;line-height:1.55}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:14px}
    .hero{background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.6));border:1px solid var(--line);border-radius:24px;box-shadow:var(--shadow);overflow:hidden}
    .heroImg{height:160px;background-size:cover;background-position:center}
    @media (max-width:520px){ .heroImg{height:90px;} }
    .heroBody{padding:14px 14px 10px}
    h1{margin:0 0 8px;font-size:22px;letter-spacing:.5px}
    .lead{margin:0;color:var(--muted)}
    .notice{margin:12px 0 0;padding:10px 12px;background:var(--soft);border:1px solid var(--line);border-radius:12px;color:#374151;font-size:14px}
    .grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
    @media (min-width:900px){ .grid{grid-template-columns: 1.1fr .9fr;} }

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow)}
    .cardHd{padding:14px 14px 0}
    .cardBd{padding:14px}
    .title{font-weight:800;margin:0 0 6px}
    .sub{color:var(--muted);font-size:14px;margin:0}

    .q{margin:0 0 10px;font-weight:800}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:520px){ .options{grid-template-columns:1fr 1fr;} }
    .opt{
      text-align:left; padding:12px; border:1px solid var(--line); border-radius:14px;
      background:#fff; cursor:pointer; transition:.12s; position:relative;
    }
    .opt:hover{transform: translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .opt small{display:block;color:var(--muted);margin-top:4px}
    .opt.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.18)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{font-size:12px;color:#374151;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:10px 14px;cursor:pointer}
    .btnPri{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn:active{transform:scale(.99)}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}

    /* Top bar */
    .cartbar{
      position:sticky; top:0; z-index:50;
      background:rgba(250,247,242,.92); backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .cartinner{max-width:980px;margin:0 auto;padding:10px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .cartleft{display:flex;gap:10px;align-items:center;min-width:0}
    .cartcount{font-weight:900}
    .cartitems{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:55vw}

    /* Modal (Cart / Order / Catalog) */
    .modalBack{position:fixed;inset:0;background:rgba(0,0,0,.25);display:none;z-index:99}
    .modalBack.open{display:block}
    .modal{
      position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
      width:min(920px,92vw); max-height:min(86vh,820px);
      background:#fff;border:1px solid var(--line);border-radius:18px;box-shadow:0 30px 80px rgba(0,0,0,.25);
      overflow:auto; z-index:100; display:none;
    }
    .modal.open{display:block}
    .modalHd{padding:14px;border-bottom:1px solid var(--line);display:flex;justify-content:space-between;align-items:center;gap:10px;position:sticky;top:0;background:#fff;z-index:1}
    .modalHd .title{margin:0}
    .modalBd{padding:14px}

    .item{border:1px solid var(--line);border-radius:14px;padding:10px;background:#fff}
    .itemTop{display:flex;justify-content:space-between;gap:10px}
    .itemName{font-weight:900;margin:0}
    .itemMeta{margin:2px 0 0;color:var(--muted);font-size:13px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:34px;height:34px;border-radius:12px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .qty span{min-width:18px;text-align:center;font-weight:800}
    .danger{color:#b91c1c;border-color:#f3d0d0}
    .danger:hover{background:#fff6f6}

    /* Results */
    .result{display:grid;grid-template-columns:1fr;gap:12px}
    .rCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .rImg{height:140px;background:#f3f4f6;background-size:cover;background-position:center}
    .rBd{padding:12px}
    .rName{margin:0 0 6px;font-weight:900}
    .rMeta{margin:0;color:var(--muted);font-size:13px}
    .why{margin:10px 0 0;color:#374151;font-size:14px}
    .why li{margin:4px 0}
    .footnote{font-size:12px;color:var(--muted);margin-top:10px}

    /* Catalog cards */
    .catalogGrid{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:720px){ .catalogGrid{grid-template-columns:1fr 1fr;} }
    .pCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .pCover{height:140px;background:#f3f4f6;background-size:cover;background-position:center}
    .pBd{padding:12px}
    .pName{margin:0 0 6px;font-weight:900}
    .pMeta{margin:0;color:var(--muted);font-size:13px}
    .pActions{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between}
    .vBtns{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .vBtn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 10px;cursor:pointer;font-size:13px}
    .vBtn.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.18)}
    .sumRow{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:center}
    .bigNum{font-weight:900}
    .formGrid{display:grid;grid-template-columns:1fr;gap:10px}
    @media(min-width:720px){ .formGrid{grid-template-columns:1fr 1fr;} }
    label{font-size:13px;color:#374151;font-weight:800}
    input, textarea{
      width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:12px; font-size:14px;
      font-family: inherit;
    }
    textarea{min-height:90px;resize:vertical}
    .hint{font-size:12px;color:var(--muted)}
  </style>
</head>

<body>
<script>
  const CONFIG = {
    brandTitle: "å°æ–‡çš„èŒ¶",
    heroTitle: "ä¸ç”¨æ‡‚èŒ¶ï¼Œä¹Ÿèƒ½é¸åˆ°é©åˆçš„å°ç£èŒ¶",
    heroText: "æœ¬é¸èŒ¶å™¨æä¾›æ‚¨å¿«é€Ÿæ‰¾èŒ¶ã€çœ‹åƒ¹æ ¼èˆ‡ä¸‹å–®ã€‚é¸å®Œæœƒæ¨è–¦ä¸»æ¨ 1 + ä¹Ÿå¾ˆé©åˆæ‚¨ 1ï¼ˆä¸¦å¯åŠ å…¥è³¼ç‰©è»Šï¼‰ã€‚",
    noSampleNotice: "å°æœ¬ç¶“ç‡Ÿï¼Œæ²’æœ‰æä¾›è©¦å–åŒ…ï¼Œé€éé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ä¾ç…§éœ€æ±‚é¸æ“‡åˆé©çš„å•†å“ã€‚",
    imageNote: "åœ–ç‰‡ç‚ºæƒ…å¢ƒç¤ºæ„ï¼ˆéåŒ…è£ç…§ï¼‰ï¼Œå¯¦éš›å•†å“ä»¥å‡ºè²¨å…§å®¹ç‚ºæº–ã€‚",
    unitNote: "å–®ä½èªªæ˜ï¼š1 å…© â‰ˆ 37.5gï½œ1 æ–¤ â‰ˆ 600gï½œèŒ¶åŒ…è‹¥æ¨™ã€Œæ•´çµ„ã€å³å›ºå®šçµ„åˆ",
    // ä½ ä¹‹å¾ŒæŠŠç²‰å°ˆå»ºå¥½ï¼Œå¡«é€™å€‹ï¼šä¾‹å¦‚ "https://m.me/ä½ çš„ç²‰å°ˆID"
    messengerUrl: "",

    footerNote: "â€» æœ¬é ç‚ºã€Œå°æ–‡çš„èŒ¶ã€é¸èŒ¶èˆ‡ä¸‹å–®ç³»çµ±ã€‚å…§å®¹èˆ‡æ¨è–¦é‚è¼¯ç‚ºæœ¬åº—æ•´ç†ä¹‹éŠ·å”®å·¥å…·ï¼Œè«‹å‹¿æœªç¶“æˆæ¬Šè¤‡è£½ã€ä»¿è£½æˆ–è½‰ä½œä»–ç”¨ã€‚",

    questions: [
      {
        key: "category",
        title: "Q1ï½œé€™æ¬¡æ‚¨æƒ³æ‰¾çš„æ˜¯ï¼Ÿ",
        options: [
          { value: "tea",  label: "ğŸµ èŒ¶",           note: "æ—¥å¸¸é£²ç”¨ã€é€ç¦®çš†å¯" },
          { value: "other",label: "ğŸ å…¶ä»–ç‰¹è‰²å•†å“", note: "é¦™è‡ã€èŠ±èœœã€èŒ¶ç±½æ²¹ã€æ¢…é†¬ã€èŒ¶ç±½ç²‰ã€ç™½ç“œå­" },
          { value: "pick", label: "ğŸ² ä½ å¹«æˆ‘æŒ‘",     note: "ä¸ç”¨æƒ³å¤ªå¤šï¼Œäº¤çµ¦æˆ‘å€‘å¹«æ‚¨æ­é…" }
        ]
      },
      {
        key: "use",
        title: "Q2ï½œé€™æ¬¡æ˜¯ï¼Ÿ",
        options: [
          { value: "self",  label: "ğŸ«– è‡ªå·±å–ï¼è‡ªå·±ç”¨", note: "å¹³å¸¸å–ã€æ—¥å¸¸ä½¿ç”¨" },
          { value: "gift",  label: "ğŸ é€äºº",           note: "å¸Œæœ›å°æ–¹æ”¶åˆ°ä¸å¤±ç¦®" },
          { value: "unsure",label: "ğŸ¤· ä¸ç¢ºå®š",         note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨åˆ¤æ–·" }
        ]
      },
      {
        key: "feel",
        title: "Q3ï½œæ‚¨å¸Œæœ›å–èµ·ä¾†çš„æ„Ÿè¦ºæ˜¯ï¼Ÿ",
        onlyForTea: true,
        options: [
          { value: "light",    label: "ğŸŒ¸ æ¸…é¦™ã€é †å£å‹", note: "é¦™æ°£ç´°ç·»ï¼Œå£æ„Ÿæ¸…çˆ½ï¼Œä¸åšä¸è‹¦" },
          { value: "balanced", label: "ğŸ™‚ å¹³è¡¡è€å–å‹",   note: "é¦™æ°£èˆ‡å£æ„Ÿéƒ½æœ‰ï¼Œä½†ä¸åˆºæ¿€" },
          { value: "bold",     label: "ğŸ”¥ é¦™æ°£åšå¯¦å‹",   note: "é¦™æ°£æ˜é¡¯ï¼Œå£æ„Ÿè¼ƒåš" },
          { value: "pick",     label: "ğŸ² äº¤çµ¦ä½ å€‘å¹«æˆ‘é¸",note:"ä¾å‰é¢æ¢ä»¶å”åŠ©æ¨è–¦" }
        ]
      },
      {
        key: "budget",
        title: "Q4ï½œé€™æ¬¡é ç®—å¤§æ¦‚è½åœ¨å“ªï¼Ÿ",
        onlyForTea: true,
        options: [
          { value: "daily",  label: "ğŸ’° æ—¥å¸¸å–çš„é ç®—",   note: "å¤§ç´„å¹¾ç™¾å…ƒç­‰ç´š" },
          { value: "gift",   label: "ğŸ æƒ³å–å¥½ä¸€é»ï¼é€äºº",note:"å¸¸è¦‹é€ç¦®åƒ¹ä½" },
          { value: "flavor", label: "â­ è¬›ç©¶é¢¨å‘³",       note: "é¢¨å‘³è¡¨ç¾æ˜é¡¯ï¼Œåƒ¹æ ¼è¼ƒé«˜" },
          { value: "rare",   label: "ğŸ‘‘ çè—ç­‰ç´š",       note: "è¿½æ±‚å“è³ªèˆ‡ç¨€æœ‰æ€§ï¼ˆé«˜åƒ¹ä½ï¼‰" }
        ]
      },
      {
        key: "flavor",
        title: "Q5ï½œæ‚¨æ¯”è¼ƒåå¥½å“ªä¸€ç¨®ï¼Ÿ",
        onlyForTea: true,
        options: [
          { value: "fresh", label: "ğŸŒ¿ æ¸…é¦™å‹", note: "åƒèŠ±é¦™ã€è‰é¦™ï¼Œæ¸…æ¸…çš„" },
          { value: "roast", label: "ğŸ”¥ ç„™é¦™å‹", note: "åƒçƒ¤éã€æº«æš–çš„é¦™æ°£" },
          { value: "sweet", label: "ğŸ¯ ç”œæ„Ÿå‹", note: "èœœé¦™ã€å›ç”˜ã€ä¸è‹¦" },
          { value: "pick",  label: "ğŸ² ä¸çŸ¥é“", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨æŒ‘" }
        ]
      }
    ],

    // ====== 39 é …å®Œæ•´å•†å“ï¼ˆä¾ä½ æœ€å¾Œé‚£ä»½ï¼‰ ======
    products: [
      // 1-2ï¼šçƒ˜ç„™æ•£èŒ¶ï¼ˆæ–¤è£ï¼‰
      { type:"tea", storeNo:"1", name:"ç¶œåˆçƒ˜ç„™å† è»èŒ¶æ", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", priceLabel:"NT$ 200", priceValue:200, note:"æ¯”è³½åŠŸå¤«åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶æã€‚"},
      { type:"tea", storeNo:"2", name:"ç¶œåˆçƒ˜ç„™èŒ¶ï¼ˆå¤§å£ºèŒ¶ï¼‰", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", priceLabel:"NT$ 500", priceValue:500, note:"åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶ã€‚"},

      // 3ï¼šå››å­£æ˜¥åŠæ–¤
      { type:"tea", storeNo:"3", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆæ­¡æ¨‚èŒ¶åœ’ï¼‰", origin:"é›²æ—å¤å‘", pack:"åŠæ–¤è£", priceLabel:"NT$ 600ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 300/åŒ…", priceValue:600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},

      // 3Aï¼šå››å­£æ˜¥èŒ¶åŒ…ï¼ˆå°/å¤§ï¼‰
      { type:"bag", storeNo:"3A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 70ï¼ˆå°è¢‹ï¼‰",  priceValue:70, note:"å¹³å‡ NT$14/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 400ï¼ˆå¤§è¢‹ï¼‰", priceValue:400, note:"å¹³å‡ NT$13.4/åŒ…" }
      ], note:"åŒç³»åˆ—èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},

      // 4ï¼šç²¾ç·»çƒ˜ç„™å››å­£æ˜¥å››å…©
      { type:"tea", storeNo:"4", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é›²æ—å¤å‘", pack:"å››å…©è£", priceLabel:"NT$ 800ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 200/åŒ…", priceValue:800, note:"æ­£å¸¸ç™¼é…µï¼›æ¡æ¯”è³½èŒ¶çƒ˜ç„™ã€‚"},

      // 4Aï¼šåŒ 3Aï¼ˆé‡è¤‡ä¸Šæ¶ä¹Ÿä¿ç•™åº—è™Ÿï¼‰
      { type:"bag", storeNo:"4A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 70ï¼ˆå°è¢‹ï¼‰",  priceValue:70, note:"å¹³å‡ NT$14/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 400ï¼ˆå¤§è¢‹ï¼‰", priceValue:400, note:"å¹³å‡ NT$13.4/åŒ…" }
      ], note:"åŒç³»åˆ—èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},

      { type:"tea", storeNo:"5", name:"æ©Ÿæ¡ç´…èŒ¶ï¼ˆç¢èŒ¶ï¼‰", origin:"å—æŠ•ç«¹å±±", pack:"å››å…©è£", priceLabel:"NT$ 800ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 200/åŒ…", priceValue:800, note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ï¼›é¾çœ¼ä¹¾é¦™ã€‚"},
      { type:"tea", storeNo:"6", name:"é¦™ç‰‡ï¼ˆä¿—ç¨±ï¼šèŒ‰è‰èŠ±èŒ¶ï¼‰", origin:"å—æŠ•", pack:"å››å…©è£", priceLabel:"NT$ 1200ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 300/åŒ…", priceValue:1200, note:"è¼•ç™¼é…µï¼›è¼•çƒ˜ç„™è–°èŒ‰è‰èŠ±ã€‚"},
      { type:"tea", storeNo:"7", name:"æ‹›ç‰Œæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶19è™Ÿ ç¢§ç‰ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", priceLabel:"NT$ 1200ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 600/åŒ…", priceValue:1200, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"7A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 80ï¼ˆå°è¢‹ï¼‰",  priceValue:80, note:"å¹³å‡ NT$16/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 540ï¼ˆå¤§è¢‹ï¼‰", priceValue:540, note:"å¹³å‡ NT$18/åŒ…" }
      ], note:"åŒç³»åˆ—èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},

      { type:"tea", storeNo:"8", name:"ç´…çƒé¾ï¼ˆçƒç‹€çƒå‹ç´…èŒ¶ï¼‰", origin:"å°æ±é¹¿é‡", pack:"å››å…©è£", priceLabel:"NT$ 1600ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 400/åŒ…", priceValue:1600, note:"æ˜é¡¯ç³–é¦™ï¼›æ°´ç”œã€‚"},
      { type:"bag", storeNo:"8A", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 86ï¼ˆå°è¢‹ï¼‰",  priceValue:86,  note:"å¹³å‡ NT$17.2/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 610ï¼ˆå¤§è¢‹ï¼‰", priceValue:610, note:"å¹³å‡ NT$20.4/åŒ…" }
      ], note:"ç´…çƒé¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"9", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é¹¿è°·å°åŠå¤©", pack:"åŠæ–¤è£", priceLabel:"NT$ 1600ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 800/åŒ…", priceValue:1600, note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ã€‚"},
      { type:"tea", storeNo:"10", name:"é ‚ç´šæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶20è™Ÿ è¿é¦™ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", priceLabel:"NT$ 1600ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 800/åŒ…", priceValue:1600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"10A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 84ï¼ˆå°è¢‹ï¼‰",  priceValue:84,  note:"å¹³å‡ NT$16.8/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 584ï¼ˆå¤§è¢‹ï¼‰", priceValue:584, note:"å¹³å‡ NT$19.6/åŒ…" }
      ], note:"åŒç³»åˆ—èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"11", name:"æ‰‹æ¡çƒé¾èŒ¶", origin:"æ‹‰æ‹‰å±±ï¼å£«åŒªå±±", pack:"åŠæ–¤è£", priceLabel:"NT$ 1600ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 800/åŒ…", priceValue:1600, note:"é‡ç™¼é…µï¼›è¼•çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"11A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 94ï¼ˆå°è¢‹ï¼‰",  priceValue:94,  note:"å¹³å‡ NT$18.8/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 680ï¼ˆå¤§è¢‹ï¼‰", priceValue:680, note:"å¹³å‡ NT$22.8/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"12", name:"æ‰‹æ¡é‡‘è±èŒ¶", origin:"æ‰æ—æºªï¼é¹¿è°·é³³å‡°å±±", pack:"åŠæ–¤è£", priceLabel:"NT$ 2000ï¼ˆåŠæ–¤ï¼‰ï½œNT$ 1000/åŒ…", priceValue:2000, note:"è¼•æœé¦™ã€‚"},
      { type:"bag", storeNo:"12A", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 100ï¼ˆå°è¢‹ï¼‰", priceValue:100, note:"å¹³å‡ NT$20/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 750ï¼ˆå¤§è¢‹ï¼‰", priceValue:750, note:"å¹³å‡ NT$25/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"13", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶", origin:"é˜¿é‡Œå±±ï¼æ¢…å±±é¾ç›®æ¨“ï¼ˆæµ·æ‹”1550mï¼‰", pack:"å››å…©è£", priceLabel:"NT$ 2400ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 600/åŒ…", priceValue:2400, note:"ä¸­é‡ç™¼é…µï¼›èŠ±æœé¦™ã€‚"},
      { type:"bag", storeNo:"13A", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 114ï¼ˆå°è¢‹ï¼‰", priceValue:114, note:"å¹³å‡ NT$22.8/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 890ï¼ˆå¤§è¢‹ï¼‰", priceValue:890, note:"å¹³å‡ NT$29.8/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"14", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼çƒé¾èŒ¶", origin:"é”é‚¦ï¼ç¾Šä»”ç£", pack:"å››å…©è£", priceLabel:"NT$ 3200ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 800/åŒ…", priceValue:3200, note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚"},
      { type:"bag", storeNo:"14A-1", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 140ï¼ˆå°è¢‹ï¼‰",  priceValue:140,  note:"å¹³å‡ NT$28/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1140ï¼ˆå¤§è¢‹ï¼‰", priceValue:1140, note:"å¹³å‡ NT$38/åŒ…" }
      ], note:"ç¾Šä»”ç£ç‰ˆæœ¬ã€‚"},
      { type:"bag", storeNo:"14A-2", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 140ï¼ˆå°è¢‹ï¼‰",  priceValue:140,  note:"å¹³å‡ NT$28/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1140ï¼ˆå¤§è¢‹ï¼‰", priceValue:1140, note:"å¹³å‡ NT$38/åŒ…" }
      ], note:"é”é‚¦ç‰ˆæœ¬ã€‚"},
      { type:"tea", storeNo:"15", name:"ç„¦ç³–é¦™æ‰‹æ¡ç´…èŒ¶", origin:"å—æŠ•é­šæ± ï¼ˆæ—¥æœˆæ½­ï¼‰", pack:"ä¸€é»äº”å…©è£", priceLabel:"NT$ 3200ï¼ˆåˆæ–¤ï¼‰ï½œNT$ 300/åŒ…", priceValue:3200, note:"æ—¥æœˆæ½­ç¨æœ‰ç„¦ç³–é¦™æ°£ã€‚"},
      { type:"tea", storeNo:"16", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼é‡‘è±èŒ¶", origin:"ä¿¡ç¾©é›™é¾ç€‘å¸ƒï¼æ‰æ—æºªè»Ÿéï¼ç‰å±±ç¥æœ¨æ‘ï¼ç‰¹å¯Œé‡ï¼æ¸…å¢ƒï¼æ–°ä½³é™½æ¢¨å±±", pack:"å››å…©è£", priceLabel:"NT$ 4000ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 1000/åŒ…", priceValue:4000, note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚"},
      { type:"bag", storeNo:"16A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 160ï¼ˆå°è¢‹ï¼‰",  priceValue:160,  note:"å¹³å‡ NT$32/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1310ï¼ˆå¤§è¢‹ï¼‰", priceValue:1310, note:"å¹³å‡ NT$43.8/åŒ…" }
      ], note:"æ–°ä½³é™½æ¢¨å±±ç‰ˆæœ¬ã€‚"},
      { type:"tea", storeNo:"17", name:"æ¡‚èŠ±é‡‘è±ï¼ˆé™é‡ï¼‰", origin:"æ¢¨å±±", pack:"å››å…©è£", priceLabel:"NT$ 4000ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 1000/åŒ…", priceValue:4000, note:"æ­£å¸¸ç™¼é…µï¼›ä½¿ç”¨ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ã€‚æ¡‚èŠ±é¦™æ°£èˆ’é©ï¼ŒèŒ¶æ°´æ¸…ç”œã€‚"},
      { type:"tea", storeNo:"18", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±", pack:"å››å…©è£", priceLabel:"NT$ 4800ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 1200/åŒ…", priceValue:4800, note:"æ­£å¸¸ç™¼é…µåé‡ï¼›ç„¡çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"18A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 170ï¼ˆå°è¢‹ï¼‰",  priceValue:170,  note:"å¹³å‡ NT$34/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1450ï¼ˆå¤§è¢‹ï¼‰", priceValue:1450, note:"å¹³å‡ NT$48.4/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"19", name:"èŠ±æœèœœæ¾é¦™æ‰‹æ¡ç´…èŒ¶", origin:"æ¢¨å±±", pack:"äºŒå…©è£ï¼ˆå«è¢‹40gï¼‰", priceLabel:"NT$ 4800ï¼ˆåˆæ–¤ï¼‰ï½œNT$ 300/åŒ…", priceValue:4800, note:"å¤šå±¤æ¬¡å£æ„Ÿé¦™æ°£ã€‚"},
      { type:"tea", storeNo:"20", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç‰å±±å¡”å¡”åŠ ï¼å¤§ç¦¹å¶º", pack:"å››å…©è£", priceLabel:"NT$ 5600ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 1400/åŒ…", priceValue:5600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"20A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 180ï¼ˆå°è¢‹ï¼‰",  priceValue:180,  note:"å¹³å‡ NT$36/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1520ï¼ˆå¤§è¢‹ï¼‰", priceValue:1520, note:"å¹³å‡ NT$50.8/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"21", name:"æ‰‹æ¡é’å¿ƒçƒé¾ç´…èŒ¶", origin:"å¤§ç¦¹å¶º", pack:"èŒ¶è‘‰æ·¨é‡30g", priceLabel:"NT$ 6000ï¼ˆåˆæ–¤ï¼‰ï½œNT$ 300/åŒ…", priceValue:6000, note:"â€”"},
      { type:"tea", storeNo:"22", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ‰æ—æºªé¾é³³å³½æœ€é ‚ç´šè‰å¯ä»”ï¼ˆå¿˜æ†‚æ£®æ—ï¼‰", pack:"å››å…©è£", priceLabel:"NT$ 6400ï¼ˆå››å…©Ã—4ï¼‰ï½œNT$ 1600/åŒ…", priceValue:6400, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"22A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 190ï¼ˆå°è¢‹ï¼‰",  priceValue:190,  note:"å¹³å‡ NT$38/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1660ï¼ˆå¤§è¢‹ï¼‰", priceValue:1660, note:"å¹³å‡ NT$55.4/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"23", name:"é«˜å±±èŒ¶ç‹æ¯”è³½èŒ¶ï¼ˆé ­ç­‰çèŒ¶åœ’ç²¾è£½èŒ¶ï¼‰", origin:"â€”", pack:"äºŒå…©è£", priceLabel:"NT$ 7200ï¼ˆäºŒå…©Ã—?ï¼‰ï½œNT$ 900/åŒ…", priceValue:7200, note:"ä¸­é‡ç™¼é…µï¼›æ¯”è³½å‹ç²¾ç·»çƒ˜ç„™ã€‚"},
      { type:"bag", storeNo:"23A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 190ï¼ˆå°è¢‹ï¼‰",  priceValue:190,  note:"å¹³å‡ NT$38/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 1660ï¼ˆå¤§è¢‹ï¼‰", priceValue:1660, note:"å¹³å‡ NT$55.4/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"24", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±å¤©æ± ", pack:"äºŒå…©è£", priceLabel:"NT$ 8000ï¼ˆäºŒå…©Ã—?ï¼‰ï½œNT$ 1000/åŒ…", priceValue:8000, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›èŠ±æœé¦™ã€‚"},
      { type:"bag", storeNo:"24A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 246ï¼ˆå°è¢‹ï¼‰",  priceValue:246,  note:"å¹³å‡ NT$49.2/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 2200ï¼ˆå¤§è¢‹ï¼‰", priceValue:2200, note:"å¹³å‡ NT$73.4/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"25", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç¦å£½å±±è¯å´—", pack:"äºŒå…©è£", priceLabel:"NT$ 9600ï¼ˆäºŒå…©Ã—?ï¼‰ï½œNT$ 1200/åŒ…", priceValue:9600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›é«˜å±±æ°£å¼·ã€‚"},
      { type:"bag", storeNo:"25A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 260ï¼ˆå°è¢‹ï¼‰",  priceValue:260,  note:"å¹³å‡ NT$52/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 2360ï¼ˆå¤§è¢‹ï¼‰", priceValue:2360, note:"å¹³å‡ NT$78.8/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"26", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶", origin:"ç¦å£½æ¢¨å±±", pack:"äºŒå…©è£", priceLabel:"NT$ 12000ï¼ˆäºŒå…©Ã—?ï¼‰ï½œNT$ 1500/åŒ…", priceValue:12000, note:"æ­£å¸¸ç™¼é…µï¼›ä½¿ç”¨ç¦å£½å±±æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›æ¡‚èŠ±é¦™æ°£å¼·ã€‚"},
      { type:"bag", storeNo:"26A", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…çœŸç©ºè¢‹ï¼‰", origin:"â€”", variants:[
        { id:"S", pack:"ï¼ˆå°ï¼‰3gÃ—5åŒ…",  priceLabel:"NT$ 260ï¼ˆå°è¢‹ï¼‰",  priceValue:260,  note:"å¹³å‡ NT$52/åŒ…" },
        { id:"L", pack:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", priceLabel:"NT$ 2360ï¼ˆå¤§è¢‹ï¼‰", priceValue:2360, note:"å¹³å‡ NT$78.8/åŒ…" }
      ], note:"åŒæ¬¾èŒ¶åŒ…ï¼ŒçœŸç©ºè¢‹è£ã€‚"},
      { type:"tea", storeNo:"27", name:"é ‚ç´šå¼·èœœé¦™æ±æ–¹ç¾äºº", origin:"ç‰¹æ®ŠèŒ¶åœ’", pack:"èŒ¶è‘‰æ·¨é‡30g", priceLabel:"NT$ 20000ï¼ˆåº—å…§æœ€é«˜ç­‰ç´šï¼‰ï½œNT$ 1000/åŒ…", priceValue:20000, note:"å¯åè¦†æ²–æ³¡çš†å¾ˆæœ‰èœœé¦™ã€‚"},

      // 28-31ï¼šè£¸åŒ…ï¼ˆå›ºå®šæ•´çµ„ 50 åŒ…ï¼‰
      { type:"bag", storeNo:"28", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…çƒé¾èŒ¶åŒ…", origin:"â€”", pack:"æ•´çµ„ 50 åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceLabel:"NT$ 250 / çµ„", priceValue:250,
        note:"åŠç”Ÿç†Ÿçƒ˜ç„™çƒé¾ç¢èŒ¶ï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚è‡ªå®¶è‡ªç”¢æ¥µç†±éŠ·é•·é’æ¬¾ï¼ç¶“æ¿ŸåŒ…é©åˆå°è³‡æ—ï¼Œé–‹åº—æ¥­è€…é¦–é¸ã€‚"},
      { type:"bag", storeNo:"29", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…èŒ‰è‰èŒ¶åŒ…", origin:"â€”", pack:"æ•´çµ„ 50 åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceLabel:"NT$ 250 / çµ„", priceValue:250,
        note:"æ¸…é¦™èŒ‰è‰èŠ±ç¢èŒ¶ï¼Œæ¡äº”åº¦è–°é¦™å·¥æ³•è£½æˆï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚å†·æ³¡ç†±æ³¡éƒ½æ¥µæ¸…é¦™ï¼å–œæ„›å†·æ³¡èŒ¶è€…é¦–é¸ã€‚"},
      { type:"bag", storeNo:"30", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…æ­£å®—å°ç£ç´…èŒ¶èŒ¶åŒ…", origin:"â€”", pack:"æ•´çµ„ 50 åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceLabel:"NT$ 250 / çµ„", priceValue:250,
        note:"æ­£å®—å°ç£ç´…èŒ¶ç¢èŒ¶ï¼Œå¸¶é¾çœ¼ä¹¾é¦™ï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ï¼Œè‡ªå®¶è‡ªç”¢æ¥µç†±éŠ·ï¼"},
      { type:"bag", storeNo:"31", name:"ç„¡ç·šé ­ç„¡å¤–åŒ…è£¸åŒ…æ™®æ´±èŒ¶åŒ…", origin:"â€”", pack:"æ•´çµ„ 50 åŒ…ï¼ˆçœŸç©ºè¢‹ï¼‰", priceLabel:"NT$ 350 / çµ„", priceValue:350,
        note:"å°ç£é«˜å±±èŒ¶ç¢è‘‰åŠæœ«ï¼Œä»¥æ™®æ´±èŒ¶è£½æ³•è£½æˆï¼Œå¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚é¦™æ°£é†‡åšï¼Œå„ªæ–¼å¸‚é¢ä¸Šæ™®æ´±çš„å¥½æ»‹å‘³ï¼Œé–‹åº—æ¥­è€…é¦–é¸ã€‚"},

      // 32-33ï¼šç›’è£ 30 åŒ…
      { type:"bag", storeNo:"32", name:"æœ‰ç·šé ­æœ‰å¤–åŒ…è£é«˜å±±çƒé¾èŒ¶åŒ…", origin:"ä¸€æ–¤ 4000 ä»¥ä¸Šé«˜å±±ç¢èŒ¶ï¼ˆç¶“çƒ˜ç„™å¾Œå†è£½ï¼‰", pack:"ç›’è£ 30 åŒ…", priceLabel:"NT$ 600 / ç›’", priceValue:600,
        note:"æ¯åŒ…èŒ¶åŒ…ç¨ç«‹åŒ…è£ï¼Œå“è³ªåŠ›æ‹¼å¸‚å ´æœ€å„ªï¼Œå¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚"},
      { type:"bag", storeNo:"33", name:"æœ‰ç·šé ­æœ‰å¤–åŒ…è£å°ç£ç´…èŒ¶åŒ…", origin:"æ—¥æœˆæ½­çƒé¾ç´…èŒ¶ï¼ˆç‰¹æ®Šå“å¸‚å ´ç¨€æœ‰ï¼‰", pack:"ç›’è£ 30 åŒ…", priceLabel:"NT$ 600 / ç›’", priceValue:600,
        note:"æ¯åŒ…èŒ¶åŒ…ç¨ç«‹åŒ…è£ï¼Œå“è³ªåŠ›æ‹¼å¸‚å ´æœ€å„ªï¼Œå¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚"},

      // 34-39ï¼šç‰¹è‰²å•†å“
      { type:"other", storeNo:"34", name:"èŒ¶è‘‰ç™½ç“œå­ï¼ˆåˆç„™ç„¡é¹½ï¼‰", origin:"é›²æ—è¥¿èº", pack:"ç“œå­æ·¨é‡ 200gï¼ˆçœŸç©ºåŒ…ï¼‰", priceLabel:"NT$ 200 / åŒ…", priceValue:200,
        note:"å…§æœ‰è„«æ°§åŠä¹¾ç‡¥åŠ‘ä¿é®®ï¼Œæ–°é®®å‘³å…’åƒå¾—å‡ºä¾†ã€‚èŒ¶è‘‰æå‘³ã€‚"},
      { type:"other", storeNo:"35", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡", origin:"â€”", variants:[
        { id:"S", pack:"å°åŒ… 30g", priceLabel:"NT$ 200 / åŒ…", priceValue:200, note:"å®¹æ˜“æ³¡é–‹ï¼Œé¦™æ°£è¶³" },
        { id:"M", pack:"ä¸­åŒ… 50g", priceLabel:"NT$ 300 / åŒ…", priceValue:300, note:"ç‚’èœç…®æ¹¯çš†å®œ" },
        { id:"L", pack:"å¤§åŒ… 150g", priceLabel:"NT$ 900 / åŒ…", priceValue:900, note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½" }
      ], note:"èˆ‡å¸‚å”®ä¸åŒè™•ï¼šä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼Œæ•…å®¹æ˜“æ³¡é–‹ï¼Œé¦™æ°£è¶³ã€‚"},
      { type:"other", storeNo:"36", name:"è‡ªå®¶æœåœ’æ¡æ”¶ç™¾èŠ±èœœï¼ˆé™é‡ï¼‰", origin:"â€”", pack:"ä¸€ç“¶", priceLabel:"NT$ 2000 / ç“¶", priceValue:2000,
        note:"å¾è‡ªå®¶æœ‰æ©Ÿç„¡è—¥æœåœ’çš„é‡ç”Ÿèœœèœ‚æ”¶é›†è€Œä¾†ï¼Œç¶œåˆèŠ±æœèœœï¼Œå¸¶èŠ±é¦™ã€‚"},
      { type:"other", storeNo:"37", name:"100% å°ç£èŒ¶ç±½æ²¹ï¼ˆè‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½å£“æ¦¨ï¼‰", origin:"â€”", pack:"å…§å®¹è¶³é‡ä¸€æ–¤ï¼›å«ç½é‡ 850g", priceLabel:"NT$ 1200 / æ”¯", priceValue:1200,
        note:"ç¶“å£“æ¦¨ç†Ÿç‚’éœç½®å¾Œç©©å®šæ€§æ¥µé«˜ï¼›èµ·ç…™é»é«˜å¯ç‚’èœï¼›è€ä¸€è¼©è­·æ‰‹è­·è†šè–å“ã€‚"},
      { type:"other", storeNo:"38", name:"æ¼¢æ–¹é™³çš®æ¢…é†¬", origin:"â€”", pack:"å…§å®¹è¶³é‡ 900g", priceLabel:"NT$ 900 / ç“¶", priceValue:900,
        note:"é™³çš®ï¼‹å˜‰ç¾©æ¢…å±±æå­ï¼‹æ¢…å­ç­‰æ¼¢æ–¹è‰æœ¬é‡€è£½ï¼Œè‡ªç„¶å›ç”˜ï¼Œå¯ç¨€é‡‹æˆé£²å“ä¹Ÿå¯å…¥èœã€‚"},
      { type:"other", storeNo:"39", name:"100% å°ç£èŒ¶ç±½ç²‰ï¼ˆå¤©ç„¶ç’°ä¿å¼·åŠ›æ¸…æ½”åŠ‘ï¼‰", origin:"â€”", pack:"å…§å®¹è¶³é‡ 1kg", priceLabel:"NT$ 400 / åŒ…", priceValue:400,
        note:"æ¦¨æ²¹å¾Œæ›¬ä¹¾ç¢¾å£“ç¯©ä¸‹æ¥µç´°ç²‰ï¼Œä¸å µå¡æ°´ç®¡ï¼›æ´—ç¢—å¥¶ç“¶ã€å¼·åŠ›å»æ²¹ï¼Œä¹Ÿå¯æ´—é«®ï¼ˆç„¡æŸ“é«®ï¼‰ã€‚å¤©ç„¶çš‚ç´ ç„¡æ¯’ä¸å‚·æ‰‹ã€‚"},
    ],

    // æ¨è–¦ï¼šä¸»æ¨ 1 + ä¹Ÿé©åˆæ‚¨ 1ï¼ˆå…± 2ï¼‰
    pickCount: 2,
  };
</script>

<div class="cartbar">
  <div class="cartinner">
    <div class="cartleft">
      <span class="cartcount" id="cartCount">ğŸ›’ å°šæœªé¸æ“‡å•†å“</span>
      <span class="cartitems" id="cartItems"></span>
    </div>
    <div class="row">
      <button class="btn" id="btnCatalog">å•†å“ç›®éŒ„</button>
      <button class="btn" id="btnCart">æŸ¥çœ‹ï¼ä¿®æ”¹</button>
      <button class="btn btnPri" id="btnOrder">è¤‡è£½ä¸‹å–®å…§å®¹</button>
    </div>
  </div>
</div>

<div class="wrap">
  <div class="hero card">
    <div class="heroImg" id="heroImg"></div>
    <div class="heroBody">
      <h1 id="heroTitle"></h1>
      <p class="lead" id="heroText"></p>
      <div class="notice" id="noSample"></div>
    </div>
  </div>

  <div class="grid">
    <div class="card">
      <div class="cardHd">
        <p class="title">é–‹å§‹é¸æ“‡</p>
        <p class="sub">é¸å®Œå°±æœƒç›´æ¥æ¨è–¦ï¼ˆä¸»æ¨ 1 + ä¹Ÿå¾ˆé©åˆæ‚¨ 1ï¼‰ã€‚æ‚¨ä¹Ÿå¯ä»¥éš¨æ™‚ä¿®æ”¹ã€‚</p>
      </div>
      <div class="cardBd" id="quiz"></div>
    </div>

    <div class="card">
      <div class="cardHd">
        <p class="title">æ¨è–¦çµæœ</p>
        <p class="sub">æœƒé¡¯ç¤ºã€Œåº—è™Ÿï¼ˆç›®éŒ„ç·¨è™Ÿï¼‰ã€ã€Œç”¢åœ°/ç­‰ç´šã€ã€Œè¦æ ¼èˆ‡åƒ¹æ ¼ã€ï¼Œå¯ç›´æ¥åŠ å…¥è³¼ç‰©è»Šã€‚</p>
      </div>
      <div class="cardBd">
        <div class="result" id="results"></div>
        <div class="footnote" id="unitNote"></div>
        <div class="footnote" id="imgNote"></div>
      </div>
    </div>
  </div>

  <p class="footnote" style="margin-top:14px">Â© <span id="brand"></span>ã€€<span id="footerNote"></span></p>
</div>

<!-- Modal backdrop -->
<div class="modalBack" id="backdrop"></div>

<!-- Cart Modal -->
<div class="modal" id="cartModal" role="dialog" aria-modal="true" aria-label="è³¼ç‰©è»Š">
  <div class="modalHd">
    <div>
      <p class="title">è³¼ç‰©è»Š</p>
      <p class="sub">è¦æ ¼å·²å›ºå®šï¼ˆç…§ç›®éŒ„ï¼‰ï¼Œæ‚¨åªè¦èª¿æ•´æ•¸é‡ã€‚</p>
    </div>
    <div class="row">
      <button class="btn" id="btnClearCart">æ¸…ç©ºè³¼ç‰©è»Š</button>
      <button class="btn" id="btnCloseCart">é—œé–‰</button>
    </div>
  </div>
  <div class="modalBd">
    <div id="cartBody"></div>
    <div class="hr"></div>
    <div class="sumRow">
      <div class="muted">å°è¨ˆï¼ˆä¸å«é‹ï¼‰</div>
      <div class="bigNum" id="cartSum">NT$ 0</div>
    </div>
    <div class="hr"></div>
    <div class="row">
      <button class="btn" id="btnContinuePick">ç¹¼çºŒæŒ‘é¸</button>
      <button class="btn btnPri" id="btnGoOrder">å»å¡«å¯«å¯„é€è³‡æ–™</button>
      <button class="btn" id="btnCopyOrder">è¤‡è£½ä¸‹å–®å…§å®¹</button>
    </div>
  </div>
</div>

<!-- Order Modal -->
<div class="modal" id="orderModal" role="dialog" aria-modal="true" aria-label="å¡«å¯«å¯„é€è³‡æ–™">
  <div class="modalHd">
    <div>
      <p class="title">å¡«å¯«å¯„é€è³‡æ–™</p>
      <p class="sub">é€å‡ºå¾Œæœƒå…ˆç”Ÿæˆã€Œä¸‹å–®è¨Šæ¯ã€ä¾›æ‚¨è¤‡è£½ï¼ˆå¯è²¼åˆ° Messenger / Emailï¼‰ã€‚</p>
    </div>
    <div class="row">
      <button class="btn" id="btnCloseOrder">é—œé–‰</button>
    </div>
  </div>
  <div class="modalBd">
    <div class="formGrid">
      <div>
        <label>å§“å</label>
        <input id="fName" placeholder="è«‹å¡«å§“å" />
      </div>
      <div>
        <label>é›»è©±</label>
        <input id="fPhone" placeholder="è«‹å¡«é›»è©±" />
      </div>
      <div style="grid-column:1/-1">
        <label>åœ°å€</label>
        <input id="fAddr" placeholder="è«‹å¡«å¯„é€åœ°å€" />
      </div>
      <div style="grid-column:1/-1">
        <label>å‚™è¨»ï¼ˆå¯ä¸å¡«ï¼‰</label>
        <textarea id="fNote" placeholder="ä¾‹å¦‚ï¼šå¸Œæœ›åˆ°è²¨æ™‚æ®µï¼æ˜¯å¦è¦ç¦®ç›’ï¼å…¶ä»–éœ€æ±‚"></textarea>
        <div class="hint">â€» è‹¥æ‚¨å°šæœªå»ºç«‹ç²‰å°ˆ Messenger é€£çµï¼Œæœ¬é æœƒå„ªå…ˆæä¾›ã€Œè¤‡è£½è¨Šæ¯ã€çµ¦æ‚¨ã€‚</div>
      </div>
    </div>
    <div class="hr"></div>
    <div class="row">
      <button class="btn btnPri" id="btnMakeMsg">ç”Ÿæˆä¸‹å–®è¨Šæ¯ï¼ˆå¯è¤‡è£½ï¼‰</button>
      <button class="btn" id="btnOpenMessenger">ç”¨ Messenger å‚³çµ¦æˆ‘å€‘</button>
      <button class="btn" id="btnMailto">ç”¨ Email å¯„å‡º</button>
    </div>
    <div class="hr"></div>
    <label>ä¸‹å–®è¨Šæ¯ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰</label>
    <textarea id="orderText" readonly></textarea>
    <div class="row" style="margin-top:10px">
      <button class="btn btnPri" id="btnCopyText">è¤‡è£½è¨Šæ¯</button>
    </div>
  </div>
</div>

<!-- Catalog Modal -->
<div class="modal" id="catalogModal" role="dialog" aria-modal="true" aria-label="å•†å“ç›®éŒ„">
  <div class="modalHd">
    <div>
      <p class="title">å•†å“ç›®éŒ„</p>
      <p class="sub">å·²ä¾é¡å‹åˆ†å€ï¼šèŒ¶ / èŒ¶åŒ… / ç‰¹è‰²å•†å“ã€‚é»ã€ŒåŠ å…¥è³¼ç‰©è»Šã€å³å¯ã€‚</p>
    </div>
    <div class="row">
      <button class="btn" id="btnCloseCatalog">é—œé–‰</button>
    </div>
  </div>
  <div class="modalBd">
    <div class="catalogGrid" id="catalog"></div>
    <p class="footnote" style="margin-top:12px">â€» è¦æ ¼ä¾ç›®éŒ„å›ºå®šï¼Œé™¤åˆ—å‡ºã€Œå°/ä¸­/å¤§ã€æˆ–ã€Œå°è¢‹/å¤§è¢‹ã€è€…å¤–ï¼Œå…¶ä»–çš†åªé¸æ•¸é‡ã€‚</p>
  </div>
</div>

<script>
  const $ = (id)=>document.getElementById(id);
  const LS_KEY = "xiaowen_tea_cart_v3";
  const LS_ANS = "xiaowen_tea_answers_v3";

  const state = {
    answers: JSON.parse(localStorage.getItem(LS_ANS) || "{}"),
    cart: JSON.parse(localStorage.getItem(LS_KEY) || "[]"),
  };

  function save(){
    localStorage.setItem(LS_KEY, JSON.stringify(state.cart));
    localStorage.setItem(LS_ANS, JSON.stringify(state.answers));
  }

  function heroSetup(){
    $("heroTitle").textContent = CONFIG.heroTitle;
    $("heroText").textContent = CONFIG.heroText;
    $("noSample").textContent = CONFIG.noSampleNotice;
    $("unitNote").textContent = CONFIG.unitNote;
    $("imgNote").textContent = CONFIG.imageNote;
    $("brand").textContent = CONFIG.brandTitle;
    $("footerNote").textContent = CONFIG.footerNote;

    $("heroImg").style.backgroundImage = `url("${heroCover()}")`;
  }

  function heroCover(){
    const svg = `
    <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="420" viewBox="0 0 1200 420">
      <defs>
        <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0" stop-color="#f6f1e9"/>
          <stop offset="1" stop-color="#e7efe9"/>
        </linearGradient>
        <pattern id="p" width="140" height="140" patternUnits="userSpaceOnUse">
          <path d="M30 110c35-12 50-45 75-70" stroke="rgba(47,79,58,.11)" stroke-width="8" fill="none" stroke-linecap="round"/>
          <path d="M40 116c22-22 34-42 60-60" stroke="rgba(47,79,58,.08)" stroke-width="5" fill="none" stroke-linecap="round"/>
        </pattern>
      </defs>
      <rect width="1200" height="420" fill="url(#g)"/>
      <rect width="1200" height="420" fill="url(#p)" opacity=".95"/>
      <circle cx="140" cy="120" r="90" fill="rgba(47,79,58,.06)"/>
      <circle cx="1040" cy="160" r="140" fill="rgba(47,79,58,.05)"/>
      <g opacity=".9">
        <path d="M520 130h160c0 120-30 190-80 190s-80-70-80-190z" fill="#caa06a" opacity=".55"/>
        <path d="M510 122h180" stroke="#2f4f3a" stroke-width="12" stroke-linecap="round" opacity=".28"/>
        <path d="M700 155h40c44 0 80 36 80 80s-36 80-80 80h-40" fill="none" stroke="#2f4f3a" stroke-width="18" stroke-linecap="round" opacity=".28"/>
        <rect x="440" y="88" width="320" height="260" rx="44" fill="rgba(255,255,255,.55)"/>
      </g>
    </svg>`;
    return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
  }

  function openModal(which){
    $("backdrop").classList.add("open");
    which.classList.add("open");
    document.body.style.overflow = "hidden";
  }
  function closeModals(){
    $("backdrop").classList.remove("open");
    $("cartModal").classList.remove("open");
    $("orderModal").classList.remove("open");
    $("catalogModal").classList.remove("open");
    document.body.style.overflow = "";
  }
  $("backdrop").onclick = closeModals;

  // ====== è¦æ ¼/åƒ¹æ ¼å·¥å…· ======
  function defaultVariant(p){
    if(!p.variants || !p.variants.length) return null;
    // é è¨­å„ªå…ˆå¤§åŒ…/ä¸­åŒ…ï¼ˆé¿å…å°åŒ…å¤ªç¢ï¼‰ï¼Œä½†é¦™è‡é è¨­å°åŒ…
    if(String(p.storeNo)==="35"){
      return p.variants.find(v=>v.id==="S") || p.variants[0];
    }
    return p.variants.find(v=>v.id==="L") || p.variants.find(v=>v.id==="M") || p.variants[0];
  }

  function productPriceLabel(p, v){
    if(v) return v.priceLabel;
    return p.priceLabel || "â€”";
  }
  function productPriceValue(p, v){
    if(v && typeof v.priceValue==="number") return v.priceValue;
    if(typeof p.priceValue==="number") return p.priceValue;
    return 0;
  }

  function renderVariantButtons(container, p, activeId, onPick){
    container.innerHTML = "";
    const wrap = document.createElement("div");
    wrap.className = "vBtns";
    p.variants.forEach(v=>{
      const b = document.createElement("button");
      b.type="button";
      b.className = "vBtn" + (v.id===activeId ? " active" : "");
      b.textContent = `${v.pack}ï½œ${v.priceLabel}`;
      b.onclick = ()=> onPick(v.id);
      wrap.appendChild(b);
    });
    container.appendChild(wrap);
  }

  // ====== åœ–ç‰‡ï¼šæƒ…å¢ƒ SVGï¼ˆå¥½çœ‹ã€ä¸ä¾µæ¬Šã€ä¸ç”¨ä½ æä¾›ç…§ç‰‡ï¼‰======
  function productCover(p){
    const n = (p.name || "");
    const accent = "#2f4f3a";

    const isOther = p.type === "other";
    const isBag = p.type === "bag";

    let teaColor = "#caa06a";
    if(n.includes("ç´…èŒ¶") || n.includes("ç´…çƒé¾")) teaColor = "#b8743a";
    if(n.includes("æ±æ–¹ç¾äºº")) teaColor = "#d6a35b";
    if(n.includes("èŒ‰è‰") || n.includes("é¦™ç‰‡")) teaColor = "#d8d2b1";
    if(n.includes("æ™®æ´±")) teaColor = "#8f6b3e";

    let otherColor = "#d7f0d9";
    if(n.includes("é¦™è‡")) otherColor = "#e7efe9";
    if(n.includes("èŠ±èœœ") || n.includes("èœ‚")) otherColor = "#f2d3a6";
    if(n.includes("èŒ¶ç±½æ²¹")) otherColor = "#d7f0d9";
    if(n.includes("æ¢…é†¬") || n.includes("é†¬")) otherColor = "#f0e3d7";
    if(n.includes("èŒ¶ç±½ç²‰")) otherColor = "#e9efe7";
    if(n.includes("ç“œå­")) otherColor = "#efe6dc";

    const tag = isOther ? "ç‰¹è‰²å•†å“" : (isBag ? "èŒ¶åŒ…" : "èŒ¶");

    const bgA = "#f6f1e9";
    const bgB = "#e7efe9";

    const svg = `
    <svg xmlns="http://www.w3.org/2000/svg" width="800" height="450" viewBox="0 0 800 450">
      <defs>
        <linearGradient id="bg" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0" stop-color="${bgA}"/>
          <stop offset="1" stop-color="${bgB}"/>
        </linearGradient>
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
          <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#000" flood-opacity=".10"/>
        </filter>
        <pattern id="leaf" width="120" height="120" patternUnits="userSpaceOnUse">
          <path d="M30 90c30-10 40-40 60-60" stroke="rgba(47,79,58,.10)" stroke-width="6" fill="none" stroke-linecap="round"/>
          <path d="M40 95c20-20 30-40 50-55" stroke="rgba(47,79,58,.08)" stroke-width="4" fill="none" stroke-linecap="round"/>
        </pattern>
      </defs>

      <rect width="800" height="450" fill="url(#bg)"/>
      <rect width="800" height="450" fill="url(#leaf)" opacity=".95"/>

      <circle cx="90" cy="90" r="60" fill="rgba(47,79,58,.06)"/>
      <circle cx="700" cy="120" r="90" fill="rgba(47,79,58,.05)"/>

      <g filter="url(#shadow)">
        <rect x="240" y="140" width="320" height="220" rx="34" fill="rgba(255,255,255,.75)"/>
        <path d="M300 190h200c0 90-40 140-100 140s-100-50-100-140z"
              fill="${isOther ? otherColor : teaColor}" opacity=".85"/>
        <path d="M290 182h220" stroke="${accent}" stroke-width="10" stroke-linecap="round" opacity=".35"/>
        <path d="M540 210h50c40 0 70 30 70 70s-30 70-70 70h-50"
              fill="none" stroke="${accent}" stroke-width="16" stroke-linecap="round" opacity=".35"/>
      </g>

      <g>
        <rect x="40" y="28" width="160" height="54" rx="27" fill="rgba(47,79,58,.10)"/>
        <text x="120" y="63" text-anchor="middle" font-size="24" fill="${accent}" font-family="system-ui, -apple-system, 'Noto Sans TC'">${tag}</text>
      </g>
    </svg>`;
    return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
  }

  // ====== å•ç­” ======
  function labelOf(key, value){
    const q = CONFIG.questions.find(x=>x.key===key);
    if(!q) return value;
    const opt = q.options.find(o=>o.value===value);
    if(!opt) return value;
    return String(opt.label).replace(/\s+/g, " ").trim();
  }

  function shouldShowQuestion(q){
    if(!q.onlyForTea) return true;
    const cat = state.answers.category;
    return (cat==="tea" || cat==="pick");
  }

  function renderQuiz(){
    const root = $("quiz");
    root.innerHTML = "";

    CONFIG.questions.forEach((q)=>{
      if(!shouldShowQuestion(q)) return;

      const box = document.createElement("div");
      box.style.marginBottom = "14px";

      const head = document.createElement("div");
      head.className="row";
      head.style.justifyContent="space-between";

      const qTitle = document.createElement("p");
      qTitle.className="q";
      qTitle.textContent = q.title;

      const chosen = document.createElement("span");
      chosen.className="pill";
      chosen.textContent = state.answers[q.key] ? `å·²é¸ï¼š${labelOf(q.key, state.answers[q.key])}` : "å°šæœªé¸";

      head.appendChild(qTitle);
      head.appendChild(chosen);

      const opts = document.createElement("div");
      opts.className="options";

      q.options.forEach(opt=>{
        const btn = document.createElement("button");
        btn.type="button";
        btn.className="opt";
        if(state.answers[q.key] === opt.value) btn.classList.add("active");
        btn.innerHTML = `<div>${opt.label}</div><small>${opt.note || ""}</small>`;
        btn.onclick = ()=>{
          state.answers[q.key] = opt.value;

          // è‹¥é¸äº†ç‰¹è‰²å•†å“ï¼Œæ¸…æ‰èŒ¶çš„ Q3-Q5ï¼ˆé¿å…æ€ªï¼‰
          if(q.key==="category" && opt.value==="other"){
            delete state.answers.feel;
            delete state.answers.budget;
            delete state.answers.flavor;
          }
          save();
          renderQuiz();
          renderResults();
        };
        opts.appendChild(btn);
      });

      box.appendChild(head);
      box.appendChild(opts);
      root.appendChild(box);
    });

    const actions = document.createElement("div");
    actions.className="row";
    actions.innerHTML = `
      <button class="btn" id="btnReset">æ¸…ç©ºé¸æ“‡</button>
    `;
    root.appendChild(actions);

    $("btnReset").onclick = ()=>{
      state.answers = {};
      save();
      renderQuiz();
      renderResults();
    };

    const cat = state.answers.category;
    if(cat==="other"){
      const tip = document.createElement("div");
      tip.className = "notice";
      tip.style.marginTop = "10px";
      tip.textContent = "â€» æ‚¨é¸çš„æ˜¯ã€Œç‰¹è‰²å•†å“ã€ï¼Œä¸éœ€è¦å›ç­” Q3â€“Q5ï¼ˆé‚£æ˜¯çµ¦èŒ¶ç”¨çš„ï¼‰ã€‚";
      root.appendChild(tip);
    }
  }

  // ====== è‡ªå‹•æ¨™ç±¤ï¼ˆä¸ç”¨ä½ æ‰‹å‹•é€é …æ‰“ï¼‰ ======
  function inferFeel(p){
    const t = `${p.name} ${p.note||""}`;
    if(/é‡çƒ˜ç„™|ç²¾ç·»çƒ˜ç„™|çƒ˜ç„™|ç„™/.test(t)) return "bold";
    if(/è¼•çƒ˜ç„™|æ¸…é¦™|èŠ±æœé¦™|ç„¡çƒ˜ç„™|æ°´ç”œ/.test(t)) return "light";
    if(/ç´…èŒ¶|èœœé¦™|ç„¦ç³–|èŒ‰è‰|é¦™ç‰‡/.test(t)) return "balanced";
    return "balanced";
  }
  function inferFlavor(p){
    const t = `${p.name} ${p.note||""}`;
    if(/çƒ˜ç„™|ç„™|é¾çœ¼ä¹¾é¦™/.test(t)) return "roast";
    if(/èœœé¦™|å›ç”˜|ç”œ|ç„¦ç³–|èŠ±æœèœœ|æ°´ç”œ/.test(t)) return "sweet";
    if(/æ¸…é¦™|èŠ±é¦™|èŒ‰è‰|é¦™ç‰‡|ç„¡çƒ˜ç„™|é«˜å±±æ°£/.test(t)) return "fresh";
    return "pick";
  }
  function inferBudgetTier(priceValue){
    if(priceValue <= 800) return "daily";
    if(priceValue <= 2000) return "gift";
    if(priceValue <= 6000) return "flavor";
    return "rare";
  }

  // ====== æ¨è–¦é‚è¼¯ ======
  function candidatesByCategory(){
    const cat = state.answers.category;
    if(!cat) return [];
    if(cat==="other"){
      return CONFIG.products.filter(p=>p.type==="other");
    }
    // tea or pick
    return CONFIG.products.filter(p=>p.type==="tea");
  }

  function matchScore(p){
    const cat = state.answers.category;
    if(!cat) return -999;

    if(cat==="other" && p.type!=="other") return -999;
    if((cat==="tea" || cat==="pick") && p.type!=="tea") return -999;

    let score = 0;

    // é€ç¦®ï¼šåã€Œçœ‹èµ·ä¾†é«”é¢/å®‰å…¨ã€â†’ ç´…èŒ¶ã€èŠ±é¦™ã€æ¯”è³½èŒ¶åœ’ã€é™é‡ã€å¤©æ± /è¯å´—/å¤§ç¦¹å¶º ç­‰åŠ åˆ†
    const use = state.answers.use;
    const feel = state.answers.feel;
    const budget = state.answers.budget;
    const flavor = state.answers.flavor;

    const feelTag = inferFeel(p);
    const flavorTag = inferFlavor(p);

    if(use==="gift"){
      if(/æ¯”è³½|é ­ç­‰|é™é‡|å¤©æ± |è¯å´—|å¤§ç¦¹å¶º|æ¢¨å±±|æ±æ–¹ç¾äºº|ç´…èŒ¶|é¦™ç‰‡|èŒ‰è‰/.test(`${p.name} ${p.origin} ${p.note||""}`)) score += 2;
    }else if(use==="self"){
      if(/è€å–|é•·é’|æ—¥å¸¸|ä¸è‹¦æ¾€|å¯ä¹…æµ¸/.test(p.note||"")) score += 2;
    }else{
      score += 1;
    }

    if(feel){
      if(feel==="pick") score += 2;
      else if(feel === feelTag) score += 3;
    }

    if(flavor){
      if(flavor==="pick") score += 2;
      else if(flavor === flavorTag) score += 3;
    }

    if(budget){
      const tier = inferBudgetTier(p.priceValue || 0);
      if(budget === tier) score += 3;
      // ç›¸é„°ä¹Ÿçµ¦ä¸€é»é»åˆ†ï¼ˆé¿å…å¤ªç¡¬ï¼‰
      const order = ["daily","gift","flavor","rare"];
      if(order.indexOf(budget)===order.indexOf(tier)-1 || order.indexOf(budget)===order.indexOf(tier)+1) score += 1;
    }

    // è®“é«˜åƒ¹ä½åœ¨çè—æ™‚æ›´å®¹æ˜“ä¸Šä¾†
    if(budget==="rare") score += Math.min(6, Math.floor((p.priceValue||0)/4000));

    return score;
  }

  function pickProducts(){
    const cat = state.answers.category;
    if(!cat) return [];
    const list = candidatesByCategory().slice().sort((a,b)=>matchScore(b)-matchScore(a));

    // è‹¥ä½ å¹«æˆ‘æŒ‘ï¼šä»ç”¨èŒ¶ï¼Œä½†ä¸è¦æ±‚ Q3-Q5 éƒ½è¦å¡«
    if(cat==="pick"){
      return list.slice(0, CONFIG.pickCount);
    }

    // ç‰¹è‰²å•†å“ï¼šä¸»æ¨1 + æ›å…‰1
    if(cat==="other"){
      return list.slice(0, CONFIG.pickCount);
    }

    // èŒ¶ï¼šä¸»æ¨1 + ä¹Ÿé©åˆæ‚¨1
    return list.slice(0, CONFIG.pickCount);
  }

  function rankLabel(i){
    return i===0 ? "â­ ä¸»æ¨" : "â—»ï¸ ä¹Ÿå¾ˆé©åˆæ‚¨";
  }

  function renderResults(){
    const root = $("results");
    root.innerHTML = "";

    const cat = state.answers.category;
    if(!cat){
      root.innerHTML = `<p class="muted">è«‹å…ˆå®Œæˆå·¦å´ Q1ï¼ˆé¡åˆ¥ï¼‰ï¼Œé€™è£¡å°±æœƒå‡ºç¾æ¨è–¦çµæœã€‚</p>`;
      return;
    }

    const picked = pickProducts();
    if(!picked.length){
      root.innerHTML = `<p class="muted">ç›®å‰æ²’æœ‰ç¬¦åˆçš„æ¨è–¦ï¼Œè«‹æ›å€‹é¸é …è©¦è©¦ã€‚</p>`;
      return;
    }

    picked.forEach((p, i)=>{
      const card = document.createElement("div");
      card.className="rCard";

      const img = document.createElement("div");
      img.className="rImg";
      img.style.backgroundImage = `url("${productCover(p)}")`;

      const bd = document.createElement("div");
      bd.className="rBd";

      const v0 = defaultVariant(p);
      let pickedVariantId = v0 ? v0.id : null;

      function metaHtml(){
        const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
        const pack = v?.pack || p.pack || "â€”";
        const price = productPriceLabel(p, v);
        const note = v?.note ? `ï½œ${v.note}` : "";
        return `
          <p class="rMeta">åº—è™Ÿï¼š<b>${p.storeNo}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
          <p class="rMeta">è¦æ ¼ï¼š<b>${pack}</b> ï½œ åƒ¹æ ¼ï¼š<b>${price}</b>${note}</p>
        `;
      }

      const why = [];
      // ç°¡å–®è§£é‡‹ï¼ˆé¿å…å¤ªé•·ï¼‰
      if(state.answers.category==="other"){
        if(state.answers.use==="gift") why.push("é€ç¦®æ¥å—åº¦é«˜ã€å¥½äº¤ä»£");
        else if(state.answers.use==="self") why.push("æ—¥å¸¸ä½¿ç”¨æ–¹ä¾¿ã€è€ç”¨");
        else why.push("é€šç”¨å‹é¸æ“‡ï¼Œä¸å®¹æ˜“è¸©é›·");
        if(p.note) why.push(p.note);
      }else{
        const f = inferFeel(p);
        const fl = inferFlavor(p);
        const fMap = {light:"æ¸…é¦™é †å£", balanced:"å¹³è¡¡è€å–", bold:"é¦™æ°£åšå¯¦"};
        const flMap = {fresh:"æ¸…é¦™å‹", roast:"ç„™é¦™å‹", sweet:"ç”œæ„Ÿå‹", pick:"å¥½å…¥å£"};
        why.push(`å–æ„Ÿåå‘ï¼š${fMap[f] || "è€å–å‹"}`);
        why.push(`é¢¨å‘³åå‘ï¼š${flMap[fl] || "å¥½å…¥å£"}`);
        if(p.note) why.push(p.note);
      }

      bd.innerHTML = `
        <div class="row" style="justify-content:space-between;align-items:flex-start">
          <div>
            <div class="pill">${rankLabel(i)}</div>
            <h3 class="rName">${p.name}</h3>
            <div class="metaBox">${metaHtml()}</div>
            ${p.variants?.length ? `<div class="variantBox"></div>` : ``}
          </div>
          <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
        </div>
        <ul class="why">${why.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul>
      `;

      if(p.variants?.length){
        const vBox = bd.querySelector(".variantBox");
        const rerender = (id)=>{
          pickedVariantId = id;
          bd.querySelector(".metaBox").innerHTML = metaHtml();
          renderVariantButtons(vBox, p, pickedVariantId, rerender);
        };
        renderVariantButtons(vBox, p, pickedVariantId, rerender);
      }

      bd.querySelector("button").onclick = ()=>{
        const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
        addToCart(p, v);
        renderCartBar();
      };

      card.appendChild(img);
      card.appendChild(bd);
      root.appendChild(card);
    });
  }

  function escapeHtml(s){
    return String(s).replace(/[&<>"']/g, (m)=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" }[m]));
  }

  // ====== è³¼ç‰©è»Š ======
  function addToCart(p, v){
    const key = v ? `${p.storeNo}::${v.id}` : `${p.storeNo}`;
    const existing = state.cart.find(x=>x.key===key);
    const pack = v?.pack || p.pack || "â€”";
    const priceLabel = productPriceLabel(p, v);
    const priceValue = productPriceValue(p, v);

    if(existing) existing.qty += 1;
    else state.cart.push({
      key,
      storeNo: p.storeNo,
      name: p.name,
      origin: p.origin || "â€”",
      pack,
      priceLabel,
      priceValue,
      qty: 1
    });
    save();
  }

  function cartSumValue(){
    return state.cart.reduce((s,x)=> s + (x.priceValue||0)*x.qty, 0);
  }

  function money(n){
    return "NT$ " + Number(n||0).toLocaleString("zh-Hant");
  }

  function renderCartBar(){
    const count = state.cart.reduce((s,x)=>s+x.qty,0);
    if(count===0){
      $("cartCount").textContent = "ğŸ›’ å°šæœªé¸æ“‡å•†å“";
      $("cartItems").textContent = "";
    }else{
      $("cartCount").textContent = `ğŸ›’ å·²é¸ ${count} ä»¶`;
      const names = state.cart.map(x=>`${x.name}ï¼ˆåº—è™Ÿ${x.storeNo}ï¼‰Ã—${x.qty}`).join("ã€");
      $("cartItems").textContent = names;
    }
  }

  function renderCartModal(){
    const body = $("cartBody");
    body.innerHTML = "";

    if(state.cart.length===0){
      body.innerHTML = `<p class="muted">è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚æ‚¨å¯ä»¥å¾ã€Œæ¨è–¦çµæœã€æˆ–ã€Œå•†å“ç›®éŒ„ã€åŠ å…¥å•†å“ã€‚</p>`;
      $("cartSum").textContent = money(0);
      return;
    }

    state.cart.forEach((x)=>{
      const div = document.createElement("div");
      div.className="item";
      div.style.marginBottom="10px";
      div.innerHTML = `
        <div class="itemTop">
          <div>
            <p class="itemName">åº—è™Ÿ ${x.storeNo}ï½œ${escapeHtml(x.name)}</p>
            <p class="itemMeta">ç”¢åœ°/ç­‰ç´šï¼š<b>${escapeHtml(x.origin)}</b></p>
            <p class="itemMeta">è¦æ ¼ï¼š<b>${escapeHtml(x.pack)}</b> ï½œ åƒ¹æ ¼ï¼š<b>${escapeHtml(x.priceLabel)}</b></p>
          </div>
          <div class="qty">
            <button aria-label="minus">ï¼</button>
            <span>${x.qty}</span>
            <button aria-label="plus">ï¼‹</button>
          </div>
        </div>
        <div class="hr"></div>
        <div class="row" style="justify-content:space-between">
          <div class="muted">å°è¨ˆï¼š<b>${money((x.priceValue||0)*x.qty)}</b></div>
          <button class="btn danger">ç§»é™¤</button>
        </div>
      `;
      const [minus, plus] = div.querySelectorAll(".qty button");
      const remove = div.querySelector(".danger");
      minus.onclick = ()=>{
        x.qty = Math.max(1, x.qty-1);
        save(); renderCartBar(); renderCartModal();
      };
      plus.onclick = ()=>{
        x.qty += 1;
        save(); renderCartBar(); renderCartModal();
      };
      remove.onclick = ()=>{
        state.cart = state.cart.filter(t=>t.key!==x.key);
        save(); renderCartBar(); renderCartModal();
      };
      body.appendChild(div);
    });

    $("cartSum").textContent = money(cartSumValue());
  }

  function buildOrderText(){
    const lines = [];
    lines.push(`ã€${CONFIG.brandTitle}ï½œä¸‹å–®å…§å®¹ã€‘`);
    lines.push("");

    const name = $("fName").value.trim();
    const phone = $("fPhone").value.trim();
    const addr = $("fAddr").value.trim();
    const note = $("fNote").value.trim();

    if(name || phone || addr){
      lines.push("ã€æ”¶ä»¶è³‡æ–™ã€‘");
      if(name) lines.push(`å§“åï¼š${name}`);
      if(phone) lines.push(`é›»è©±ï¼š${phone}`);
      if(addr) lines.push(`åœ°å€ï¼š${addr}`);
      if(note) lines.push(`å‚™è¨»ï¼š${note}`);
      lines.push("");
    }

    lines.push("ã€å“é …ã€‘");
    state.cart.forEach(x=>{
      lines.push(`ãƒ»åº—è™Ÿ${x.storeNo}ï½œ${x.name}ï½œ${x.pack}ï½œ${x.priceLabel} Ã— ${x.qty}`);
    });
    lines.push("");
    lines.push(`å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š${money(cartSumValue())}`);
    lines.push("");
    lines.push("è«‹å”åŠ©ç¢ºèªï¼šç¸½é‡‘é¡ï¼ˆå«é‹ï¼‰ï¼ä»˜æ¬¾æ–¹å¼ï¼å¯„é€æ–¹å¼ï¼Œè¬è¬ã€‚");
    return lines.join("\n");
  }

  function copyText(txt){
    return navigator.clipboard?.writeText(txt)
      .then(()=>true)
      .catch(()=>false);
  }

  // ====== å•†å“ç›®éŒ„ï¼ˆåˆ†å€ï¼‰ ======
  function renderCatalog(){
    const root = $("catalog");
    root.innerHTML = "";

    const list = [...CONFIG.products];

    const teas = list.filter(p=>p.type==="tea");
    const bags = list.filter(p=>p.type==="bag");
    const others = list.filter(p=>p.type==="other");

    const groupTea = (p)=>{
      const n = p.name || "";
      if(n.includes("ç´…èŒ¶") || n.includes("ç´…çƒé¾")) return "ç´…èŒ¶ç³»";
      if(n.includes("æ±æ–¹ç¾äºº")) return "ç‰¹æ®ŠèŒ¶";
      if(n.includes("é‡‘è±")) return "é‡‘è±";
      if(n.includes("å››å­£æ˜¥")) return "å››å­£æ˜¥";
      if(n.includes("çƒé¾")) return "çƒé¾";
      if(n.includes("é¦™ç‰‡") || n.includes("èŒ‰è‰")) return "èŠ±é¦™èŒ¶";
      return "å…¶ä»–èŒ¶";
    };

    const sortByNo = (a,b)=> String(a.storeNo).localeCompare(String(b.storeNo), "zh-Hant", {numeric:true});

    function section(title, items, subtitle){
      const wrap = document.createElement("div");
      wrap.style.gridColumn = "1 / -1";
      wrap.innerHTML = `
        <div class="hr"></div>
        <div class="row" style="justify-content:space-between;align-items:flex-end">
          <div>
            <p class="title" style="margin:0">${escapeHtml(title)}</p>
            ${subtitle ? `<p class="sub" style="margin:4px 0 0">${escapeHtml(subtitle)}</p>` : ``}
          </div>
          <span class="pill">${items.length} é …</span>
        </div>
      `;
      root.appendChild(wrap);
    }

    function cardOf(p){
      const card = document.createElement("div");
      card.className = "pCard";

      const cover = document.createElement("div");
      cover.className = "pCover";
      cover.style.backgroundImage = `url("${productCover(p)}")`;

      const bd = document.createElement("div");
      bd.className = "pBd";

      const v0 = defaultVariant(p);
      let pickedVariantId = v0 ? v0.id : null;

      const metaHtml = ()=>{
        const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
        const pack = v?.pack || p.pack || "â€”";
        const price = productPriceLabel(p, v);
        const note = v?.note ? `ï½œ${v.note}` : "";
        return `
          <p class="pMeta">åº—è™Ÿï¼š<b>${escapeHtml(p.storeNo)}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${escapeHtml(p.origin || "â€”")}</b></p>
          <p class="pMeta">è¦æ ¼ï¼š<b>${escapeHtml(pack)}</b> ï½œ åƒ¹æ ¼ï¼š<b>${escapeHtml(price)}</b>${note}</p>
          ${p.note ? `<p class="pMeta">èªªæ˜ï¼š${escapeHtml(p.note)}</p>` : ``}
        `;
      };

      bd.innerHTML = `
        <h3 class="pName">${escapeHtml(p.name)}</h3>
        <div class="metaBox">${metaHtml()}</div>
        ${p.variants?.length ? `<div class="variantBox"></div>` : ``}
        <div class="pActions">
          <span class="pill">è¦æ ¼å›ºå®šï¼Œåªé¸æ•¸é‡</span>
          <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
        </div>
      `;

      if(p.variants?.length){
        const vBox = bd.querySelector(".variantBox");
        const rerender = (id)=>{
          pickedVariantId = id;
          bd.querySelector(".metaBox").innerHTML = metaHtml();
          renderVariantButtons(vBox, p, pickedVariantId, rerender);
        };
        renderVariantButtons(vBox, p, pickedVariantId, rerender);
      }

      bd.querySelector(".btnPri").onclick = ()=>{
        const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
        addToCart(p, v);
        renderCartBar();
      };

      card.appendChild(cover);
      card.appendChild(bd);
      return card;
    }

    // èŒ¶åˆ†çµ„
    const teaGroups = {};
    teas.sort(sortByNo).forEach(p=>{
      const g = groupTea(p);
      teaGroups[g] = teaGroups[g] || [];
      teaGroups[g].push(p);
    });

    section("èŒ¶ï¼ˆæ•£èŒ¶ï¼‰", teas, "ä¾åç¨±è‡ªå‹•åˆ†çµ„ï¼šå››å­£æ˜¥ / é‡‘è± / çƒé¾ / ç´…èŒ¶ç³» / èŠ±é¦™èŒ¶ / ç‰¹æ®ŠèŒ¶");
    Object.keys(teaGroups).forEach(g=>{
      section(g, teaGroups[g]);
      teaGroups[g].forEach(p=> root.appendChild(cardOf(p)));
    });

    section("èŒ¶åŒ…ï¼ˆæ•´çµ„ï¼ç›’è£ï¼çœŸç©ºè¢‹ï¼‰", bags, "28â€“31 å›ºå®šæ•´çµ„ 50 åŒ…ï¼›32â€“33 ç›’è£ 30 åŒ…ï¼›å…¶é¤˜ç‚ºå°è¢‹/å¤§è¢‹çœŸç©ºè¢‹");
    bags.sort(sortByNo).forEach(p=> root.appendChild(cardOf(p)));

    section("å…¶ä»–ç‰¹è‰²å•†å“", others, "é¦™è‡ã€ç™¾èŠ±èœœã€èŒ¶ç±½æ²¹ã€æ¢…é†¬ã€èŒ¶ç±½ç²‰ã€ç™½ç“œå­");
    others.sort(sortByNo).forEach(p=> root.appendChild(cardOf(p)));
  }

  // ====== UI wiring ======
  function openCart(){
    renderCartModal();
    openModal($("cartModal"));
  }

  function openCatalog(){
    renderCatalog();
    openModal($("catalogModal"));
  }

  function openOrder(){
    if(!state.cart.length){
      alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
      return;
    }
    $("orderText").value = buildOrderText();
    openModal($("orderModal"));
  }

  function openMessenger(){
    if(!state.cart.length){
      alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
      return;
    }
    const text = encodeURIComponent(buildOrderText());
    if(CONFIG.messengerUrl){
      // m.me é è¨­åªæ”¯æ´é–‹å•Ÿå°è©±ï¼›ref èƒ½ä¸èƒ½å¸¶æˆåŠŸå–æ±ºæ–¼ç²‰å°ˆè¨­å®šèˆ‡å¹³å°ç‹€æ…‹
      window.open(`${CONFIG.messengerUrl}?ref=${text}`, "_blank");
    }else{
      alert("ä½ å°šæœªè¨­å®šç²‰å°ˆ Messenger é€£çµï¼ˆCONFIG.messengerUrlï¼‰ã€‚å…ˆç”¨ã€Œè¤‡è£½è¨Šæ¯ã€è²¼åˆ°ä½ æƒ³ç”¨çš„èŠå¤©å·¥å…·å³å¯ã€‚");
    }
  }

  function openMailto(){
    const body = encodeURIComponent(buildOrderText());
    // ä½ è‹¥æœ‰å›ºå®šæ”¶ä»¶ emailï¼Œå¯æŠŠ to= æ”¹æˆä½ çš„ä¿¡ç®±
    window.location.href = `mailto:?subject=${encodeURIComponent(CONFIG.brandTitle+" ä¸‹å–®")}&body=${body}`;
  }

  function wireUI(){
    $("btnCart").onclick = openCart;
    $("btnCatalog").onclick = openCatalog;
    $("btnOrder").onclick = async ()=>{
      const txt = buildOrderText();
      const ok = await copyText(txt);
      if(ok) alert("å·²è¤‡è£½ä¸‹å–®å…§å®¹ï¼ˆå¯è²¼åˆ° Messenger / Emailï¼‰ã€‚");
      else alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š\n\n"+txt);
    };

    $("btnCloseCart").onclick = closeModals;
    $("btnCloseCatalog").onclick = closeModals;
    $("btnCloseOrder").onclick = closeModals;

    $("btnClearCart").onclick = ()=>{
      if(!confirm("ç¢ºå®šæ¸…ç©ºè³¼ç‰©è»Šï¼Ÿ")) return;
      state.cart = [];
      save();
      renderCartBar();
      renderCartModal();
    };
    $("btnContinuePick").onclick = closeModals;

    $("btnCopyOrder").onclick = async ()=>{
      const txt = buildOrderText();
      const ok = await copyText(txt);
      if(ok) alert("å·²è¤‡è£½ä¸‹å–®å…§å®¹ã€‚");
      else alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š\n\n"+txt);
    };

    $("btnGoOrder").onclick = ()=>{
      closeModals();
      openOrder();
    };

    $("btnMakeMsg").onclick = ()=>{
      $("orderText").value = buildOrderText();
    };
    $("btnCopyText").onclick = async ()=>{
      const txt = $("orderText").value || buildOrderText();
      const ok = await copyText(txt);
      if(ok) alert("å·²è¤‡è£½ä¸‹å–®è¨Šæ¯ã€‚");
      else alert("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ã€‚");
    };
    $("btnOpenMessenger").onclick = openMessenger;
    $("btnMailto").onclick = openMailto;
  }

  // åˆå§‹åŒ–
  heroSetup();
  wireUI();
  renderQuiz();
  renderResults();
  renderCartBar();
</script>
</body>
</html>
