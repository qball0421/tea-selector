<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å°æ–‡çš„èŒ¶ï½œé¸èŒ¶å™¨</title>
  <style>
    :root{
      --bg:#faf7f2;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#2f4f3a;
      --soft:#f4efe6;
      --shadow: 0 8px 30px rgba(0,0,0,.06);
      --r:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: system-ui,-apple-system,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif;line-height:1.55}
    a{color:var(--accent);text-decoration:none}
    .wrap{max-width:980px;margin:0 auto;padding:14px}
    @media (min-width:700px){ .wrap{padding:18px} }

    .hero{background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.6));border:1px solid var(--line);border-radius:24px;box-shadow:var(--shadow);overflow:hidden}
    .heroImg{height:130px;background-size:cover;background-position:center}
    @media (min-width:900px){ .heroImg{height:160px} }
    .heroBody{padding:14px 16px 10px}
    h1{margin:0 0 8px;font-size:22px;letter-spacing:.5px}
    .lead{margin:0;color:var(--muted)}
    .notice{margin:10px 0 0;padding:10px 12px;background:var(--soft);border:1px solid var(--line);border-radius:12px;color:#374151;font-size:14px}

    .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
    @media (min-width:900px){ .grid{grid-template-columns: 1.05fr .95fr;} }

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow)}
    .cardHd{padding:14px 14px 0}
    .cardBd{padding:14px}
    .title{font-weight:700;margin:0 0 6px}
    .sub{color:var(--muted);font-size:14px;margin:0}

    .q{margin:0 0 10px;font-weight:800}
    .options{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:520px){ .options{grid-template-columns:1fr 1fr;} }
    .opt{
      text-align:left; padding:12px; border:1px solid var(--line); border-radius:14px;
      background:#fff; cursor:pointer; transition:.12s; position:relative;
    }
    .opt:hover{transform: translateY(-1px); box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .opt small{display:block;color:var(--muted);margin-top:4px}
    .opt.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.18)}

    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .pill{font-size:12px;color:#374151;background:var(--soft);border:1px solid var(--line);padding:6px 10px;border-radius:999px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:999px;padding:10px 14px;cursor:pointer}
    .btnPri{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn:active{transform:scale(.99)}
    .muted{color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}

    /* Top bar */
    .cartbar{
      position:sticky; top:0; z-index:50;
      background:rgba(250,247,242,.90); backdrop-filter: blur(10px);
      border-bottom:1px solid var(--line);
    }
    .cartinner{max-width:980px;margin:0 auto;padding:10px 14px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .cartleft{display:flex;gap:10px;align-items:center;min-width:0}
    .cartcount{font-weight:800}
    .cartitems{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:58vw}

    /* Drawer modal */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.25);display:none;z-index:80}
    .overlay.open{display:block}
    .drawer{
      position:fixed; right:0; top:0; height:100%; width:min(520px, 92vw);
      background:var(--bg); border-left:1px solid var(--line); box-shadow: var(--shadow);
      transform: translateX(110%); transition:.18s ease; z-index:90; overflow:auto;
    }
    .drawer.open{transform: translateX(0)}
    .drawerHd{padding:14px;border-bottom:1px solid var(--line);background:rgba(250,247,242,.9);backdrop-filter: blur(10px);position:sticky;top:0;z-index:2}
    .drawerHd .title{margin:0}
    .drawerBody{padding:14px}

    .item{border:1px solid var(--line);border-radius:14px;padding:10px;background:#fff}
    .itemTop{display:flex;justify-content:space-between;gap:10px}
    .itemName{font-weight:800;margin:0}
    .itemMeta{margin:2px 0 0;color:var(--muted);font-size:13px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:34px;height:34px;border-radius:12px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .qty span{min-width:18px;text-align:center;font-weight:700}
    .danger{color:#b91c1c;border-color:#f3c2c2}

    /* Results */
    .result{display:grid;grid-template-columns:1fr;gap:12px}
    .rCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .rImg{height:120px;background:#f3f4f6;background-size:cover;background-position:center}
    .rBd{padding:12px}
    .rName{margin:0 0 4px;font-weight:900}
    .rMeta{margin:0;color:var(--muted);font-size:13px}
    .why{margin:10px 0 0;color:#374151;font-size:14px}
    .why li{margin:4px 0}
    .footnote{font-size:12px;color:var(--muted);margin-top:10px}

    /* Catalog */
    .catalog{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:680px){ .catalog{grid-template-columns:1fr 1fr;} }
    .pCard{border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    .pCover{height:110px;border-bottom:1px solid var(--line);background-size:cover;background-position:center}
    .pBd{padding:12px}
    .pName{margin:0 0 4px;font-weight:900}
    .pMeta{margin:0;color:var(--muted);font-size:13px}
    .pActions{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}

    /* Variant select */
    .variantWrap{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .vBtn{
      border:1px solid var(--line); background:#fff; border-radius:999px; padding:8px 10px;
      cursor:pointer; font-size:13px;
    }
    .vBtn.active{border-color: rgba(47,79,58,.6); outline: 2px solid rgba(47,79,58,.16)}
  </style>
</head>

<body>
  <script>
    const CONFIG = {
      brandTitle: "å°æ–‡çš„èŒ¶",
      heroTitle: "ä¸ç”¨æ‡‚èŒ¶ï¼Œä¹Ÿèƒ½é¸åˆ°é©åˆçš„å°ç£èŒ¶",
      heroText: "æœ¬é¸èŒ¶å™¨ä¾›æ‚¨å¿«é€Ÿæ‰¾èŒ¶ã€çœ‹åƒ¹æ ¼èˆ‡ä¸‹å–®ã€‚",
      noSampleNotice: "å°æœ¬ç¶“ç‡Ÿï¼Œæ²’æœ‰æä¾›è©¦å–åŒ…ï¼Œé€éé¸èŒ¶æ–¹å¼ï¼Œè®“æ‚¨ä¾ç…§éœ€æ±‚é¸æ“‡åˆé©çš„å•†å“ã€‚",
      imageNote: "åœ–ç‰‡ç‚ºæƒ…å¢ƒç¤ºæ„ï¼ˆéå¯¦é«”åŒ…è£ï¼‰ï¼Œå¯¦éš›å•†å“ä»¥å‡ºè²¨å…§å®¹ç‚ºæº–ã€‚",
      unitNote: "å–®ä½èªªæ˜ï¼š1 å…© â‰ˆ 37.5gï½œ1 æ–¤ â‰ˆ 600g",
      // ç­‰ä½ ç²‰å°ˆå¥½äº†ï¼ŒæŠŠé€™è£¡æ›æˆ https://m.me/ä½ çš„ç²‰å°ˆID
      messengerUrl: "",

      questions: [
        {
          key: "category",
          title: "Q1ï½œé€™æ¬¡æ‚¨æƒ³æ‰¾çš„æ˜¯ï¼Ÿ",
          options: [
            { value: "tea", label: "ğŸµ èŒ¶", note: "æ—¥å¸¸é£²ç”¨ã€é€ç¦®çš†å¯" },
            { value: "other", label: "ğŸ å…¶ä»–ç‰¹è‰²å•†å“", note: "é¦™è‡ã€èŒ¶ç±½æ²¹ã€èŠ±èœœã€é™³çš®æ¢…é†¬ã€èŒ¶ç±½ç²‰ã€ç™½ç“œå­" },
            { value: "pick", label: "ğŸ² ä½ å¹«æˆ‘æŒ‘", note: "ä¸ç”¨æƒ³å¤ªå¤šï¼Œäº¤çµ¦æˆ‘å€‘å¹«æ‚¨æ­é…" }
          ]
        },
        {
          key: "use",
          title: "Q2ï½œé€™æ¬¡æ˜¯ï¼Ÿ",
          options: [
            { value: "self", label: "ğŸ«– è‡ªå·±å–ï¼è‡ªå·±ç”¨", note: "å¹³å¸¸å–ã€æ—¥å¸¸ä½¿ç”¨" },
            { value: "gift", label: "ğŸ é€äºº", note: "å¸Œæœ›å°æ–¹æ”¶åˆ°ä¸å¤±ç¦®" },
            { value: "unsure", label: "ğŸ¤· ä¸ç¢ºå®š", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨åˆ¤æ–·" }
          ]
        },
        {
          key: "feel",
          title: "Q3ï½œæ‚¨å¸Œæœ›å–èµ·ä¾†çš„æ„Ÿè¦ºæ˜¯ï¼Ÿ",
          options: [
            { value: "light", label: "ğŸŒ¸ æ¸…é¦™ã€é †å£å‹", note: "é¦™æ°£ç´°ç·»ï¼Œå£æ„Ÿæ¸…çˆ½ï¼Œä¸åšä¸è‹¦" },
            { value: "balanced", label: "ğŸ™‚ å¹³è¡¡è€å–å‹", note: "é¦™æ°£èˆ‡å£æ„Ÿéƒ½æœ‰ï¼Œä½†ä¸åˆºæ¿€" },
            { value: "bold", label: "ğŸ”¥ é¦™æ°£åšå¯¦å‹", note: "é¦™æ°£æ˜é¡¯ï¼Œå£æ„Ÿè¼ƒåš" },
            { value: "pick", label: "ğŸ² äº¤çµ¦ä½ å€‘å¹«æˆ‘é¸", note: "ä¾å‰é¢æ¢ä»¶å”åŠ©æ¨è–¦" }
          ]
        },
        {
          key: "budget",
          title: "Q4ï½œé€™æ¬¡é ç®—å¤§æ¦‚è½åœ¨å“ªï¼Ÿ",
          options: [
            { value: "daily", label: "ğŸ’° æ—¥å¸¸å–çš„é ç®—", note: "å¤§ç´„å¹¾ç™¾å…ƒç­‰ç´š" },
            { value: "gift", label: "ğŸ æƒ³å–å¥½ä¸€é»ï¼é€äºº", note: "å¸¸è¦‹é€ç¦®åƒ¹ä½" },
            { value: "flavor", label: "â­ è¬›ç©¶é¢¨å‘³", note: "é¢¨å‘³è¡¨ç¾æ˜é¡¯ï¼Œåƒ¹æ ¼è¼ƒé«˜" },
            { value: "rare", label: "ğŸ‘‘ çè—ç­‰ç´š", note: "é«˜åƒ¹ä½ï¼ç¨€æœ‰æ€§ï¼æœ€é ‚" }
          ]
        },
        {
          key: "flavor",
          title: "Q5ï½œæ‚¨æ¯”è¼ƒåå¥½å“ªä¸€ç¨®ï¼Ÿ",
          options: [
            { value: "fresh", label: "ğŸŒ¿ æ¸…é¦™å‹", note: "åƒèŠ±é¦™ã€è‰é¦™ï¼Œæ¸…æ¸…çš„" },
            { value: "roast", label: "ğŸ”¥ ç„™é¦™å‹", note: "åƒçƒ¤éã€æº«æš–çš„é¦™æ°£" },
            { value: "sweet", label: "ğŸ¯ ç”œæ„Ÿå‹", note: "èœœé¦™ã€å›ç”˜ã€ä¸è‹¦" },
            { value: "pick", label: "ğŸ² ä¸çŸ¥é“", note: "äº¤çµ¦æˆ‘å€‘å¹«æ‚¨æŒ‘" }
          ]
        }
      ],

      // å®Œæ•´ç›®éŒ„ï¼ˆå¯æ’åºï¼Œä½†ã€Œåº—è™Ÿã€ä¸€å®šä¿ç•™ï¼‰
      // type: tea / other / bag
      // variants: å¯é¸è¦æ ¼ï¼ˆæ²’æœ‰å°±è¡¨ç¤ºå›ºå®šè¦æ ¼ï¼‰
      products: [
        {type:"tea", storeNo:"1", name:"ç¶œåˆçƒ˜ç„™å† è»èŒ¶æ", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:200, note:"ä¸€åŒ…200å…ƒï¼›æ¯”è³½åŠŸå¤«åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶æã€‚", tags:{use:["self"], feel:["bold","balanced"], budget:["daily"], flavor:["roast"]}},
        {type:"tea", storeNo:"2", name:"ç¶œåˆçƒ˜ç„™èŒ¶ï¼ˆå¤§å£ºèŒ¶ï¼‰", origin:"å„åœ°å€è²¨åº•æ··åˆçƒ˜ç„™", pack:"ä¸€æ–¤è£", price:500, note:"ä¸€åŒ…500å…ƒï¼›åŠç”Ÿç†Ÿçƒ˜ç„™èŒ¶ã€‚", tags:{use:["self"], feel:["bold","balanced"], budget:["daily","gift"], flavor:["roast"]}},
        {type:"tea", storeNo:"3", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆæ­¡æ¨‚èŒ¶åœ’ï¼‰", origin:"é›²æ—å¤å‘", pack:"åŠæ–¤è£", price:300, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily"], flavor:["fresh"]}},
        {type:"tea", storeNo:"3A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily"], flavor:["fresh"]},
          variants:[
            {id:"3A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:70, note:"å¹³å‡ä¸€åŒ…14å…ƒ"},
            {id:"3A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:400, note:"å¹³å‡ä¸€åŒ…13.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"4", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é›²æ—å¤å‘", pack:"å››å…©è£", price:200, note:"æ­£å¸¸ç™¼é…µï¼›æ¡æ¯”è³½èŒ¶çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["daily","gift"], flavor:["roast"]}},
        {type:"tea", storeNo:"4A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily"], flavor:["fresh"]},
          variants:[
            {id:"4A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:70, note:"å¹³å‡ä¸€åŒ…14å…ƒ"},
            {id:"4A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:400, note:"å¹³å‡ä¸€åŒ…13.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"5", name:"æ©Ÿæ¡ç´…èŒ¶ï¼ˆç¢èŒ¶ï¼‰", origin:"å—æŠ•ç«¹å±±", pack:"å››å…©è£", price:200, note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ï¼›é¾çœ¼ä¹¾é¦™ã€‚", tags:{use:["self","gift"], feel:["bold","balanced"], budget:["daily","gift"], flavor:["roast","sweet"]}},
        {type:"tea", storeNo:"6", name:"é¦™ç‰‡ï¼ˆèŒ‰è‰èŠ±èŒ¶ï¼‰", origin:"å—æŠ•", pack:"å››å…©è£", price:300, note:"è¼•ç™¼é…µï¼›è¼•çƒ˜ç„™è–°èŒ‰è‰èŠ±ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]}},
        {type:"tea", storeNo:"7", name:"æ‹›ç‰Œæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶19è™Ÿç¢§ç‰ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift"], flavor:["fresh"]}},
        {type:"tea", storeNo:"7A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]},
          variants:[
            {id:"7A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:80, note:"å¹³å‡ä¸€åŒ…16å…ƒ"},
            {id:"7A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:540, note:"å¹³å‡ä¸€åŒ…18å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"8", name:"ç´…çƒé¾ï¼ˆçƒç‹€çƒå‹ç´…èŒ¶ï¼‰", origin:"å°æ±é¹¿é‡", pack:"å››å…©è£", price:400, note:"æ˜é¡¯ç³–é¦™ï¼›æ°´ç”œã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["gift","flavor"], flavor:["sweet"]}},
        {type:"tea", storeNo:"8A", name:"ç´…çƒé¾ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["balanced"], budget:["gift","flavor"], flavor:["sweet"]},
          variants:[
            {id:"8A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:86, note:"å¹³å‡ä¸€åŒ…17.2å…ƒ"},
            {id:"8A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:610, note:"å¹³å‡ä¸€åŒ…20.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"9", name:"ç²¾ç·»çƒ˜ç„™æ©Ÿæ¡å››å­£æ˜¥", origin:"é¹¿è°·å°åŠå¤©", pack:"åŠæ–¤è£", price:800, note:"é‡ç™¼é…µï¼›é‡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["bold"], budget:["gift","flavor"], flavor:["roast"]}},
        {type:"tea", storeNo:"10", name:"é ‚ç´šæ©Ÿæ¡å››å­£æ˜¥ï¼ˆå°èŒ¶20è™Ÿè¿é¦™ï¼‰", origin:"æ¯”è³½èŒ¶é ­ç­‰çèŒ¶åœ’", pack:"åŠæ–¤è£", price:800, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh"]}},
        {type:"tea", storeNo:"10A", name:"æ©Ÿæ¡å››å­£æ˜¥ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["light","balanced"], budget:["daily","gift"], flavor:["fresh"]},
          variants:[
            {id:"10A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:84, note:"å¹³å‡ä¸€åŒ…16.8å…ƒ"},
            {id:"10A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:584, note:"å¹³å‡ä¸€åŒ…19.6å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"11", name:"æ‰‹æ¡çƒé¾èŒ¶", origin:"æ‹‰æ‹‰å±±ï¼å£«åŒªå±±", pack:"åŠæ–¤è£", price:800, note:"é‡ç™¼é…µï¼›è¼•çƒ˜ç„™ã€‚", tags:{use:["self","gift"], feel:["balanced","bold"], budget:["gift","flavor"], flavor:["roast"]}},
        {type:"tea", storeNo:"11A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["balanced"], budget:["gift","flavor"], flavor:["fresh"]},
          variants:[
            {id:"11A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:94, note:"å¹³å‡ä¸€åŒ…18.8å…ƒ"},
            {id:"11A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:680, note:"å¹³å‡ä¸€åŒ…22.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"12", name:"æ‰‹æ¡é‡‘è±èŒ¶", origin:"æ‰æ—æºªï¼é¹¿è°·é³³å‡°å±±", pack:"åŠæ–¤è£", price:1000, note:"è¼•æœé¦™ã€‚", tags:{use:["self","gift"], feel:["light","balanced"], budget:["gift","flavor"], flavor:["fresh","sweet"]}},
        {type:"tea", storeNo:"12A", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["light"], budget:["gift"], flavor:["fresh","sweet"]},
          variants:[
            {id:"12A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:100, note:"å¹³å‡ä¸€åŒ…20å…ƒ"},
            {id:"12A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:750, note:"å¹³å‡ä¸€åŒ…25å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"13", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶", origin:"é˜¿é‡Œå±±ï¼æ¢…å±±é¾ç›®æ¨“ï¼æµ·æ‹”1550m", pack:"å››å…©è£", price:600, note:"ä¸­é‡ç™¼é…µèŠ±æœé¦™ã€‚", tags:{use:["gift"], feel:["balanced","bold"], budget:["flavor","rare"], flavor:["sweet"]}},
        {type:"tea", storeNo:"13A", name:"é«˜å±±æ‰‹æ¡é‡‘è±èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["balanced"], budget:["flavor"], flavor:["sweet"]},
          variants:[
            {id:"13A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:114, note:"å¹³å‡ä¸€åŒ…22.8å…ƒ"},
            {id:"13A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:890, note:"å¹³å‡ä¸€åŒ…29.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"14", name:"æ‰‹æ¡é‡‘è±èŒ¶ï¼çƒé¾èŒ¶", origin:"é”é‚¦ï¼ç¾Šä»”ç£", pack:"å››å…©è£", price:800, note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["flavor"], flavor:["fresh","sweet"]}},
        {type:"tea", storeNo:"14A-1", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆç¾Šä»”ç£ï¼èŒ¶åŒ…ï¼‰", origin:"æ‰æ—æºªç¾Šä»”ç£", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["balanced"], budget:["flavor"], flavor:["fresh"]},
          variants:[
            {id:"14A1-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:140, note:"å¹³å‡ä¸€åŒ…28å…ƒ"},
            {id:"14A1-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1140, note:"å¹³å‡ä¸€åŒ…38å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"14A-2", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆé”é‚¦ï¼èŒ¶åŒ…ï¼‰", origin:"é˜¿é‡Œå±±é”é‚¦", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["self"], feel:["balanced"], budget:["flavor"], flavor:["fresh"]},
          variants:[
            {id:"14A2-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:140, note:"å¹³å‡ä¸€åŒ…28å…ƒ"},
            {id:"14A2-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1140, note:"å¹³å‡ä¸€åŒ…38å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"15", name:"ç„¦ç³–é¦™æ‰‹æ¡ç´…èŒ¶", origin:"å—æŠ•é­šæ± æ—¥æœˆæ½­", pack:"ä¸€é»äº”å…©è£", price:300, note:"æ—¥æœˆæ½­ç¨æœ‰ç„¦ç³–é¦™æ°£ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["gift","flavor"], flavor:["sweet"]}},
        {type:"tea", storeNo:"16", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼é‡‘è±èŒ¶", origin:"å¤šç”¢å€ï¼ˆä¿¡ç¾©/æ‰æ—æºª/æ¢¨å±±ç­‰ï¼‰", pack:"å››å…©è£", price:1000, note:"å¤šç¨®èŒ¶æ¬¾å¯æŒ‘é¸ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["flavor"], flavor:["fresh","sweet","roast"]}},
        {type:"tea", storeNo:"16A", name:"æ‰‹æ¡çƒé¾èŒ¶ï¼ˆæ–°ä½³é™½æ¢¨å±±ï¼èŒ¶åŒ…ï¼‰", origin:"æ–°ä½³é™½æ¢¨å±±èŒ¶", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["flavor","rare"], flavor:["fresh"]},
          variants:[
            {id:"16A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:160, note:"å¹³å‡ä¸€åŒ…32å…ƒ"},
            {id:"16A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1310, note:"å¹³å‡ä¸€åŒ…43.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"17", name:"æ¡‚èŠ±é‡‘è±ï¼ˆé™é‡ï¼‰", origin:"æ¢¨å±±", pack:"å››å…©è£", price:1000, note:"æ¡‚èŠ±è–°é¦™çƒ˜ç„™ï¼›èŒ¶æ°´æ¸…ç”œã€‚", tags:{use:["gift"], feel:["light","balanced"], budget:["flavor","rare"], flavor:["fresh","sweet"]}},
        {type:"tea", storeNo:"18", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±", pack:"å››å…©è£", price:1200, note:"æ­£å¸¸ç™¼é…µåé‡ï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced","bold"], budget:["rare"], flavor:["fresh"]}},
        {type:"tea", storeNo:"18A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"18A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:170, note:"å¹³å‡ä¸€åŒ…34å…ƒ"},
            {id:"18A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1450, note:"å¹³å‡ä¸€åŒ…48.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"19", name:"èŠ±æœèœœæ¾é¦™æ‰‹æ¡ç´…èŒ¶", origin:"æ¢¨å±±", pack:"äºŒå…©è£ï¼ˆå«è¢‹40gï¼‰", price:300, note:"å¤šå±¤æ¬¡å£æ„Ÿé¦™æ°£ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["flavor","rare"], flavor:["sweet"]}},
        {type:"tea", storeNo:"20", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç‰å±±å¡”å¡”åŠ ï¼å¤§ç¦¹å¶º", pack:"å››å…©è£", price:1400, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]}},
        {type:"tea", storeNo:"20A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"20A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:180, note:"å¹³å‡ä¸€åŒ…36å…ƒ"},
            {id:"20A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1520, note:"å¹³å‡ä¸€åŒ…50.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"21", name:"æ‰‹æ¡é’å¿ƒçƒé¾ç´…èŒ¶", origin:"å¤§ç¦¹å¶º", pack:"èŒ¶è‘‰æ·¨é‡30g", price:300, note:"ä¸€åŒ…300å…ƒã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["sweet"]}},
        {type:"tea", storeNo:"22", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ‰æ—æºªé¾é³³å³½ï¼ˆå¿˜æ†‚æ£®æ—ï¼‰", pack:"å››å…©è£", price:1600, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]}},
        {type:"tea", storeNo:"22A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"22A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:190, note:"å¹³å‡ä¸€åŒ…38å…ƒ"},
            {id:"22A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1660, note:"å¹³å‡ä¸€åŒ…55.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"23", name:"é«˜å±±èŒ¶ç‹æ¯”è³½èŒ¶ï¼ˆé ­ç­‰çèŒ¶åœ’ç²¾è£½èŒ¶ï¼‰", origin:"", pack:"äºŒå…©è£", price:900, note:"ä¸­é‡ç™¼é…µï¼›æ¯”è³½å‹ç²¾ç·»çƒ˜ç„™ã€‚", tags:{use:["gift"], feel:["bold"], budget:["rare"], flavor:["roast"]}},
        {type:"tea", storeNo:"23A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"23A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:190, note:"å¹³å‡ä¸€åŒ…38å…ƒ"},
            {id:"23A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:1660, note:"å¹³å‡ä¸€åŒ…55.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"24", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"æ¢¨å±±å¤©æ± ", pack:"äºŒå…©è£", price:1000, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›èŠ±æœé¦™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["sweet","fresh"]}},
        {type:"tea", storeNo:"24A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"24A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:246, note:"å¹³å‡ä¸€åŒ…49.2å…ƒ"},
            {id:"24A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:2200, note:"å¹³å‡ä¸€åŒ…73.4å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"25", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶", origin:"ç¦å£½å±±è¯å´—", pack:"äºŒå…©è£", price:1200, note:"æ­£å¸¸ç™¼é…µï¼›ç„¡çƒ˜ç„™ï¼›é«˜å±±æ°£å¼·ã€‚", tags:{use:["gift"], feel:["balanced","bold"], budget:["rare"], flavor:["fresh"]}},
        {type:"tea", storeNo:"25A", name:"æ­£æ˜¥çƒé¾ï¼æ­£å†¬çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"25A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:260, note:"å¹³å‡ä¸€åŒ…52å…ƒ"},
            {id:"25A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:2360, note:"å¹³å‡ä¸€åŒ…78.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"26", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶", origin:"ç¦å£½æ¢¨å±±", pack:"äºŒå…©è£", price:1500, note:"æ¡‚èŠ±è–°é¦™ï¼›æ­£å¸¸ç™¼é…µï¼›æ¡‚èŠ±é¦™æ°£å¼·ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh","sweet"]}},
        {type:"tea", storeNo:"26A", name:"ç¦å£½å±±æ¡‚èŠ±çƒé¾èŒ¶ï¼ˆèŒ¶åŒ…ï¼‰", origin:"", pack:"èŒ¶åŒ…", price:0, note:"å¯é¸å°åŒ…æˆ–å¤§åŒ…ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["fresh"]},
          variants:[
            {id:"26A-S", label:"ï¼ˆå°ï¼‰3gÃ—5åŒ…", pack:"å°çœŸç©ºè¢‹", price:260, note:"å¹³å‡ä¸€åŒ…52å…ƒ"},
            {id:"26A-L", label:"ï¼ˆå¤§ï¼‰5gÃ—30åŒ…", pack:"å¤§çœŸç©ºè¢‹", price:2360, note:"å¹³å‡ä¸€åŒ…78.8å…ƒ"}
          ]
        },
        {type:"tea", storeNo:"27", name:"é ‚ç´šå¼·èœœé¦™æ±æ–¹ç¾äºº", origin:"ç‰¹æ®ŠèŒ¶åœ’", pack:"èŒ¶è‘‰æ·¨é‡30g", price:1000, note:"æœ¬åº—æœ€é«˜ç­‰ç´šï¼›å¯åè¦†æ²–æ³¡çš†å¾ˆæœ‰èœœé¦™ã€‚", tags:{use:["gift"], feel:["balanced"], budget:["rare"], flavor:["sweet"]}},

        // èŒ¶åŒ…ï¼ˆå›ºå®šæ•´çµ„ï¼Œä¸é¡¯ç¤ºå–®åŒ…ï¼‰
        {type:"bag", storeNo:"28", name:"è£¸åŒ…çƒé¾èŒ¶åŒ…", origin:"", pack:"æ•´çµ„ 50 åŒ…", price:250, note:"åŠç”Ÿç†Ÿçƒ˜ç„™çƒé¾ç¢èŒ¶ï¼›å¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚", tags:{use:["self"], feel:["balanced"], budget:["daily"], flavor:["roast"]}},
        {type:"bag", storeNo:"29", name:"è£¸åŒ…èŒ‰è‰èŒ¶åŒ…", origin:"", pack:"æ•´çµ„ 50 åŒ…", price:250, note:"äº”åº¦è–°é¦™å·¥æ³•ï¼›å†·æ³¡ç†±æ³¡éƒ½æ¸…é¦™ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", tags:{use:["self"], feel:["light"], budget:["daily"], flavor:["fresh"]}},
        {type:"bag", storeNo:"30", name:"è£¸åŒ…å°ç£ç´…èŒ¶èŒ¶åŒ…", origin:"", pack:"æ•´çµ„ 50 åŒ…", price:250, note:"å¸¶é¾çœ¼ä¹¾é¦™ï¼›å¯ä¹…æµ¸æ³¡ä¸è‹¦æ¾€ã€‚", tags:{use:["self"], feel:["balanced"], budget:["daily"], flavor:["sweet"]}},
        {type:"bag", storeNo:"31", name:"è£¸åŒ…æ™®æ´±èŒ¶åŒ…", origin:"", pack:"æ•´çµ„ 50 åŒ…", price:350, note:"ä»¥æ™®æ´±è£½æ³•è£½æˆï¼›é¦™æ°£é†‡åšï¼›å¯ä¹…æ³¡ä¸è‹¦ã€‚", tags:{use:["self"], feel:["bold"], budget:["daily"], flavor:["roast"]}},
        {type:"bag", storeNo:"32", name:"é«˜å±±çƒé¾èŒ¶åŒ…ï¼ˆç›’è£ï¼‰", origin:"ä¸€æ–¤4000ä»¥ä¸Šé«˜å±±ç¢èŒ¶ï¼ˆçƒ˜ç„™å¾Œå†è£½ï¼‰", pack:"1 ç›’ 30 åŒ…", price:600, note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", tags:{use:["self","gift"], feel:["balanced"], budget:["gift"], flavor:["roast"]}},
        {type:"bag", storeNo:"33", name:"å°ç£ç´…èŒ¶åŒ…ï¼ˆç›’è£ï¼‰", origin:"æ—¥æœˆæ½­çƒé¾ç´…èŒ¶ï¼ˆç‰¹æ®Šå“ç¨€æœ‰ï¼‰", pack:"1 ç›’ 30 åŒ…", price:600, note:"æ¯åŒ…ç¨ç«‹åŒ…è£ï¼›å¯ä¹…æµ¸ä¸è‹¦æ¾€ã€‚", tags:{use:["self","gift"], feel:["balanced"], budget:["gift"], flavor:["sweet"]}},

        // ç‰¹è‰²å•†å“
        {type:"other", storeNo:"34", name:"èŒ¶è‘‰ç™½ç“œå­ï¼ˆåˆç„™ç„¡é¹½ï¼‰", origin:"é›²æ—è¥¿èº", pack:"200g çœŸç©ºåŒ…", price:200, note:"å…§æœ‰è„«æ°§åŠä¹¾ç‡¥åŠ‘ä¿é®®ï¼Œæ–°é®®å‘³å…’åƒå¾—å‡ºä¾†ã€‚", tags:{use:["self","gift"], feel:["pick"], budget:["daily","gift"], flavor:["pick"]}},
        {type:"other", storeNo:"35", name:"è‡ªå®¶åŸ¹è‚²é«˜å±±é¦™è‡", origin:"", pack:"å¯é¸è¦æ ¼", price:0, note:"ä¸ä½¿ç”¨äºŒæ°§åŒ–ç¡«è–°è£½ï¼›é¦™æ°£è¶³ï¼›ç‚’èœç…®æ¹¯çš†å®œã€‚", tags:{use:["self","gift"], feel:["pick"], budget:["daily","gift"], flavor:["pick"]},
          variants:[
            {id:"35-S", label:"å°åŒ… 30g", pack:"å°åŒ… 30g", price:200, note:"å°åŒ… 200 å…ƒ"},
            {id:"35-M", label:"ä¸­åŒ… 50g", pack:"ä¸­åŒ… 50g", price:300, note:"ä¸­åŒ… 300 å…ƒ"},
            {id:"35-L", label:"å¤§åŒ… 150g", pack:"å¤§åŒ… 150g", price:900, note:"å¤§åŒ… 900 å…ƒ"}
          ]
        },
        {type:"other", storeNo:"36", name:"è‡ªå®¶æœåœ’æ¡æ”¶ç™¾èŠ±èœœï¼ˆé™é‡ï¼‰", origin:"è‡ªå®¶æœ‰æ©Ÿç„¡è—¥æœåœ’", pack:"1 ç“¶", price:2000, note:"é‡ç”Ÿèœœèœ‚æ”¶é›†è€Œä¾†ï¼›ç¶œåˆèŠ±æœèœœå¸¶èŠ±é¦™ã€‚", tags:{use:["self","gift"], feel:["pick"], budget:["gift","flavor","rare"], flavor:["sweet"]}},
        {type:"other", storeNo:"37", name:"100% å°ç£èŒ¶ç±½æ²¹ï¼ˆå†·å£“ï¼‰", origin:"è‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½å£“æ¦¨", pack:"å…§å®¹è¶³é‡ä¸€æ–¤ï¼ˆå«ç½é‡ 850gï¼‰", price:1200, note:"èµ·ç…™é»é«˜å¯ç‚’èœï¼›è€ä¸€è¼©è­·æ‰‹è­·è†šè–å“ã€‚", tags:{use:["self","gift"], feel:["pick"], budget:["gift"], flavor:["pick"]}},
        {type:"other", storeNo:"38", name:"æ¼¢æ–¹é™³çš®æ¢…é†¬", origin:"é™³çš®ï¼‹å˜‰ç¾©æ¢…å±±æå­ç­‰", pack:"å…§å®¹è¶³é‡ 900g", price:900, note:"å¯ç¨€é‡‹èª¿é£²ä¹Ÿå¯å…¥èœï¼›ç‰¹è‰²å£æ„Ÿã€‚", tags:{use:["self","gift"], feel:["pick"], budget:["daily","gift"], flavor:["pick"]}},
        {type:"other", storeNo:"39", name:"100% å°ç£èŒ¶ç±½ç²‰ï¼ˆå¤©ç„¶æ¸…æ½”ï¼‰", origin:"è‡ªå®¶èŒ¶æ¨¹èŒ¶ç±½æ¦¨æ²¹å¾Œè£½", pack:"1 å…¬æ–¤", price:400, note:"å¤©ç„¶çš‚ç´ ç„¡æ¯’å»æ²¹ä¸å‚·æ‰‹ï¼›æ´—ç¢—/å¥¶ç“¶/æ²¹æ¼¬ï¼›ä¹Ÿå¯æ´—é«®ï¼ˆç„¡æŸ“é«®ï¼‰ã€‚", tags:{use:["self"], feel:["pick"], budget:["daily"], flavor:["pick"]}},
      ],

      otherPickCount: 2,
    };
  </script>

  <div class="cartbar">
    <div class="cartinner">
      <div class="cartleft">
        <span class="cartcount" id="cartCount">ğŸ›’ å°šæœªé¸æ“‡å•†å“</span>
        <span class="cartitems" id="cartItems"></span>
      </div>
      <div class="row">
        <button class="btn" id="btnCatalog">å•†å“ç›®éŒ„</button>
        <button class="btn" id="btnCart">æŸ¥çœ‹ï¼ä¿®æ”¹</button>
        <button class="btn btnPri" id="btnMsg">è¤‡è£½ä¸‹å–®å…§å®¹</button>
      </div>
    </div>
  </div>

  <div class="overlay" id="overlay"></div>
  <div class="drawer" id="cartDrawer">
    <div class="drawerHd">
      <div class="row" style="justify-content:space-between">
        <div>
          <p class="title">è³¼ç‰©è»Š</p>
          <p class="sub">è¦æ ¼å·²å›ºå®šï¼ˆç…§ç›®éŒ„ï¼‰ï¼Œæ‚¨åªè¦é¸æ•¸é‡ã€‚</p>
        </div>
        <button class="btn" id="btnClose">é—œé–‰</button>
      </div>
    </div>
    <div class="drawerBody" id="cartBody"></div>
  </div>

  <div class="wrap">
    <div class="hero card">
      <div class="heroImg" id="heroImg"></div>
      <div class="heroBody">
        <h1 id="heroTitle"></h1>
        <p class="lead" id="heroText"></p>
        <div class="notice" id="noSample"></div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="cardHd">
          <p class="title">é–‹å§‹é¸æ“‡</p>
          <p class="sub">é¸å®Œå°±æœƒç›´æ¥æ¨è–¦ï¼Œæ‚¨ä¹Ÿå¯ä»¥éš¨æ™‚ä¿®æ”¹ã€‚</p>
        </div>
        <div class="cardBd" id="quiz"></div>
      </div>

      <div class="card">
        <div class="cardHd">
          <p class="title">æ¨è–¦çµæœ</p>
          <p class="sub">æœƒé¡¯ç¤ºã€Œåº—è™Ÿï¼ˆç›®éŒ„ç·¨è™Ÿï¼‰ã€ã€ç”¢åœ°ã€è¦æ ¼èˆ‡åƒ¹æ ¼ã€‚</p>
        </div>
        <div class="cardBd">
          <div class="result" id="results"></div>
          <div class="footnote" id="unitNote"></div>
          <div class="footnote" id="imgNote"></div>
        </div>
      </div>
    </div>

    <div class="card" style="margin-top:12px" id="catalogCard">
      <div class="cardHd">
        <div class="row" style="justify-content:space-between">
          <div>
            <p class="title">å•†å“ç›®éŒ„ï¼ˆå®Œæ•´ï¼‰</p>
            <p class="sub">å¯ç›´æ¥çœ‹å…¨éƒ¨å“é …ã€åƒ¹æ ¼èˆ‡è¦æ ¼ã€‚</p>
          </div>
          <button class="btn" id="btnTop">å›åˆ°ä¸Šæ–¹</button>
        </div>
      </div>
      <div class="cardBd">
        <div class="catalog" id="catalog"></div>
      </div>
    </div>

    <p class="footnote" style="margin-top:14px">
      Â© <span id="brand"></span>ã€€
      <span class="muted">ï½œæœ¬é¸èŒ¶å™¨ç‚ºæœ¬é‹ªè‡ªç”¨å·¥å…·ï¼Œè«‹å‹¿æœªç¶“æˆæ¬Šè½‰è¼‰ã€ä»¿è£½æˆ–æŒªä½œä»–ç”¨ã€‚</span>
    </p>
  </div>

  <script>
    // ========= å°å·¥å…· =========
    const $ = (id)=>document.getElementById(id);
    const LS_KEY = "xiaowen_tea_cart_v3";
    const LS_ANS = "xiaowen_tea_answers_v3";

    const state = {
      answers: JSON.parse(localStorage.getItem(LS_ANS) || "{}"),
      cart: JSON.parse(localStorage.getItem(LS_KEY) || "[]"),
    };

    function save(){
      localStorage.setItem(LS_KEY, JSON.stringify(state.cart));
      localStorage.setItem(LS_ANS, JSON.stringify(state.answers));
    }

    function money(n){
      const v = Number(n || 0);
      return "NT$ " + v.toLocaleString("zh-Hant-TW");
    }

    // ======= SVG coverï¼ˆç„¡å¤–éƒ¨åœ–ï¼Œä¸æœƒä¾µæ¬Šï¼‰=======
    function svgDataUri(svg){
      return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
    }
    function productCover(p){
      const n = (p.name || "");
      const isBag = p.type==="bag" || n.includes("èŒ¶åŒ…");
      const isOther = p.type==="other";

      const bg1 = "#f4efe6";
      const bg2 = "#e7efe9";
      const accent = "#2f4f3a";

      let icon = "tea";
      if(isOther){
        if(n.includes("é¦™è‡")) icon="mushroom";
        else if(n.includes("èŠ±èœœ") || n.includes("èœ‚")) icon="honey";
        else if(n.includes("èŒ¶ç±½æ²¹")) icon="oil";
        else if(n.includes("æ¢…é†¬") || n.includes("é†¬")) icon="sauce";
        else if(n.includes("èŒ¶ç±½ç²‰") || n.includes("æ¸…æ½”")) icon="powder";
        else if(n.includes("ç“œå­")) icon="seed";
        else icon="gift";
      }else{
        if(isBag) icon="bag";
        else if(n.includes("ç´…èŒ¶")) icon="blacktea";
        else if(n.includes("æ±æ–¹ç¾äºº")) icon="oriental";
        else if(n.includes("çƒ˜ç„™") || n.includes("ç„™")) icon="roast";
        else icon="tea";
      }

      const icons = {
        tea: `
          <path d="M48 64c0 14 12 24 26 24h44c14 0 26-10 26-24V44H48v20z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M144 48h10c10 0 18 8 18 18s-8 18-18 18h-10" fill="none" stroke="${accent}" stroke-width="4" stroke-linecap="round"/>
          <path d="M64 110h96" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".5"/>
          <path d="M80 28c-8 8-8 16 0 24" fill="none" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".6"/>
          <path d="M108 24c-10 10-10 20 0 30" fill="none" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".5"/>
        `,
        blacktea: `
          <path d="M48 64c0 14 12 24 26 24h44c14 0 26-10 26-24V44H48v20z" fill="#f2e6d6" stroke="${accent}" stroke-width="3"/>
          <path d="M60 48h72v16c0 8-8 14-18 14H78c-10 0-18-6-18-14V48z" fill="#caa06a" opacity=".55"/>
          <path d="M144 48h10c10 0 18 8 18 18s-8 18-18 18h-10" fill="none" stroke="${accent}" stroke-width="4" stroke-linecap="round"/>
          <path d="M90 28c-8 8-8 16 0 24" fill="none" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".55"/>
        `,
        roast: `
          <path d="M48 64c0 14 12 24 26 24h44c14 0 26-10 26-24V44H48v20z" fill="#efe6dc" stroke="${accent}" stroke-width="3"/>
          <path d="M60 48h72v16c0 8-8 14-18 14H78c-10 0-18-6-18-14V48z" fill="#b47a3a" opacity=".35"/>
          <path d="M144 48h10c10 0 18 8 18 18s-8 18-18 18h-10" fill="none" stroke="${accent}" stroke-width="4" stroke-linecap="round"/>
          <circle cx="92" cy="38" r="6" fill="#b47a3a" opacity=".35"/>
          <circle cx="112" cy="36" r="4" fill="#b47a3a" opacity=".25"/>
        `,
        oriental: `
          <path d="M56 98c12-26 30-44 68-52 30-6 44 10 44 26 0 18-18 30-40 32-40 3-58 0-72-6z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M78 82c10-16 28-26 54-32" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".55"/>
          <path d="M98 88c10-12 24-18 44-22" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".45"/>
          <circle cx="150" cy="54" r="10" fill="#f2d3a6" opacity=".7"/>
        `,
        bag: `
          <path d="M72 42h72l-8 96H80l-8-96z" fill="${bg2}" stroke="${accent}" stroke-width="3" />
          <path d="M88 42c0-14 12-26 26-26s26 12 26 26" fill="none" stroke="${accent}" stroke-width="3" stroke-linecap="round"/>
          <path d="M92 70h56" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".45"/>
          <path d="M92 88h44" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".35"/>
          <path d="M92 106h50" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".25"/>
        `,
        mushroom: `
          <path d="M96 38c-30 0-56 14-60 36h120c-4-22-30-36-60-36z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M78 74v30c0 16 8 28 18 28h0c10 0 18-12 18-28V74" fill="#fff" stroke="${accent}" stroke-width="3"/>
          <circle cx="72" cy="62" r="4" fill="${accent}" opacity=".18"/>
          <circle cx="120" cy="60" r="5" fill="${accent}" opacity=".14"/>
        `,
        honey: `
          <path d="M78 44h36l10 16v62c0 10-8 18-18 18H86c-10 0-18-8-18-18V60l10-16z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M86 88c8 10 28 10 36 0v18c-8 10-28 10-36 0V88z" fill="#f2d3a6" opacity=".8"/>
          <path d="M92 36h24" stroke="${accent}" stroke-width="6" stroke-linecap="round"/>
        `,
        oil: `
          <path d="M90 22h12l10 18-10 12H90L80 40 90 22z" fill="#fff" stroke="${accent}" stroke-width="3"/>
          <path d="M78 54h36v70c0 10-8 18-18 18s-18-8-18-18V54z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M82 94c10 10 18 12 28 0v22c-10 10-18 10-28 0V94z" fill="#d7f0d9" opacity=".8"/>
        `,
        sauce: `
          <path d="M82 22h28l6 18H76l6-18z" fill="#fff" stroke="${accent}" stroke-width="3"/>
          <path d="M76 40h40v72c0 18-10 30-20 30s-20-12-20-30V40z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M84 92c10 10 18 10 24 0v18c-6 12-18 12-24 0V92z" fill="#caa06a" opacity=".65"/>
        `,
        powder: `
          <rect x="66" y="34" width="60" height="96" rx="14" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M76 54h40" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".4"/>
          <path d="M80 90c10-14 22-14 32 0" fill="none" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".35"/>
          <path d="M84 112h24" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".25"/>
          <circle cx="96" cy="78" r="10" fill="#d7f0d9" opacity=".8"/>
        `,
        seed: `
          <path d="M70 84c0-24 14-44 26-44s26 20 26 44c0 28-14 46-26 46S70 112 70 84z" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M96 44v82" stroke="${accent}" stroke-width="3" stroke-linecap="round" opacity=".35"/>
        `,
        gift: `
          <rect x="58" y="62" width="76" height="62" rx="12" fill="${bg2}" stroke="${accent}" stroke-width="3"/>
          <path d="M58 80h76" stroke="${accent}" stroke-width="3"/>
          <path d="M96 62v62" stroke="${accent}" stroke-width="3"/>
          <path d="M78 58c-6 0-10-6-10-12 0-6 4-10 10-10 10 0 18 12 18 22H78z" fill="#fff" stroke="${accent}" stroke-width="3"/>
          <path d="M114 58c6 0 10-6 10-12 0-6-4-10-10-10-10 0-18 12-18 22h18z" fill="#fff" stroke="${accent}" stroke-width="3"/>
        `
      };

      const svg = `
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="450" viewBox="0 0 200 120">
        <defs>
          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="${bg1}"/>
            <stop offset="1" stop-color="${bg2}"/>
          </linearGradient>
          <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="3" stdDeviation="3" flood-color="#000" flood-opacity=".08"/>
          </filter>
        </defs>
        <rect x="0" y="0" width="200" height="120" fill="url(#g)"/>
        <circle cx="26" cy="22" r="16" fill="rgba(47,79,58,.10)"/>
        <circle cx="174" cy="34" r="20" fill="rgba(47,79,58,.08)"/>
        <g filter="url(#s)">
          ${icons[icon] || icons.tea}
        </g>
      </svg>`;
      return svgDataUri(svg);
    }

    function heroSetup(){
      $("heroTitle").textContent = CONFIG.heroTitle;
      $("heroText").textContent = CONFIG.heroText;
      $("noSample").textContent = CONFIG.noSampleNotice;
      $("unitNote").textContent = CONFIG.unitNote;
      $("imgNote").textContent = CONFIG.imageNote;
      $("brand").textContent = CONFIG.brandTitle;

      $("heroImg").style.backgroundImage =
        "linear-gradient(135deg, rgba(47,79,58,.14), rgba(0,0,0,0)), radial-gradient(circle at 30% 20%, rgba(255,255,255,.9), rgba(255,255,255,0))";
    }

    function labelOf(key, value){
      const q = CONFIG.questions.find(x=>x.key===key);
      if(!q) return value;
      const opt = q.options.find(o=>o.value===value);
      if(!opt) return value;
      return String(opt.label).replace(/\s+/g, " ").trim();
    }

    function shouldShowTeaQs(){
      const cat = state.answers.category;
      return cat === "tea" || cat === "pick" || !cat;
    }

    function renderQuiz(){
      const root = $("quiz");
      root.innerHTML = "";

      CONFIG.questions.forEach((q)=>{
        if(["feel","budget","flavor"].includes(q.key) && !shouldShowTeaQs()){
          return; // Q1 é¸ç‰¹è‰²å•†å“ -> æ”¶èµ· Q3-5
        }

        const box = document.createElement("div");
        box.style.marginBottom = "14px";

        const head = document.createElement("div");
        head.className="row";
        head.style.justifyContent="space-between";

        const qTitle = document.createElement("p");
        qTitle.className="q";
        qTitle.textContent = q.title;

        const chosen = document.createElement("span");
        chosen.className="pill";
        chosen.textContent = state.answers[q.key] ? `å·²é¸ï¼š${labelOf(q.key, state.answers[q.key])}` : "å°šæœªé¸";

        head.appendChild(qTitle);
        head.appendChild(chosen);

        const opts = document.createElement("div");
        opts.className="options";

        q.options.forEach(opt=>{
          const btn = document.createElement("button");
          btn.type="button";
          btn.className="opt";
          if(state.answers[q.key] === opt.value) btn.classList.add("active");
          btn.innerHTML = `<div>${opt.label}</div><small>${opt.note || ""}</small>`;
          btn.onclick = ()=>{
            state.answers[q.key] = opt.value;
            // è‹¥æ”¹æˆç‰¹è‰²å•†å“ï¼Œè‡ªå‹•æ¸…æ‰èŒ¶çš„ Q3-5 é¿å…æ€ª
            if(q.key==="category" && opt.value==="other"){
              delete state.answers.feel;
              delete state.answers.budget;
              delete state.answers.flavor;
            }
            save();
            renderQuiz();
            renderResults();
          };
          opts.appendChild(btn);
        });

        box.appendChild(head);
        box.appendChild(opts);
        root.appendChild(box);
      });

      const actions = document.createElement("div");
      actions.className="row";
      actions.innerHTML = `
        <button class="btn" id="btnReset">æ¸…ç©ºé¸æ“‡</button>
        <button class="btn" id="btnResetCart">æ¸…ç©ºè³¼ç‰©è»Š</button>
      `;
      root.appendChild(actions);

      $("btnReset").onclick = ()=>{
        state.answers = {};
        save();
        renderQuiz();
        renderResults();
      };
      $("btnResetCart").onclick = ()=>{
        state.cart = [];
        save();
        renderCartBar();
        renderCartDrawer();
      };
    }

    function matchScore(p){
      const cat = state.answers.category;
      let typeWanted = cat === "pick" ? "tea" : cat;
      if(!typeWanted) return 0;

      // category mapping
      if(typeWanted === "tea"){
        if(p.type !== "tea") return -999;
      }else if(typeWanted === "other"){
        if(p.type !== "other") return -999;
      }

      let score = 0;
      const use = state.answers.use;
      const feel = state.answers.feel;
      const budget = state.answers.budget;
      const flavor = state.answers.flavor;

      if(use && p.tags?.use?.includes(use)) score += 3;

      if(shouldShowTeaQs()){
        if(feel && (feel==="pick" ? true : p.tags?.feel?.includes(feel))) score += 3;
        if(budget && p.tags?.budget?.includes(budget)) score += 2;
        if(flavor && (flavor==="pick" ? true : p.tags?.flavor?.includes(flavor))) score += 2;
      }
      return score;
    }

    function pickProducts(){
      const cat = state.answers.category;
      if(!cat) return [];

      if(cat === "other"){
        const others = CONFIG.products.filter(p=>p.type==="other")
          .sort((a,b)=>matchScore(b)-matchScore(a));
        return others.slice(0, CONFIG.otherPickCount);
      }

      // tea or pick
      const teas = CONFIG.products.filter(p=>p.type==="tea")
        .sort((a,b)=>matchScore(b)-matchScore(a));
      return teas.slice(0,3);
    }

    function defaultVariant(p){
      if(!p.variants?.length) return null;
      return p.variants[0];
    }

    function renderVariantButtons(container, p, selectedId, onPick){
      container.innerHTML = "";
      if(!p.variants?.length) return;

      const wrap = document.createElement("div");
      wrap.className = "variantWrap";
      p.variants.forEach(v=>{
        const b = document.createElement("button");
        b.type="button";
        b.className = "vBtn" + (selectedId===v.id ? " active" : "");
        b.textContent = `${v.label}ï½œ${money(v.price)}`;
        b.onclick = ()=> onPick(v.id);
        wrap.appendChild(b);
      });
      container.appendChild(wrap);
    }

    function productPriceLabel(p, v){
      if(v) return money(v.price);
      if(p.price) return money(p.price);
      return "â€”";
    }

    function renderResults(){
      const root = $("results");
      root.innerHTML = "";

      const picked = pickProducts();
      if(picked.length === 0){
        root.innerHTML = `<p class="muted">è«‹å…ˆå®Œæˆå·¦å´é¸æ“‡ï¼Œé€™è£¡å°±æœƒå‡ºç¾æ¨è–¦çµæœã€‚</p>`;
        return;
      }

      picked.forEach((p, i)=>{
        const card = document.createElement("div");
        card.className="rCard";

        const img = document.createElement("div");
        img.className="rImg";
        img.style.backgroundImage = `url("${productCover(p)}")`;

        const bd = document.createElement("div");
        bd.className="rBd";

        const rank = (i===0 ? "â­ ä¸»æ¨" : "â—»ï¸ ä¹Ÿå¾ˆé©åˆæ‚¨");
        const v0 = defaultVariant(p);
        let pickedVariantId = v0 ? v0.id : null;

        const meta = ()=>{
          const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
          const pack = v?.pack || p.pack || "";
          const price = productPriceLabel(p, v);
          const origin = p.origin || "";
          const note = v?.note ? `ï½œ${v.note}` : "";
          return `
            <p class="rMeta">åº—è™Ÿï¼š<b>${p.storeNo}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${origin || "â€”"}</b></p>
            <p class="rMeta">è¦æ ¼ï¼š<b>${pack || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${price}</b>${note}</p>
          `;
        };

        bd.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div style="min-width:0">
              <div class="pill">${rank}</div>
              <h3 class="rName">${p.name}</h3>
              <div class="metaBox">${meta()}</div>
              <div class="variantBox"></div>
            </div>
            <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
          </div>
          <ul class="why">
            ${p.note ? `<li>${p.note}</li>` : ""}
          </ul>
        `;

        const vBox = bd.querySelector(".variantBox");
        if(p.variants?.length){
          renderVariantButtons(vBox, p, pickedVariantId, (id)=>{
            pickedVariantId = id;
            bd.querySelector(".metaBox").innerHTML = meta();
            renderVariantButtons(vBox, p, pickedVariantId, arguments.callee);
          });
        }

        bd.querySelector("button").onclick = ()=>{
          const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
          addToCart(p, v);
          openCart();
        };

        card.appendChild(img);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    function addToCart(p, v){
      const key = v ? `${p.storeNo}__${v.id}` : `${p.storeNo}`;
      const existing = state.cart.find(x=>x.key===key);
      const pack = v?.pack || p.pack || "";
      const price = v?.price ?? p.price ?? 0;

      if(existing) existing.qty += 1;
      else state.cart.push({
        key,
        storeNo: p.storeNo,
        name: p.name,
        origin: p.origin || "",
        pack,
        price,
        qty: 1
      });
      save();
      renderCartBar();
      renderCartDrawer();
    }

    function renderCartBar(){
      const count = state.cart.reduce((s,x)=>s+x.qty,0);
      if(count===0){
        $("cartCount").textContent = "ğŸ›’ å°šæœªé¸æ“‡å•†å“";
        $("cartItems").textContent = "";
      }else{
        $("cartCount").textContent = `ğŸ›’ å·²é¸ ${count} ä»¶`;
        const names = state.cart.map(x=>{
          const pack = x.pack ? `ï¼ˆ${x.pack}ï¼‰` : "";
          return `${x.name}${pack} Ã—${x.qty}`;
        }).join("ã€");
        $("cartItems").textContent = names;
      }
    }

    function renderCartDrawer(){
      const body = $("cartBody");
      body.innerHTML = "";

      if(state.cart.length===0){
        body.innerHTML = `<p class="muted">ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚æ‚¨å¯ä»¥å…ˆå®Œæˆé¸æ“‡ï¼Œå°‡å–œæ­¡çš„å“é …åŠ å…¥è³¼ç‰©è»Šã€‚</p>`;
        return;
      }

      let subtotal = 0;

      state.cart.forEach((x)=>{
        subtotal += (Number(x.price||0) * Number(x.qty||0));

        const div = document.createElement("div");
        div.className="item";
        div.style.marginBottom="10px";
        div.innerHTML = `
          <div class="itemTop">
            <div style="min-width:0">
              <p class="itemName">åº—è™Ÿ ${x.storeNo}ï½œ${x.name}</p>
              <p class="itemMeta">è¦æ ¼ï¼š<b>${x.pack || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${money(x.price)}</b></p>
            </div>
            <div class="qty">
              <button aria-label="minus">ï¼</button>
              <span>${x.qty}</span>
              <button aria-label="plus">ï¼‹</button>
            </div>
          </div>
          <div class="hr"></div>
          <div class="row" style="justify-content:space-between">
            <button class="btn danger">ç§»é™¤</button>
            <span class="pill">å°è¨ˆï¼š${money((x.price||0) * x.qty)}</span>
          </div>
        `;
        const [minus, plus] = div.querySelectorAll(".qty button");
        const remove = div.querySelector(".danger");
        minus.onclick = ()=>{
          x.qty = Math.max(1, x.qty-1);
          save(); renderCartBar(); renderCartDrawer();
        };
        plus.onclick = ()=>{
          x.qty += 1;
          save(); renderCartBar(); renderCartDrawer();
        };
        remove.onclick = ()=>{
          state.cart = state.cart.filter(t=>t.key!==x.key);
          save(); renderCartBar(); renderCartDrawer();
        };
        body.appendChild(div);
      });

      body.insertAdjacentHTML("beforeend", `
        <div class="hr"></div>
        <div class="row" style="justify-content:space-between">
          <b>å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š${money(subtotal)}</b>
          <button class="btn btnPri" id="btnCopy2">è¤‡è£½ä¸‹å–®å…§å®¹</button>
        </div>
        <p class="footnote">ä¸‹å–®å¾Œå†ç”±æˆ‘å€‘èˆ‡æ‚¨ç¢ºèªå¯„é€æ–¹å¼ï¼é‹è²»ã€‚</p>
      `);
      $("btnCopy2").onclick = ()=> copyOrder();
    }

    function buildOrderText(){
      const lines = [];
      lines.push("ä½ å¥½ï¼Œæˆ‘è¦ä¸‹å–®ä»¥ä¸‹å•†å“ï¼š");
      lines.push("");
      state.cart.forEach(x=>{
        lines.push(`ãƒ»åº—è™Ÿ ${x.storeNo}ï½œ${x.name}`);
        lines.push(`  è¦æ ¼ï¼š${x.pack || "â€”"}ï½œå–®åƒ¹ï¼š${money(x.price)}ï½œæ•¸é‡ï¼š${x.qty}`);
      });
      const subtotal = state.cart.reduce((s,x)=>s+(Number(x.price||0)*Number(x.qty||0)),0);
      lines.push("");
      lines.push(`å°è¨ˆï¼ˆä¸å«é‹ï¼‰ï¼š${money(subtotal)}`);
      lines.push("");
      lines.push("è«‹å”åŠ©ç¢ºèªå¯„é€æ–¹å¼èˆ‡é‹è²»ï¼Œè¬è¬ã€‚");
      return lines.join("\n");
    }

    function copyOrder(){
      if(!state.cart.length){
        alert("ç›®å‰è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼Œè«‹å…ˆåŠ å…¥å•†å“ã€‚");
        return;
      }
      const text = buildOrderText();
      navigator.clipboard?.writeText(text);
      alert("å·²è¤‡è£½ä¸‹å–®å…§å®¹åˆ°å‰ªè²¼ç°¿ã€‚\n\n" + text);
    }

    function openMessengerOrCopy(){
      if(CONFIG.messengerUrl){
        // è‹¥ä½ ä¹‹å¾Œå¡«äº† m.me/xxxï¼šå°±ç›´æ¥é–‹ç²‰å°ˆï¼Œå…§å®¹ä»æœƒè¤‡è£½
        copyOrder();
        window.open(CONFIG.messengerUrl, "_blank");
      }else{
        copyOrder();
      }
    }

    function openCart(){
      $("overlay").classList.add("open");
      $("cartDrawer").classList.add("open");
      renderCartDrawer();
    }
    function closeCart(){
      $("overlay").classList.remove("open");
      $("cartDrawer").classList.remove("open");
    }

    function renderCatalog(){
      const root = $("catalog");
      root.innerHTML = "";

      // æ’åºï¼šå…ˆèŒ¶ï¼Œå†èŒ¶åŒ…ï¼Œå†å…¶ä»–ï¼›æ¯çµ„æŒ‰åº—è™Ÿï¼ˆå­—ä¸²ï¼‰æ’åº
      const orderType = (t)=> t==="tea" ? 1 : (t==="bag" ? 2 : 3);
      const list = [...CONFIG.products].sort((a,b)=>{
        const ta = orderType(a.type), tb = orderType(b.type);
        if(ta!==tb) return ta-tb;
        return String(a.storeNo).localeCompare(String(b.storeNo), "zh-Hant", {numeric:true});
      });

      list.forEach(p=>{
        const card = document.createElement("div");
        card.className = "pCard";

        const cover = document.createElement("div");
        cover.className = "pCover";
        cover.style.backgroundImage = `url("${productCover(p)}")`;

        const bd = document.createElement("div");
        bd.className = "pBd";

        const v0 = defaultVariant(p);
        let pickedVariantId = v0 ? v0.id : null;

        const meta = ()=>{
          const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
          const pack = v?.pack || p.pack || "";
          const price = productPriceLabel(p, v);
          const note = v?.note ? `ï½œ${v.note}` : "";
          return `
            <p class="pMeta">åº—è™Ÿï¼š<b>${p.storeNo}</b> ï½œ ç”¢åœ°/ç­‰ç´šï¼š<b>${p.origin || "â€”"}</b></p>
            <p class="pMeta">è¦æ ¼ï¼š<b>${pack || "â€”"}</b> ï½œ åƒ¹æ ¼ï¼š<b>${price}</b>${note}</p>
            ${p.note ? `<p class="pMeta">èªªæ˜ï¼š${p.note}</p>` : ""}
          `;
        };

        bd.innerHTML = `
          <h3 class="pName">${p.name}</h3>
          <div class="metaBox">${meta()}</div>
          <div class="variantBox"></div>
          <div class="pActions">
            <button class="btn btnPri">ï¼‹åŠ å…¥è³¼ç‰©è»Š</button>
          </div>
        `;

        const vBox = bd.querySelector(".variantBox");
        if(p.variants?.length){
          const rerender = (id)=>{
            pickedVariantId = id;
            bd.querySelector(".metaBox").innerHTML = meta();
            renderVariantButtons(vBox, p, pickedVariantId, rerender);
          };
          renderVariantButtons(vBox, p, pickedVariantId, rerender);
        }

        bd.querySelector(".btnPri").onclick = ()=>{
          const v = p.variants?.find(x=>x.id===pickedVariantId) || null;
          addToCart(p, v);
          openCart();
        };

        card.appendChild(cover);
        card.appendChild(bd);
        root.appendChild(card);
      });
    }

    function wireUI(){
      $("btnCart").onclick = ()=> openCart();
      $("btnClose").onclick = ()=> closeCart();
      $("overlay").onclick = ()=> closeCart();

      $("btnMsg").onclick = ()=> openMessengerOrCopy();

      $("btnCatalog").onclick = ()=>{
        document.getElementById("catalogCard").scrollIntoView({behavior:"smooth"});
      };
      $("btnTop").onclick = ()=>{
        window.scrollTo({top:0, behavior:"smooth"});
      };
    }

    // åˆå§‹åŒ–
    heroSetup();
    wireUI();
    renderQuiz();
    renderResults();
    renderCartBar();
    renderCatalog();
  </script>
</body>
</html>
